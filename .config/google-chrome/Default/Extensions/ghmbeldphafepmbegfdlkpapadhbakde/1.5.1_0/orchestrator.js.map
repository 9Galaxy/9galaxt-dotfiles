{"version":3,"file":"orchestrator.js","mappings":"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","sources":["webpack://proton-pass-extension/../../packages/pass/globals/browser.ts","webpack://proton-pass-extension/../../packages/pass/utils/logger/index.ts","webpack://proton-pass-extension/../../node_modules/core-js/internals/a-callable.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/an-object.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/array-includes.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/array-set-length.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/classof-raw.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/copy-constructor-properties.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/create-non-enumerable-property.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/create-property-descriptor.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/define-built-in-accessor.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/define-built-in.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/define-global-property.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/descriptors.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/document-all.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/document-create-element.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/engine-user-agent.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/engine-v8-version.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/enum-bug-keys.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/export.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/fails.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/function-bind-native.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/function-call.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/function-name.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/function-uncurry-this.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/get-built-in.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/get-method.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/global.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/has-own-property.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/hidden-keys.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/ie8-dom-define.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/indexed-object.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/inspect-source.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/internal-state.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-array.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-callable.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-forced.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-null-or-undefined.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-object.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-pure.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/is-symbol.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/length-of-array-like.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/make-built-in.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/math-trunc.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-define-property.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-get-own-property-names.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-is-prototype-of.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-keys-internal.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/object-property-is-enumerable.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/ordinary-to-primitive.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/own-keys.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/require-object-coercible.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/shared-key.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/shared-store.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/shared.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/symbol-constructor-detection.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-absolute-index.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-indexed-object.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-integer-or-infinity.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-length.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-object.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-primitive.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/to-property-key.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/try-to-string.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/uid.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/use-symbol-as-uid.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/weak-map-basic-detection.js","webpack://proton-pass-extension/../../node_modules/core-js/internals/well-known-symbol.js","webpack://proton-pass-extension/../../node_modules/core-js/modules/es.array.push.js","webpack://proton-pass-extension/../../node_modules/core-js/modules/web.url-search-params.size.js","webpack://proton-pass-extension/../../node_modules/lodash/_LazyWrapper.js","webpack://proton-pass-extension/../../node_modules/lodash/_LodashWrapper.js","webpack://proton-pass-extension/../../node_modules/lodash/_Symbol.js","webpack://proton-pass-extension/../../node_modules/lodash/_WeakMap.js","webpack://proton-pass-extension/../../node_modules/lodash/_apply.js","webpack://proton-pass-extension/../../node_modules/lodash/_arrayPush.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseCreate.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseFlatten.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseGetTag.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseIsArguments.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseIsNative.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseLodash.js","webpack://proton-pass-extension/../../node_modules/lodash/_baseSetToString.js","webpack://proton-pass-extension/../../node_modules/lodash/_copyArray.js","webpack://proton-pass-extension/../../node_modules/lodash/_coreJsData.js","webpack://proton-pass-extension/../../node_modules/lodash/_createFlow.js","webpack://proton-pass-extension/../../node_modules/lodash/_defineProperty.js","webpack://proton-pass-extension/../../node_modules/lodash/_flatRest.js","webpack://proton-pass-extension/../../node_modules/lodash/_freeGlobal.js","webpack://proton-pass-extension/../../node_modules/lodash/_getData.js","webpack://proton-pass-extension/../../node_modules/lodash/_getFuncName.js","webpack://proton-pass-extension/../../node_modules/lodash/_getNative.js","webpack://proton-pass-extension/../../node_modules/lodash/_getRawTag.js","webpack://proton-pass-extension/../../node_modules/lodash/_getValue.js","webpack://proton-pass-extension/../../node_modules/lodash/_isFlattenable.js","webpack://proton-pass-extension/../../node_modules/lodash/_isLaziable.js","webpack://proton-pass-extension/../../node_modules/lodash/_isMasked.js","webpack://proton-pass-extension/../../node_modules/lodash/_metaMap.js","webpack://proton-pass-extension/../../node_modules/lodash/_objectToString.js","webpack://proton-pass-extension/../../node_modules/lodash/_overRest.js","webpack://proton-pass-extension/../../node_modules/lodash/_realNames.js","webpack://proton-pass-extension/../../node_modules/lodash/_root.js","webpack://proton-pass-extension/../../node_modules/lodash/_setToString.js","webpack://proton-pass-extension/../../node_modules/lodash/_shortOut.js","webpack://proton-pass-extension/../../node_modules/lodash/_toSource.js","webpack://proton-pass-extension/../../node_modules/lodash/_wrapperClone.js","webpack://proton-pass-extension/../../node_modules/lodash/constant.js","webpack://proton-pass-extension/../../node_modules/lodash/flatten.js","webpack://proton-pass-extension/../../node_modules/lodash/flow.js","webpack://proton-pass-extension/../../node_modules/lodash/identity.js","webpack://proton-pass-extension/../../node_modules/lodash/isArguments.js","webpack://proton-pass-extension/../../node_modules/lodash/isArray.js","webpack://proton-pass-extension/../../node_modules/lodash/isFunction.js","webpack://proton-pass-extension/../../node_modules/lodash/isObject.js","webpack://proton-pass-extension/../../node_modules/lodash/isObjectLike.js","webpack://proton-pass-extension/../../node_modules/lodash/noop.js","webpack://proton-pass-extension/../../node_modules/lodash/wrapperLodash.js","webpack://proton-pass-extension/../../node_modules/loglevel/lib/loglevel.js","webpack://proton-pass-extension/../../node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack://proton-pass-extension/webpack/bootstrap","webpack://proton-pass-extension/webpack/runtime/compat get default export","webpack://proton-pass-extension/webpack/runtime/define property getters","webpack://proton-pass-extension/webpack/runtime/global","webpack://proton-pass-extension/webpack/runtime/hasOwnProperty shorthand","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/oneof.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/base64.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/assert.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/message-type.js","webpack://proton-pass-extension/../../node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js","webpack://proton-pass-extension/../../packages/pass/types/protobuf/item-v1.ts","webpack://proton-pass-extension/../../packages/pass/types/protobuf/vault-v1.ts","webpack://proton-pass-extension/../../packages/pass/types/worker/autosave.ts","webpack://proton-pass-extension/../../packages/pass/types/worker/messages.ts","webpack://proton-pass-extension/../../packages/pass/extension/message/send-message.ts","webpack://proton-pass-extension/../../packages/pass/fathom/protonpass-fathom/fathom.js","webpack://proton-pass-extension/../../packages/pass/fathom/protonpass-fathom/index.js","webpack://proton-pass-extension/./src/content/types/dropdown.ts","webpack://proton-pass-extension/./src/content/types/form.ts","webpack://proton-pass-extension/./src/content/constants.ts","webpack://proton-pass-extension/./src/content/injections/icon/index.ts","webpack://proton-pass-extension/./src/content/injections/iframe/create-iframe-root.ts","webpack://proton-pass-extension/./src/content/orchestrator.ts","webpack://proton-pass-extension/../../packages/pass/utils/listener/listener-store.ts","webpack://proton-pass-extension/./src/content/injections/cleanup.ts","webpack://proton-pass-extension/../../packages/pass/utils/dom/is-main-frame.ts","webpack://proton-pass-extension/./src/shared/extension/disable-browser-trap.ts"],"sourcesContent":["/* We create a proxy around the `chrome` or `browser` global object to hide them\n * from the devtools of our extension. This is done to prevent developers from\n * accidentally or intentionally modifying the extension's messaging system, which\n * could cause unexpected behavior or security issues. By hiding these globals,\n * we ensure that the extension's messaging system is only accessed through the\n * provided APIs, and not directly through the devtools console or other means */\nimport browser from 'webextension-polyfill';\n\nimport { logger } from '../utils/logger';\n\nconst self = globalThis as any;\nconst context = {\n    allowProxy: true,\n    globals: {\n        chrome: self.chrome,\n        browser: self.browser,\n    },\n};\n\nexport const disableBrowserProxyTrap = () => (context.allowProxy = false);\n\n/* To ensure that Sentry's internal checks involving the browser\n * APIs don't interfere with the initialization of our apps, we\n * wrap the proxy initialization in a setTimeout function, which\n * delays the initialization until the next tick after our apps load.\n * ⚠️ Make sure Sentry is always initialized on app boot. */\nexport default (() => {\n    const polyfill = browser;\n\n    setTimeout(\n        () =>\n            context.allowProxy &&\n            Object.entries(context.globals)\n                .filter(([, value]) => value)\n                .forEach(([key, value]) => {\n                    self[key] = new Proxy(value, {\n                        get(target, prop, receiver) {\n                            if (process.env.NODE_ENV !== 'development') {\n                                return logger.error(`[Extension::Error] extension API is protected`);\n                            }\n\n                            return Reflect.get(target, prop, receiver);\n                        },\n                        set() {\n                            logger.error(`[Extension::Error] extension API is read-only`);\n                            return false;\n                        },\n                    });\n                }),\n        0\n    );\n\n    return polyfill;\n})();\n\nexport const chromeAPI = context.globals.chrome as typeof chrome;\n","import log from 'loglevel';\n\nimport type { Callback } from '@proton/pass/types';\n\nlog.setLevel('info');\n\nexport const logId = (id: string) =>\n    id.length > 10 ? `[${id.slice(0, 5)}…${id.slice(id.length - 5, id.length)}]` : `[${id}]`;\n\ntype LoggerOptions = { onLog?: (log: string, originalLog: LogFunc) => void };\ntype LogFunc = Callback<any[], void>;\n\nconst withLoggerOptions =\n    <F extends LogFunc>(fn: F, options: LoggerOptions): ((...args: any[]) => void) =>\n    (...args) =>\n        options.onLog ? options.onLog(args.join(' '), fn) : fn(...args);\n\nexport const logger = (() => {\n    const options: LoggerOptions = {};\n\n    return {\n        info: withLoggerOptions(log.info, options),\n        debug: withLoggerOptions(log.debug, options),\n        error: withLoggerOptions(log.error, options),\n        warn: withLoggerOptions(log.warn, options),\n        setLogOptions: (opts: LoggerOptions) => (options.onLog = opts.onLog),\n    };\n})();\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.31.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 and Safari <= 15.4, FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (!globalThis.chrome?.runtime?.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  if (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      });\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    }; // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * This handler implements the default behaviour for unknown fields.\n * When reading data, unknown fields are stored on the message, in a\n * symbol property.\n * When writing data, the symbol property is queried and unknown fields\n * are serialized into the output again.\n */\nexport var UnknownFieldHandler;\n(function (UnknownFieldHandler) {\n    /**\n     * The symbol used to store unknown fields for a message.\n     * The property must conform to `UnknownFieldContainer`.\n     */\n    UnknownFieldHandler.symbol = Symbol.for(\"protobuf-ts/unknown\");\n    /**\n     * Store an unknown field during binary read directly on the message.\n     * This method is compatible with `BinaryReadOptions.readUnknownField`.\n     */\n    UnknownFieldHandler.onRead = (typeName, message, fieldNo, wireType, data) => {\n        let container = is(message) ? message[UnknownFieldHandler.symbol] : message[UnknownFieldHandler.symbol] = [];\n        container.push({ no: fieldNo, wireType, data });\n    };\n    /**\n     * Write unknown fields stored for the message to the writer.\n     * This method is compatible with `BinaryWriteOptions.writeUnknownFields`.\n     */\n    UnknownFieldHandler.onWrite = (typeName, message, writer) => {\n        for (let { no, wireType, data } of UnknownFieldHandler.list(message))\n            writer.tag(no, wireType).raw(data);\n    };\n    /**\n     * List unknown fields stored for the message.\n     * Note that there may be multiples fields with the same number.\n     */\n    UnknownFieldHandler.list = (message, fieldNo) => {\n        if (is(message)) {\n            let all = message[UnknownFieldHandler.symbol];\n            return fieldNo ? all.filter(uf => uf.no == fieldNo) : all;\n        }\n        return [];\n    };\n    /**\n     * Returns the last unknown field by field number.\n     */\n    UnknownFieldHandler.last = (message, fieldNo) => UnknownFieldHandler.list(message, fieldNo).slice(-1)[0];\n    const is = (message) => message && Array.isArray(message[UnknownFieldHandler.symbol]);\n})(UnknownFieldHandler || (UnknownFieldHandler = {}));\n/**\n * Merges binary write or read options. Later values override earlier values.\n */\nexport function mergeBinaryOptions(a, b) {\n    return Object.assign(Object.assign({}, a), b);\n}\n/**\n * Protobuf binary format wire types.\n *\n * A wire type provides just enough information to find the length of the\n * following value.\n *\n * See https://developers.google.com/protocol-buffers/docs/encoding#structure\n */\nexport var WireType;\n(function (WireType) {\n    /**\n     * Used for int32, int64, uint32, uint64, sint32, sint64, bool, enum\n     */\n    WireType[WireType[\"Varint\"] = 0] = \"Varint\";\n    /**\n     * Used for fixed64, sfixed64, double.\n     * Always 8 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit64\"] = 1] = \"Bit64\";\n    /**\n     * Used for string, bytes, embedded messages, packed repeated fields\n     *\n     * Only repeated numeric types (types which use the varint, 32-bit,\n     * or 64-bit wire types) can be packed. In proto3, such fields are\n     * packed by default.\n     */\n    WireType[WireType[\"LengthDelimited\"] = 2] = \"LengthDelimited\";\n    /**\n     * Used for groups\n     * @deprecated\n     */\n    WireType[WireType[\"StartGroup\"] = 3] = \"StartGroup\";\n    /**\n     * Used for groups\n     * @deprecated\n     */\n    WireType[WireType[\"EndGroup\"] = 4] = \"EndGroup\";\n    /**\n     * Used for fixed32, sfixed32, float.\n     * Always 4 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit32\"] = 5] = \"Bit32\";\n})(WireType || (WireType = {}));\n","/**\n * Copy partial data into the target message.\n *\n * If a singular scalar or enum field is present in the source, it\n * replaces the field in the target.\n *\n * If a singular message field is present in the source, it is merged\n * with the target field by calling mergePartial() of the responsible\n * message type.\n *\n * If a repeated field is present in the source, its values replace\n * all values in the target array, removing extraneous values.\n * Repeated message fields are copied, not merged.\n *\n * If a map field is present in the source, entries are added to the\n * target map, replacing entries with the same key. Entries that only\n * exist in the target remain. Entries with message values are copied,\n * not merged.\n *\n * Note that this function differs from protobuf merge semantics,\n * which appends repeated fields.\n */\nexport function reflectionMergePartial(info, target, source) {\n    let fieldValue, // the field value we are working with\n    input = source, output; // where we want our field value to go\n    for (let field of info.fields) {\n        let name = field.localName;\n        if (field.oneof) {\n            const group = input[field.oneof]; // this is the oneof`s group in the source\n            if ((group === null || group === void 0 ? void 0 : group.oneofKind) == undefined) { // the user is free to omit\n                continue; // we skip this field, and all other members too\n            }\n            fieldValue = group[name]; // our value comes from the the oneof group of the source\n            output = target[field.oneof]; // and our output is the oneof group of the target\n            output.oneofKind = group.oneofKind; // always update discriminator\n            if (fieldValue == undefined) {\n                delete output[name]; // remove any existing value\n                continue; // skip further work on field\n            }\n        }\n        else {\n            fieldValue = input[name]; // we are using the source directly\n            output = target; // we want our field value to go directly into the target\n            if (fieldValue == undefined) {\n                continue; // skip further work on field, existing value is used as is\n            }\n        }\n        if (field.repeat)\n            output[name].length = fieldValue.length; // resize target array to match source array\n        // now we just work with `fieldValue` and `output` to merge the value\n        switch (field.kind) {\n            case \"scalar\":\n            case \"enum\":\n                if (field.repeat)\n                    for (let i = 0; i < fieldValue.length; i++)\n                        output[name][i] = fieldValue[i]; // not a reference type\n                else\n                    output[name] = fieldValue; // not a reference type\n                break;\n            case \"message\":\n                let T = field.T();\n                if (field.repeat)\n                    for (let i = 0; i < fieldValue.length; i++)\n                        output[name][i] = T.create(fieldValue[i]);\n                else if (output[name] === undefined)\n                    output[name] = T.create(fieldValue); // nothing to merge with\n                else\n                    T.mergePartial(output[name], fieldValue);\n                break;\n            case \"map\":\n                // Map and repeated fields are simply overwritten, not appended or merged\n                switch (field.V.kind) {\n                    case \"scalar\":\n                    case \"enum\":\n                        Object.assign(output[name], fieldValue); // elements are not reference types\n                        break;\n                    case \"message\":\n                        let T = field.V.T();\n                        for (let k of Object.keys(fieldValue))\n                            output[name][k] = T.create(fieldValue[k]);\n                        break;\n                }\n                break;\n        }\n    }\n}\n","/**\n * The symbol used as a key on message objects to store the message type.\n *\n * Note that this is an experimental feature - it is here to stay, but\n * implementation details may change without notice.\n */\nexport const MESSAGE_TYPE = Symbol.for(\"protobuf-ts/message-type\");\n","/**\n * Converts snake_case to lowerCamelCase.\n *\n * Should behave like protoc:\n * https://github.com/protocolbuffers/protobuf/blob/e8ae137c96444ea313485ed1118c5e43b2099cf1/src/google/protobuf/compiler/java/java_helpers.cc#L118\n */\nexport function lowerCamelCase(snakeCase) {\n    let capNext = false;\n    const sb = [];\n    for (let i = 0; i < snakeCase.length; i++) {\n        let next = snakeCase.charAt(i);\n        if (next == '_') {\n            capNext = true;\n        }\n        else if (/\\d/.test(next)) {\n            sb.push(next);\n            capNext = true;\n        }\n        else if (capNext) {\n            sb.push(next.toUpperCase());\n            capNext = false;\n        }\n        else if (i == 0) {\n            sb.push(next.toLowerCase());\n        }\n        else {\n            sb.push(next);\n        }\n    }\n    return sb.join('');\n}\n","import { lowerCamelCase } from \"./lower-camel-case\";\n/**\n * Scalar value types. This is a subset of field types declared by protobuf\n * enum google.protobuf.FieldDescriptorProto.Type The types GROUP and MESSAGE\n * are omitted, but the numerical values are identical.\n */\nexport var ScalarType;\n(function (ScalarType) {\n    // 0 is reserved for errors.\n    // Order is weird for historical reasons.\n    ScalarType[ScalarType[\"DOUBLE\"] = 1] = \"DOUBLE\";\n    ScalarType[ScalarType[\"FLOAT\"] = 2] = \"FLOAT\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT64 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT64\"] = 3] = \"INT64\";\n    ScalarType[ScalarType[\"UINT64\"] = 4] = \"UINT64\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT32 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT32\"] = 5] = \"INT32\";\n    ScalarType[ScalarType[\"FIXED64\"] = 6] = \"FIXED64\";\n    ScalarType[ScalarType[\"FIXED32\"] = 7] = \"FIXED32\";\n    ScalarType[ScalarType[\"BOOL\"] = 8] = \"BOOL\";\n    ScalarType[ScalarType[\"STRING\"] = 9] = \"STRING\";\n    // Tag-delimited aggregate.\n    // Group type is deprecated and not supported in proto3. However, Proto3\n    // implementations should still be able to parse the group wire format and\n    // treat group fields as unknown fields.\n    // TYPE_GROUP = 10,\n    // TYPE_MESSAGE = 11,  // Length-delimited aggregate.\n    // New in version 2.\n    ScalarType[ScalarType[\"BYTES\"] = 12] = \"BYTES\";\n    ScalarType[ScalarType[\"UINT32\"] = 13] = \"UINT32\";\n    // TYPE_ENUM = 14,\n    ScalarType[ScalarType[\"SFIXED32\"] = 15] = \"SFIXED32\";\n    ScalarType[ScalarType[\"SFIXED64\"] = 16] = \"SFIXED64\";\n    ScalarType[ScalarType[\"SINT32\"] = 17] = \"SINT32\";\n    ScalarType[ScalarType[\"SINT64\"] = 18] = \"SINT64\";\n})(ScalarType || (ScalarType = {}));\n/**\n * JavaScript representation of 64 bit integral types. Equivalent to the\n * field option \"jstype\".\n *\n * By default, protobuf-ts represents 64 bit types as `bigint`.\n *\n * You can change the default behaviour by enabling the plugin parameter\n * `long_type_string`, which will represent 64 bit types as `string`.\n *\n * Alternatively, you can change the behaviour for individual fields\n * with the field option \"jstype\":\n *\n * ```protobuf\n * uint64 my_field = 1 [jstype = JS_STRING];\n * uint64 other_field = 2 [jstype = JS_NUMBER];\n * ```\n */\nexport var LongType;\n(function (LongType) {\n    /**\n     * Use JavaScript `bigint`.\n     *\n     * Field option `[jstype = JS_NORMAL]`.\n     */\n    LongType[LongType[\"BIGINT\"] = 0] = \"BIGINT\";\n    /**\n     * Use JavaScript `string`.\n     *\n     * Field option `[jstype = JS_STRING]`.\n     */\n    LongType[LongType[\"STRING\"] = 1] = \"STRING\";\n    /**\n     * Use JavaScript `number`.\n     *\n     * Large values will loose precision.\n     *\n     * Field option `[jstype = JS_NUMBER]`.\n     */\n    LongType[LongType[\"NUMBER\"] = 2] = \"NUMBER\";\n})(LongType || (LongType = {}));\n/**\n * Protobuf 2.1.0 introduced packed repeated fields.\n * Setting the field option `[packed = true]` enables packing.\n *\n * In proto3, all repeated fields are packed by default.\n * Setting the field option `[packed = false]` disables packing.\n *\n * Packed repeated fields are encoded with a single tag,\n * then a length-delimiter, then the element values.\n *\n * Unpacked repeated fields are encoded with a tag and\n * value for each element.\n *\n * `bytes` and `string` cannot be packed.\n */\nexport var RepeatType;\n(function (RepeatType) {\n    /**\n     * The field is not repeated.\n     */\n    RepeatType[RepeatType[\"NO\"] = 0] = \"NO\";\n    /**\n     * The field is repeated and should be packed.\n     * Invalid for `bytes` and `string`, they cannot be packed.\n     */\n    RepeatType[RepeatType[\"PACKED\"] = 1] = \"PACKED\";\n    /**\n     * The field is repeated but should not be packed.\n     * The only valid repeat type for repeated `bytes` and `string`.\n     */\n    RepeatType[RepeatType[\"UNPACKED\"] = 2] = \"UNPACKED\";\n})(RepeatType || (RepeatType = {}));\n/**\n * Turns PartialFieldInfo into FieldInfo.\n */\nexport function normalizeFieldInfo(field) {\n    var _a, _b, _c, _d;\n    field.localName = (_a = field.localName) !== null && _a !== void 0 ? _a : lowerCamelCase(field.name);\n    field.jsonName = (_b = field.jsonName) !== null && _b !== void 0 ? _b : lowerCamelCase(field.name);\n    field.repeat = (_c = field.repeat) !== null && _c !== void 0 ? _c : RepeatType.NO;\n    field.opt = (_d = field.opt) !== null && _d !== void 0 ? _d : (field.repeat ? false : field.oneof ? false : field.kind == \"message\");\n    return field;\n}\n/**\n * Read custom field options from a generated message type.\n *\n * @deprecated use readFieldOption()\n */\nexport function readFieldOptions(messageType, fieldName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = messageType.fields.find((m, i) => m.localName == fieldName || i == fieldName)) === null || _a === void 0 ? void 0 : _a.options;\n    return options && options[extensionName] ? extensionType.fromJson(options[extensionName]) : undefined;\n}\nexport function readFieldOption(messageType, fieldName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = messageType.fields.find((m, i) => m.localName == fieldName || i == fieldName)) === null || _a === void 0 ? void 0 : _a.options;\n    if (!options) {\n        return undefined;\n    }\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\nexport function readMessageOption(messageType, extensionName, extensionType) {\n    const options = messageType.options;\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\n","/**\n * Is the given value a valid oneof group?\n *\n * We represent protobuf `oneof` as algebraic data types (ADT) in generated\n * code. But when working with messages of unknown type, the ADT does not\n * help us.\n *\n * This type guard checks if the given object adheres to the ADT rules, which\n * are as follows:\n *\n * 1) Must be an object.\n *\n * 2) Must have a \"oneofKind\" discriminator property.\n *\n * 3) If \"oneofKind\" is `undefined`, no member field is selected. The object\n * must not have any other properties.\n *\n * 4) If \"oneofKind\" is a `string`, the member field with this name is\n * selected.\n *\n * 5) If a member field is selected, the object must have a second property\n * with this name. The property must not be `undefined`.\n *\n * 6) No extra properties are allowed. The object has either one property\n * (no selection) or two properties (selection).\n *\n */\nexport function isOneofGroup(any) {\n    if (typeof any != 'object' || any === null || !any.hasOwnProperty('oneofKind')) {\n        return false;\n    }\n    switch (typeof any.oneofKind) {\n        case \"string\":\n            if (any[any.oneofKind] === undefined)\n                return false;\n            return Object.keys(any).length == 2;\n        case \"undefined\":\n            return Object.keys(any).length == 1;\n        default:\n            return false;\n    }\n}\n/**\n * Returns the value of the given field in a oneof group.\n */\nexport function getOneofValue(oneof, kind) {\n    return oneof[kind];\n}\nexport function setOneofValue(oneof, kind, value) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = kind;\n    if (value !== undefined) {\n        oneof[kind] = value;\n    }\n}\nexport function setUnknownOneofValue(oneof, kind, value) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = kind;\n    if (value !== undefined && kind !== undefined) {\n        oneof[kind] = value;\n    }\n}\n/**\n * Removes the selected field in a oneof group.\n *\n * Note that the recommended way to modify a oneof group is to set\n * a new object:\n *\n * ```ts\n * message.result = { oneofKind: undefined };\n * ```\n */\nexport function clearOneofValue(oneof) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = undefined;\n}\n/**\n * Returns the selected value of the given oneof group.\n *\n * Not that the recommended way to access a oneof group is to check\n * the \"oneofKind\" property and let TypeScript narrow down the union\n * type for you:\n *\n * ```ts\n * if (message.result.oneofKind === \"error\") {\n *   message.result.error; // string\n * }\n * ```\n *\n * In the rare case you just need the value, and do not care about\n * which protobuf field is selected, you can use this function\n * for convenience.\n */\nexport function getSelectedOneofValue(oneof) {\n    if (oneof.oneofKind === undefined) {\n        return undefined;\n    }\n    return oneof[oneof.oneofKind];\n}\n","import { LongType, ScalarType } from \"./reflection-info\";\nimport { isOneofGroup } from \"./oneof\";\n// noinspection JSMethodCanBeStatic\nexport class ReflectionTypeCheck {\n    constructor(info) {\n        var _a;\n        this.fields = (_a = info.fields) !== null && _a !== void 0 ? _a : [];\n    }\n    prepare() {\n        if (this.data)\n            return;\n        const req = [], known = [], oneofs = [];\n        for (let field of this.fields) {\n            if (field.oneof) {\n                if (!oneofs.includes(field.oneof)) {\n                    oneofs.push(field.oneof);\n                    req.push(field.oneof);\n                    known.push(field.oneof);\n                }\n            }\n            else {\n                known.push(field.localName);\n                switch (field.kind) {\n                    case \"scalar\":\n                    case \"enum\":\n                        if (!field.opt || field.repeat)\n                            req.push(field.localName);\n                        break;\n                    case \"message\":\n                        if (field.repeat)\n                            req.push(field.localName);\n                        break;\n                    case \"map\":\n                        req.push(field.localName);\n                        break;\n                }\n            }\n        }\n        this.data = { req, known, oneofs: Object.values(oneofs) };\n    }\n    /**\n     * Is the argument a valid message as specified by the\n     * reflection information?\n     *\n     * Checks all field types recursively. The `depth`\n     * specifies how deep into the structure the check will be.\n     *\n     * With a depth of 0, only the presence of fields\n     * is checked.\n     *\n     * With a depth of 1 or more, the field types are checked.\n     *\n     * With a depth of 2 or more, the members of map, repeated\n     * and message fields are checked.\n     *\n     * Message fields will be checked recursively with depth - 1.\n     *\n     * The number of map entries / repeated values being checked\n     * is < depth.\n     */\n    is(message, depth, allowExcessProperties = false) {\n        if (depth < 0)\n            return true;\n        if (message === null || message === undefined || typeof message != 'object')\n            return false;\n        this.prepare();\n        let keys = Object.keys(message), data = this.data;\n        // if a required field is missing in arg, this cannot be a T\n        if (keys.length < data.req.length || data.req.some(n => !keys.includes(n)))\n            return false;\n        if (!allowExcessProperties) {\n            // if the arg contains a key we dont know, this is not a literal T\n            if (keys.some(k => !data.known.includes(k)))\n                return false;\n        }\n        // \"With a depth of 0, only the presence and absence of fields is checked.\"\n        // \"With a depth of 1 or more, the field types are checked.\"\n        if (depth < 1) {\n            return true;\n        }\n        // check oneof group\n        for (const name of data.oneofs) {\n            const group = message[name];\n            if (!isOneofGroup(group))\n                return false;\n            if (group.oneofKind === undefined)\n                continue;\n            const field = this.fields.find(f => f.localName === group.oneofKind);\n            if (!field)\n                return false; // we found no field, but have a kind, something is wrong\n            if (!this.field(group[group.oneofKind], field, allowExcessProperties, depth))\n                return false;\n        }\n        // check types\n        for (const field of this.fields) {\n            if (field.oneof !== undefined)\n                continue;\n            if (!this.field(message[field.localName], field, allowExcessProperties, depth))\n                return false;\n        }\n        return true;\n    }\n    field(arg, field, allowExcessProperties, depth) {\n        let repeated = field.repeat;\n        switch (field.kind) {\n            case \"scalar\":\n                if (arg === undefined)\n                    return field.opt;\n                if (repeated)\n                    return this.scalars(arg, field.T, depth, field.L);\n                return this.scalar(arg, field.T, field.L);\n            case \"enum\":\n                if (arg === undefined)\n                    return field.opt;\n                if (repeated)\n                    return this.scalars(arg, ScalarType.INT32, depth);\n                return this.scalar(arg, ScalarType.INT32);\n            case \"message\":\n                if (arg === undefined)\n                    return true;\n                if (repeated)\n                    return this.messages(arg, field.T(), allowExcessProperties, depth);\n                return this.message(arg, field.T(), allowExcessProperties, depth);\n            case \"map\":\n                if (typeof arg != 'object' || arg === null)\n                    return false;\n                if (depth < 2)\n                    return true;\n                if (!this.mapKeys(arg, field.K, depth))\n                    return false;\n                switch (field.V.kind) {\n                    case \"scalar\":\n                        return this.scalars(Object.values(arg), field.V.T, depth, field.V.L);\n                    case \"enum\":\n                        return this.scalars(Object.values(arg), ScalarType.INT32, depth);\n                    case \"message\":\n                        return this.messages(Object.values(arg), field.V.T(), allowExcessProperties, depth);\n                }\n                break;\n        }\n        return true;\n    }\n    message(arg, type, allowExcessProperties, depth) {\n        if (allowExcessProperties) {\n            return type.isAssignable(arg, depth);\n        }\n        return type.is(arg, depth);\n    }\n    messages(arg, type, allowExcessProperties, depth) {\n        if (!Array.isArray(arg))\n            return false;\n        if (depth < 2)\n            return true;\n        if (allowExcessProperties) {\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!type.isAssignable(arg[i], depth - 1))\n                    return false;\n        }\n        else {\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!type.is(arg[i], depth - 1))\n                    return false;\n        }\n        return true;\n    }\n    scalar(arg, type, longType) {\n        let argType = typeof arg;\n        switch (type) {\n            case ScalarType.UINT64:\n            case ScalarType.FIXED64:\n            case ScalarType.INT64:\n            case ScalarType.SFIXED64:\n            case ScalarType.SINT64:\n                switch (longType) {\n                    case LongType.BIGINT:\n                        return argType == \"bigint\";\n                    case LongType.NUMBER:\n                        return argType == \"number\" && !isNaN(arg);\n                    default:\n                        return argType == \"string\";\n                }\n            case ScalarType.BOOL:\n                return argType == 'boolean';\n            case ScalarType.STRING:\n                return argType == 'string';\n            case ScalarType.BYTES:\n                return arg instanceof Uint8Array;\n            case ScalarType.DOUBLE:\n            case ScalarType.FLOAT:\n                return argType == 'number' && !isNaN(arg);\n            default:\n                // case ScalarType.UINT32:\n                // case ScalarType.FIXED32:\n                // case ScalarType.INT32:\n                // case ScalarType.SINT32:\n                // case ScalarType.SFIXED32:\n                return argType == 'number' && Number.isInteger(arg);\n        }\n    }\n    scalars(arg, type, depth, longType) {\n        if (!Array.isArray(arg))\n            return false;\n        if (depth < 2)\n            return true;\n        if (Array.isArray(arg))\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!this.scalar(arg[i], type, longType))\n                    return false;\n        return true;\n    }\n    mapKeys(map, type, depth) {\n        let keys = Object.keys(map);\n        switch (type) {\n            case ScalarType.INT32:\n            case ScalarType.FIXED32:\n            case ScalarType.SFIXED32:\n            case ScalarType.SINT32:\n            case ScalarType.UINT32:\n                return this.scalars(keys.slice(0, depth).map(k => parseInt(k)), type, depth);\n            case ScalarType.BOOL:\n                return this.scalars(keys.slice(0, depth).map(k => k == 'true' ? true : k == 'false' ? false : k), type, depth);\n            default:\n                return this.scalars(keys, type, depth, LongType.STRING);\n        }\n    }\n}\n","/**\n * Get the type of a JSON value.\n * Distinguishes between array, null and object.\n */\nexport function typeofJsonValue(value) {\n    let t = typeof value;\n    if (t == \"object\") {\n        if (Array.isArray(value))\n            return \"array\";\n        if (value === null)\n            return \"null\";\n    }\n    return t;\n}\n/**\n * Is this a JSON object (instead of an array or null)?\n */\nexport function isJsonObject(value) {\n    return value !== null && typeof value == \"object\" && !Array.isArray(value);\n}\n","// lookup table from base64 character to byte\nlet encTable = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n// lookup table from base64 character *code* to byte because lookup by number is fast\nlet decTable = [];\nfor (let i = 0; i < encTable.length; i++)\n    decTable[encTable[i].charCodeAt(0)] = i;\n// support base64url variants\ndecTable[\"-\".charCodeAt(0)] = encTable.indexOf(\"+\");\ndecTable[\"_\".charCodeAt(0)] = encTable.indexOf(\"/\");\n/**\n * Decodes a base64 string to a byte array.\n *\n * - ignores white-space, including line breaks and tabs\n * - allows inner padding (can decode concatenated base64 strings)\n * - does not require padding\n * - understands base64url encoding:\n *   \"-\" instead of \"+\",\n *   \"_\" instead of \"/\",\n *   no padding\n */\nexport function base64decode(base64Str) {\n    // estimate byte size, not accounting for inner padding and whitespace\n    let es = base64Str.length * 3 / 4;\n    // if (es % 3 !== 0)\n    // throw new Error('invalid base64 string');\n    if (base64Str[base64Str.length - 2] == '=')\n        es -= 2;\n    else if (base64Str[base64Str.length - 1] == '=')\n        es -= 1;\n    let bytes = new Uint8Array(es), bytePos = 0, // position in byte array\n    groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0 // previous byte\n    ;\n    for (let i = 0; i < base64Str.length; i++) {\n        b = decTable[base64Str.charCodeAt(i)];\n        if (b === undefined) {\n            // noinspection FallThroughInSwitchStatementJS\n            switch (base64Str[i]) {\n                case '=':\n                    groupPos = 0; // reset state when padding found\n                case '\\n':\n                case '\\r':\n                case '\\t':\n                case ' ':\n                    continue; // skip white-space, and padding\n                default:\n                    throw Error(`invalid base64 string.`);\n            }\n        }\n        switch (groupPos) {\n            case 0:\n                p = b;\n                groupPos = 1;\n                break;\n            case 1:\n                bytes[bytePos++] = p << 2 | (b & 48) >> 4;\n                p = b;\n                groupPos = 2;\n                break;\n            case 2:\n                bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;\n                p = b;\n                groupPos = 3;\n                break;\n            case 3:\n                bytes[bytePos++] = (p & 3) << 6 | b;\n                groupPos = 0;\n                break;\n        }\n    }\n    if (groupPos == 1)\n        throw Error(`invalid base64 string.`);\n    return bytes.subarray(0, bytePos);\n}\n/**\n * Encodes a byte array to a base64 string.\n * Adds padding at the end.\n * Does not insert newlines.\n */\nexport function base64encode(bytes) {\n    let base64 = '', groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0; // carry over from previous byte\n    for (let i = 0; i < bytes.length; i++) {\n        b = bytes[i];\n        switch (groupPos) {\n            case 0:\n                base64 += encTable[b >> 2];\n                p = (b & 3) << 4;\n                groupPos = 1;\n                break;\n            case 1:\n                base64 += encTable[p | b >> 4];\n                p = (b & 15) << 2;\n                groupPos = 2;\n                break;\n            case 2:\n                base64 += encTable[p | b >> 6];\n                base64 += encTable[b & 63];\n                groupPos = 0;\n                break;\n        }\n    }\n    // padding required?\n    if (groupPos) {\n        base64 += encTable[p];\n        base64 += '=';\n        if (groupPos == 1)\n            base64 += '=';\n    }\n    return base64;\n}\n","// Copyright 2008 Google Inc.  All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// Code generated by the Protocol Buffer compiler is owned by the owner\n// of the input file used when generating it.  This code is not\n// standalone and requires a support library to be linked with it.  This\n// support library is itself covered by the above license.\n/**\n * Read a 64 bit varint as two JS numbers.\n *\n * Returns tuple:\n * [0]: low bits\n * [0]: high bits\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L175\n */\nexport function varint64read() {\n    let lowBits = 0;\n    let highBits = 0;\n    for (let shift = 0; shift < 28; shift += 7) {\n        let b = this.buf[this.pos++];\n        lowBits |= (b & 0x7F) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    let middleByte = this.buf[this.pos++];\n    // last four bits of the first 32 bit number\n    lowBits |= (middleByte & 0x0F) << 28;\n    // 3 upper bits are part of the next 32 bit number\n    highBits = (middleByte & 0x70) >> 4;\n    if ((middleByte & 0x80) == 0) {\n        this.assertBounds();\n        return [lowBits, highBits];\n    }\n    for (let shift = 3; shift <= 31; shift += 7) {\n        let b = this.buf[this.pos++];\n        highBits |= (b & 0x7F) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    throw new Error('invalid varint');\n}\n/**\n * Write a 64 bit varint, given as two JS numbers, to the given bytes array.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/writer.js#L344\n */\nexport function varint64write(lo, hi, bytes) {\n    for (let i = 0; i < 28; i = i + 7) {\n        const shift = lo >>> i;\n        const hasNext = !((shift >>> 7) == 0 && hi == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xFF;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    const splitBits = ((lo >>> 28) & 0x0F) | ((hi & 0x07) << 4);\n    const hasMoreBits = !((hi >> 3) == 0);\n    bytes.push((hasMoreBits ? splitBits | 0x80 : splitBits) & 0xFF);\n    if (!hasMoreBits) {\n        return;\n    }\n    for (let i = 3; i < 31; i = i + 7) {\n        const shift = hi >>> i;\n        const hasNext = !((shift >>> 7) == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xFF;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    bytes.push((hi >>> 31) & 0x01);\n}\n// constants for binary math\nconst TWO_PWR_32_DBL = (1 << 16) * (1 << 16);\n/**\n * Parse decimal string of 64 bit integer value as two JS numbers.\n *\n * Returns tuple:\n * [0]: minus sign?\n * [1]: low bits\n * [2]: high bits\n *\n * Copyright 2008 Google Inc.\n */\nexport function int64fromString(dec) {\n    // Check for minus sign.\n    let minus = dec[0] == '-';\n    if (minus)\n        dec = dec.slice(1);\n    // Work 6 decimal digits at a time, acting like we're converting base 1e6\n    // digits to binary. This is safe to do with floating point math because\n    // Number.isSafeInteger(ALL_32_BITS * 1e6) == true.\n    const base = 1e6;\n    let lowBits = 0;\n    let highBits = 0;\n    function add1e6digit(begin, end) {\n        // Note: Number('') is 0.\n        const digit1e6 = Number(dec.slice(begin, end));\n        highBits *= base;\n        lowBits = lowBits * base + digit1e6;\n        // Carry bits from lowBits to\n        if (lowBits >= TWO_PWR_32_DBL) {\n            highBits = highBits + ((lowBits / TWO_PWR_32_DBL) | 0);\n            lowBits = lowBits % TWO_PWR_32_DBL;\n        }\n    }\n    add1e6digit(-24, -18);\n    add1e6digit(-18, -12);\n    add1e6digit(-12, -6);\n    add1e6digit(-6);\n    return [minus, lowBits, highBits];\n}\n/**\n * Format 64 bit integer value (as two JS numbers) to decimal string.\n *\n * Copyright 2008 Google Inc.\n */\nexport function int64toString(bitsLow, bitsHigh) {\n    // Skip the expensive conversion if the number is small enough to use the\n    // built-in conversions.\n    if (bitsHigh <= 0x1FFFFF) {\n        return '' + (TWO_PWR_32_DBL * bitsHigh + (bitsLow >>> 0));\n    }\n    // What this code is doing is essentially converting the input number from\n    // base-2 to base-1e7, which allows us to represent the 64-bit range with\n    // only 3 (very large) digits. Those digits are then trivial to convert to\n    // a base-10 string.\n    // The magic numbers used here are -\n    // 2^24 = 16777216 = (1,6777216) in base-1e7.\n    // 2^48 = 281474976710656 = (2,8147497,6710656) in base-1e7.\n    // Split 32:32 representation into 16:24:24 representation so our\n    // intermediate digits don't overflow.\n    let low = bitsLow & 0xFFFFFF;\n    let mid = (((bitsLow >>> 24) | (bitsHigh << 8)) >>> 0) & 0xFFFFFF;\n    let high = (bitsHigh >> 16) & 0xFFFF;\n    // Assemble our three base-1e7 digits, ignoring carries. The maximum\n    // value in a digit at this step is representable as a 48-bit integer, which\n    // can be stored in a 64-bit floating point number.\n    let digitA = low + (mid * 6777216) + (high * 6710656);\n    let digitB = mid + (high * 8147497);\n    let digitC = (high * 2);\n    // Apply carries from A to B and from B to C.\n    let base = 10000000;\n    if (digitA >= base) {\n        digitB += Math.floor(digitA / base);\n        digitA %= base;\n    }\n    if (digitB >= base) {\n        digitC += Math.floor(digitB / base);\n        digitB %= base;\n    }\n    // Convert base-1e7 digits to base-10, with optional leading zeroes.\n    function decimalFrom1e7(digit1e7, needLeadingZeros) {\n        let partial = digit1e7 ? String(digit1e7) : '';\n        if (needLeadingZeros) {\n            return '0000000'.slice(partial.length) + partial;\n        }\n        return partial;\n    }\n    return decimalFrom1e7(digitC, /*needLeadingZeros=*/ 0) +\n        decimalFrom1e7(digitB, /*needLeadingZeros=*/ digitC) +\n        // If the final 1e7 digit didn't need leading zeros, we would have\n        // returned via the trivial code path at the top.\n        decimalFrom1e7(digitA, /*needLeadingZeros=*/ 1);\n}\n/**\n * Write a 32 bit varint, signed or unsigned. Same as `varint64write(0, value, bytes)`\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/1b18833f4f2a2f681f4e4a25cdf3b0a43115ec26/js/binary/encoder.js#L144\n */\nexport function varint32write(value, bytes) {\n    if (value >= 0) {\n        // write value as varint 32\n        while (value > 0x7f) {\n            bytes.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        bytes.push(value);\n    }\n    else {\n        for (let i = 0; i < 9; i++) {\n            bytes.push(value & 127 | 128);\n            value = value >> 7;\n        }\n        bytes.push(1);\n    }\n}\n/**\n * Read an unsigned 32 bit varint.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L220\n */\nexport function varint32read() {\n    let b = this.buf[this.pos++];\n    let result = b & 0x7F;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 7;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 14;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 21;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    // Extract only last 4 bits\n    b = this.buf[this.pos++];\n    result |= (b & 0x0F) << 28;\n    for (let readBytes = 5; ((b & 0x80) !== 0) && readBytes < 10; readBytes++)\n        b = this.buf[this.pos++];\n    if ((b & 0x80) != 0)\n        throw new Error('invalid varint');\n    this.assertBounds();\n    // Result can have 32 bits, convert it to unsigned\n    return result >>> 0;\n}\n","import { int64fromString, int64toString } from \"./goog-varint\";\nfunction detectBi() {\n    const dv = new DataView(new ArrayBuffer(8));\n    const ok = globalThis.BigInt !== undefined\n        && typeof dv.getBigInt64 === \"function\"\n        && typeof dv.getBigUint64 === \"function\"\n        && typeof dv.setBigInt64 === \"function\"\n        && typeof dv.setBigUint64 === \"function\";\n    return ok ? {\n        MIN: BigInt(\"-9223372036854775808\"),\n        MAX: BigInt(\"9223372036854775807\"),\n        UMIN: BigInt(\"0\"),\n        UMAX: BigInt(\"18446744073709551615\"),\n        C: BigInt,\n        V: dv,\n    } : undefined;\n}\nconst BI = detectBi();\nfunction assertBi(bi) {\n    if (!bi)\n        throw new Error(\"BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support\");\n}\n// used to validate from(string) input (when bigint is unavailable)\nconst RE_DECIMAL_STR = /^-?[0-9]+$/;\n// constants for binary math\nconst TWO_PWR_32_DBL = (1 << 16) * (1 << 16);\n// base class for PbLong and PbULong provides shared code\nclass SharedPbLong {\n    /**\n     * Create a new instance with the given bits.\n     */\n    constructor(lo, hi) {\n        this.lo = lo | 0;\n        this.hi = hi | 0;\n    }\n    /**\n     * Is this instance equal to 0?\n     */\n    isZero() {\n        return this.lo == 0 && this.hi == 0;\n    }\n    /**\n     * Convert to a native number.\n     */\n    toNumber() {\n        let result = this.hi * TWO_PWR_32_DBL + (this.lo >>> 0);\n        if (!Number.isSafeInteger(result))\n            throw new Error(\"cannot convert to safe number\");\n        return result;\n    }\n}\n/**\n * 64-bit unsigned integer as two 32-bit values.\n * Converts between `string`, `number` and `bigint` representations.\n */\nexport class PbULong extends SharedPbLong {\n    /**\n     * Create instance from a `string`, `number` or `bigint`.\n     */\n    static from(value) {\n        if (BI)\n            // noinspection FallThroughInSwitchStatementJS\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    if (value == \"\")\n                        throw new Error('string is no integer');\n                    value = BI.C(value);\n                case \"number\":\n                    if (value === 0)\n                        return this.ZERO;\n                    value = BI.C(value);\n                case \"bigint\":\n                    if (!value)\n                        return this.ZERO;\n                    if (value < BI.UMIN)\n                        throw new Error('signed value for ulong');\n                    if (value > BI.UMAX)\n                        throw new Error('ulong too large');\n                    BI.V.setBigUint64(0, value, true);\n                    return new PbULong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));\n            }\n        else\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    value = value.trim();\n                    if (!RE_DECIMAL_STR.test(value))\n                        throw new Error('string is no integer');\n                    let [minus, lo, hi] = int64fromString(value);\n                    if (minus)\n                        throw new Error('signed value');\n                    return new PbULong(lo, hi);\n                case \"number\":\n                    if (value == 0)\n                        return this.ZERO;\n                    if (!Number.isSafeInteger(value))\n                        throw new Error('number is no integer');\n                    if (value < 0)\n                        throw new Error('signed value for ulong');\n                    return new PbULong(value, value / TWO_PWR_32_DBL);\n            }\n        throw new Error('unknown value ' + typeof value);\n    }\n    /**\n     * Convert to decimal string.\n     */\n    toString() {\n        return BI ? this.toBigInt().toString() : int64toString(this.lo, this.hi);\n    }\n    /**\n     * Convert to native bigint.\n     */\n    toBigInt() {\n        assertBi(BI);\n        BI.V.setInt32(0, this.lo, true);\n        BI.V.setInt32(4, this.hi, true);\n        return BI.V.getBigUint64(0, true);\n    }\n}\n/**\n * ulong 0 singleton.\n */\nPbULong.ZERO = new PbULong(0, 0);\n/**\n * 64-bit signed integer as two 32-bit values.\n * Converts between `string`, `number` and `bigint` representations.\n */\nexport class PbLong extends SharedPbLong {\n    /**\n     * Create instance from a `string`, `number` or `bigint`.\n     */\n    static from(value) {\n        if (BI)\n            // noinspection FallThroughInSwitchStatementJS\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    if (value == \"\")\n                        throw new Error('string is no integer');\n                    value = BI.C(value);\n                case \"number\":\n                    if (value === 0)\n                        return this.ZERO;\n                    value = BI.C(value);\n                case \"bigint\":\n                    if (!value)\n                        return this.ZERO;\n                    if (value < BI.MIN)\n                        throw new Error('ulong too small');\n                    if (value > BI.MAX)\n                        throw new Error('ulong too large');\n                    BI.V.setBigInt64(0, value, true);\n                    return new PbLong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));\n            }\n        else\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    value = value.trim();\n                    if (!RE_DECIMAL_STR.test(value))\n                        throw new Error('string is no integer');\n                    let [minus, lo, hi] = int64fromString(value);\n                    let pbl = new PbLong(lo, hi);\n                    return minus ? pbl.negate() : pbl;\n                case \"number\":\n                    if (value == 0)\n                        return this.ZERO;\n                    if (!Number.isSafeInteger(value))\n                        throw new Error('number is no integer');\n                    return value > 0\n                        ? new PbLong(value, value / TWO_PWR_32_DBL)\n                        : new PbLong(-value, -value / TWO_PWR_32_DBL).negate();\n            }\n        throw new Error('unknown value ' + typeof value);\n    }\n    /**\n     * Do we have a minus sign?\n     */\n    isNegative() {\n        return (this.hi & 0x80000000) !== 0;\n    }\n    /**\n     * Negate two's complement.\n     * Invert all the bits and add one to the result.\n     */\n    negate() {\n        let hi = ~this.hi, lo = this.lo;\n        if (lo)\n            lo = ~lo + 1;\n        else\n            hi += 1;\n        return new PbLong(lo, hi);\n    }\n    /**\n     * Convert to decimal string.\n     */\n    toString() {\n        if (BI)\n            return this.toBigInt().toString();\n        if (this.isNegative()) {\n            let n = this.negate();\n            return '-' + int64toString(n.lo, n.hi);\n        }\n        return int64toString(this.lo, this.hi);\n    }\n    /**\n     * Convert to native bigint.\n     */\n    toBigInt() {\n        assertBi(BI);\n        BI.V.setInt32(0, this.lo, true);\n        BI.V.setInt32(4, this.hi, true);\n        return BI.V.getBigInt64(0, true);\n    }\n}\n/**\n * long 0 singleton.\n */\nPbLong.ZERO = new PbLong(0, 0);\n","/**\n * assert that condition is true or throw error (with message)\n */\nexport function assert(condition, msg) {\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\n/**\n * assert that value cannot exist = type `never`. throw runtime error if it does.\n */\nexport function assertNever(value, msg) {\n    throw new Error(msg !== null && msg !== void 0 ? msg : 'Unexpected object: ' + value);\n}\nconst FLOAT32_MAX = 3.4028234663852886e+38, FLOAT32_MIN = -3.4028234663852886e+38, UINT32_MAX = 0xFFFFFFFF, INT32_MAX = 0X7FFFFFFF, INT32_MIN = -0X80000000;\nexport function assertInt32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid int 32: ' + typeof arg);\n    if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN)\n        throw new Error('invalid int 32: ' + arg);\n}\nexport function assertUInt32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid uint 32: ' + typeof arg);\n    if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0)\n        throw new Error('invalid uint 32: ' + arg);\n}\nexport function assertFloat32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid float 32: ' + typeof arg);\n    if (!Number.isFinite(arg))\n        return;\n    if (arg > FLOAT32_MAX || arg < FLOAT32_MIN)\n        throw new Error('invalid float 32: ' + arg);\n}\n","import { LongType } from \"./reflection-info\";\n/**\n * Utility method to convert a PbLong or PbUlong to a JavaScript\n * representation during runtime.\n *\n * Works with generated field information, `undefined` is equivalent\n * to `STRING`.\n */\nexport function reflectionLongConvert(long, type) {\n    switch (type) {\n        case LongType.BIGINT:\n            return long.toBigInt();\n        case LongType.NUMBER:\n            return long.toNumber();\n        default:\n            // case undefined:\n            // case LongType.STRING:\n            return long.toString();\n    }\n}\n","import { isJsonObject, typeofJsonValue } from \"./json-typings\";\nimport { base64decode } from \"./base64\";\nimport { LongType, ScalarType } from \"./reflection-info\";\nimport { PbLong, PbULong } from \"./pb-long\";\nimport { assert, assertFloat32, assertInt32, assertUInt32 } from \"./assert\";\nimport { reflectionLongConvert } from \"./reflection-long-convert\";\n/**\n * Reads proto3 messages in canonical JSON format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n */\nexport class ReflectionJsonReader {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        var _a;\n        if (this.fMap === undefined) {\n            this.fMap = {};\n            const fieldsInput = (_a = this.info.fields) !== null && _a !== void 0 ? _a : [];\n            for (const field of fieldsInput) {\n                this.fMap[field.name] = field;\n                this.fMap[field.jsonName] = field;\n                this.fMap[field.localName] = field;\n            }\n        }\n    }\n    // Cannot parse JSON <type of jsonValue> for <type name>#<fieldName>.\n    assert(condition, fieldName, jsonValue) {\n        if (!condition) {\n            let what = typeofJsonValue(jsonValue);\n            if (what == \"number\" || what == \"boolean\")\n                what = jsonValue.toString();\n            throw new Error(`Cannot parse JSON ${what} for ${this.info.typeName}#${fieldName}`);\n        }\n    }\n    /**\n     * Reads a message from canonical JSON format into the target message.\n     *\n     * Repeated fields are appended. Map entries are added, overwriting\n     * existing keys.\n     *\n     * If a message field is already present, it will be merged with the\n     * new data.\n     */\n    read(input, message, options) {\n        this.prepare();\n        const oneofsHandled = [];\n        for (const [jsonKey, jsonValue] of Object.entries(input)) {\n            const field = this.fMap[jsonKey];\n            if (!field) {\n                if (!options.ignoreUnknownFields)\n                    throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${jsonKey}`);\n                continue;\n            }\n            const localName = field.localName;\n            // handle oneof ADT\n            let target; // this will be the target for the field value, whether it is member of a oneof or not\n            if (field.oneof) {\n                // since json objects are unordered by specification, it is not possible to take the last of multiple oneofs\n                if (oneofsHandled.includes(field.oneof))\n                    throw new Error(`Multiple members of the oneof group \"${field.oneof}\" of ${this.info.typeName} are present in JSON.`);\n                oneofsHandled.push(field.oneof);\n                target = message[field.oneof] = {\n                    oneofKind: localName\n                };\n            }\n            else {\n                target = message;\n            }\n            // we have handled oneof above. we just have read the value into `target`.\n            if (field.kind == 'map') {\n                if (jsonValue === null) {\n                    continue;\n                }\n                // check input\n                this.assert(isJsonObject(jsonValue), field.name, jsonValue);\n                // our target to put map entries into\n                const fieldObj = target[localName];\n                // read entries\n                for (const [jsonObjKey, jsonObjValue] of Object.entries(jsonValue)) {\n                    this.assert(jsonObjValue !== null, field.name + \" map value\", null);\n                    // read value\n                    let val;\n                    switch (field.V.kind) {\n                        case \"message\":\n                            val = field.V.T().internalJsonRead(jsonObjValue, options);\n                            break;\n                        case \"enum\":\n                            val = this.enum(field.V.T(), jsonObjValue, field.name, options.ignoreUnknownFields);\n                            if (val === false)\n                                continue;\n                            break;\n                        case \"scalar\":\n                            val = this.scalar(jsonObjValue, field.V.T, field.V.L, field.name);\n                            break;\n                    }\n                    this.assert(val !== undefined, field.name + \" map value\", jsonObjValue);\n                    // read key\n                    let key = jsonObjKey;\n                    if (field.K == ScalarType.BOOL)\n                        key = key == \"true\" ? true : key == \"false\" ? false : key;\n                    key = this.scalar(key, field.K, LongType.STRING, field.name).toString();\n                    fieldObj[key] = val;\n                }\n            }\n            else if (field.repeat) {\n                if (jsonValue === null)\n                    continue;\n                // check input\n                this.assert(Array.isArray(jsonValue), field.name, jsonValue);\n                // our target to put array entries into\n                const fieldArr = target[localName];\n                // read array entries\n                for (const jsonItem of jsonValue) {\n                    this.assert(jsonItem !== null, field.name, null);\n                    let val;\n                    switch (field.kind) {\n                        case \"message\":\n                            val = field.T().internalJsonRead(jsonItem, options);\n                            break;\n                        case \"enum\":\n                            val = this.enum(field.T(), jsonItem, field.name, options.ignoreUnknownFields);\n                            if (val === false)\n                                continue;\n                            break;\n                        case \"scalar\":\n                            val = this.scalar(jsonItem, field.T, field.L, field.name);\n                            break;\n                    }\n                    this.assert(val !== undefined, field.name, jsonValue);\n                    fieldArr.push(val);\n                }\n            }\n            else {\n                switch (field.kind) {\n                    case \"message\":\n                        if (jsonValue === null && field.T().typeName != 'google.protobuf.Value') {\n                            this.assert(field.oneof === undefined, field.name + \" (oneof member)\", null);\n                            continue;\n                        }\n                        target[localName] = field.T().internalJsonRead(jsonValue, options, target[localName]);\n                        break;\n                    case \"enum\":\n                        let val = this.enum(field.T(), jsonValue, field.name, options.ignoreUnknownFields);\n                        if (val === false)\n                            continue;\n                        target[localName] = val;\n                        break;\n                    case \"scalar\":\n                        target[localName] = this.scalar(jsonValue, field.T, field.L, field.name);\n                        break;\n                }\n            }\n        }\n    }\n    /**\n     * Returns `false` for unrecognized string representations.\n     *\n     * google.protobuf.NullValue accepts only JSON `null`.\n     */\n    enum(type, json, fieldName, ignoreUnknownFields) {\n        if (type[0] == 'google.protobuf.NullValue')\n            assert(json === null, `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${type[0]} only accepts null.`);\n        if (json === null)\n            // we require 0 to be default value for all enums\n            return 0;\n        switch (typeof json) {\n            case \"number\":\n                assert(Number.isInteger(json), `Unable to parse field ${this.info.typeName}#${fieldName}, enum can only be integral number, got ${json}.`);\n                return json;\n            case \"string\":\n                let localEnumName = json;\n                if (type[2] && json.substring(0, type[2].length) === type[2])\n                    // lookup without the shared prefix\n                    localEnumName = json.substring(type[2].length);\n                let enumNumber = type[1][localEnumName];\n                if (typeof enumNumber === 'undefined' && ignoreUnknownFields) {\n                    return false;\n                }\n                assert(typeof enumNumber == \"number\", `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${type[0]} has no value for \"${json}\".`);\n                return enumNumber;\n        }\n        assert(false, `Unable to parse field ${this.info.typeName}#${fieldName}, cannot parse enum value from ${typeof json}\".`);\n    }\n    scalar(json, type, longType, fieldName) {\n        let e;\n        try {\n            switch (type) {\n                // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n                // Either numbers or strings are accepted. Exponent notation is also accepted.\n                case ScalarType.DOUBLE:\n                case ScalarType.FLOAT:\n                    if (json === null)\n                        return .0;\n                    if (json === \"NaN\")\n                        return Number.NaN;\n                    if (json === \"Infinity\")\n                        return Number.POSITIVE_INFINITY;\n                    if (json === \"-Infinity\")\n                        return Number.NEGATIVE_INFINITY;\n                    if (json === \"\") {\n                        e = \"empty string\";\n                        break;\n                    }\n                    if (typeof json == \"string\" && json.trim().length !== json.length) {\n                        e = \"extra whitespace\";\n                        break;\n                    }\n                    if (typeof json != \"string\" && typeof json != \"number\") {\n                        break;\n                    }\n                    let float = Number(json);\n                    if (Number.isNaN(float)) {\n                        e = \"not a number\";\n                        break;\n                    }\n                    if (!Number.isFinite(float)) {\n                        // infinity and -infinity are handled by string representation above, so this is an error\n                        e = \"too large or small\";\n                        break;\n                    }\n                    if (type == ScalarType.FLOAT)\n                        assertFloat32(float);\n                    return float;\n                // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n                case ScalarType.INT32:\n                case ScalarType.FIXED32:\n                case ScalarType.SFIXED32:\n                case ScalarType.SINT32:\n                case ScalarType.UINT32:\n                    if (json === null)\n                        return 0;\n                    let int32;\n                    if (typeof json == \"number\")\n                        int32 = json;\n                    else if (json === \"\")\n                        e = \"empty string\";\n                    else if (typeof json == \"string\") {\n                        if (json.trim().length !== json.length)\n                            e = \"extra whitespace\";\n                        else\n                            int32 = Number(json);\n                    }\n                    if (int32 === undefined)\n                        break;\n                    if (type == ScalarType.UINT32)\n                        assertUInt32(int32);\n                    else\n                        assertInt32(int32);\n                    return int32;\n                // int64, fixed64, uint64: JSON value will be a decimal string. Either numbers or strings are accepted.\n                case ScalarType.INT64:\n                case ScalarType.SFIXED64:\n                case ScalarType.SINT64:\n                    if (json === null)\n                        return reflectionLongConvert(PbLong.ZERO, longType);\n                    if (typeof json != \"number\" && typeof json != \"string\")\n                        break;\n                    return reflectionLongConvert(PbLong.from(json), longType);\n                case ScalarType.FIXED64:\n                case ScalarType.UINT64:\n                    if (json === null)\n                        return reflectionLongConvert(PbULong.ZERO, longType);\n                    if (typeof json != \"number\" && typeof json != \"string\")\n                        break;\n                    return reflectionLongConvert(PbULong.from(json), longType);\n                // bool:\n                case ScalarType.BOOL:\n                    if (json === null)\n                        return false;\n                    if (typeof json !== \"boolean\")\n                        break;\n                    return json;\n                // string:\n                case ScalarType.STRING:\n                    if (json === null)\n                        return \"\";\n                    if (typeof json !== \"string\") {\n                        e = \"extra whitespace\";\n                        break;\n                    }\n                    try {\n                        encodeURIComponent(json);\n                    }\n                    catch (e) {\n                        e = \"invalid UTF8\";\n                        break;\n                    }\n                    return json;\n                // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n                // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n                case ScalarType.BYTES:\n                    if (json === null || json === \"\")\n                        return new Uint8Array(0);\n                    if (typeof json !== 'string')\n                        break;\n                    return base64decode(json);\n            }\n        }\n        catch (error) {\n            e = error.message;\n        }\n        this.assert(false, fieldName + (e ? \" - \" + e : \"\"), json);\n    }\n}\n","import { base64encode } from \"./base64\";\nimport { PbLong, PbULong } from \"./pb-long\";\nimport { ScalarType } from \"./reflection-info\";\nimport { assert, assertFloat32, assertInt32, assertUInt32 } from \"./assert\";\n/**\n * Writes proto3 messages in canonical JSON format using reflection\n * information.\n *\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n */\nexport class ReflectionJsonWriter {\n    constructor(info) {\n        var _a;\n        this.fields = (_a = info.fields) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * Converts the message to a JSON object, based on the field descriptors.\n     */\n    write(message, options) {\n        const json = {}, source = message;\n        for (const field of this.fields) {\n            // field is not part of a oneof, simply write as is\n            if (!field.oneof) {\n                let jsonValue = this.field(field, source[field.localName], options);\n                if (jsonValue !== undefined)\n                    json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;\n                continue;\n            }\n            // field is part of a oneof\n            const group = source[field.oneof];\n            if (group.oneofKind !== field.localName)\n                continue; // not selected, skip\n            const opt = field.kind == 'scalar' || field.kind == 'enum'\n                ? Object.assign(Object.assign({}, options), { emitDefaultValues: true }) : options;\n            let jsonValue = this.field(field, group[field.localName], opt);\n            assert(jsonValue !== undefined);\n            json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;\n        }\n        return json;\n    }\n    field(field, value, options) {\n        let jsonValue = undefined;\n        if (field.kind == 'map') {\n            assert(typeof value == \"object\" && value !== null);\n            const jsonObj = {};\n            switch (field.V.kind) {\n                case \"scalar\":\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        const val = this.scalar(field.V.T, entryValue, field.name, false, true);\n                        assert(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n                case \"message\":\n                    const messageType = field.V.T();\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        const val = this.message(messageType, entryValue, field.name, options);\n                        assert(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n                case \"enum\":\n                    const enumInfo = field.V.T();\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        assert(entryValue === undefined || typeof entryValue == 'number');\n                        const val = this.enum(enumInfo, entryValue, field.name, false, true, options.enumAsInteger);\n                        assert(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n            }\n            if (options.emitDefaultValues || Object.keys(jsonObj).length > 0)\n                jsonValue = jsonObj;\n        }\n        else if (field.repeat) {\n            assert(Array.isArray(value));\n            const jsonArr = [];\n            switch (field.kind) {\n                case \"scalar\":\n                    for (let i = 0; i < value.length; i++) {\n                        const val = this.scalar(field.T, value[i], field.name, field.opt, true);\n                        assert(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n                case \"enum\":\n                    const enumInfo = field.T();\n                    for (let i = 0; i < value.length; i++) {\n                        assert(value[i] === undefined || typeof value[i] == 'number');\n                        const val = this.enum(enumInfo, value[i], field.name, field.opt, true, options.enumAsInteger);\n                        assert(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n                case \"message\":\n                    const messageType = field.T();\n                    for (let i = 0; i < value.length; i++) {\n                        const val = this.message(messageType, value[i], field.name, options);\n                        assert(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n            }\n            // add converted array to json output\n            if (options.emitDefaultValues || jsonArr.length > 0 || options.emitDefaultValues)\n                jsonValue = jsonArr;\n        }\n        else {\n            switch (field.kind) {\n                case \"scalar\":\n                    jsonValue = this.scalar(field.T, value, field.name, field.opt, options.emitDefaultValues);\n                    break;\n                case \"enum\":\n                    jsonValue = this.enum(field.T(), value, field.name, field.opt, options.emitDefaultValues, options.enumAsInteger);\n                    break;\n                case \"message\":\n                    jsonValue = this.message(field.T(), value, field.name, options);\n                    break;\n            }\n        }\n        return jsonValue;\n    }\n    /**\n     * Returns `null` for google.protobuf.NullValue.\n     */\n    enum(type, value, fieldName, optional, emitDefaultValues, enumAsInteger) {\n        if (type[0] == 'google.protobuf.NullValue')\n            return null;\n        if (value === undefined) {\n            assert(optional);\n            return undefined;\n        }\n        if (value === 0 && !emitDefaultValues && !optional)\n            // we require 0 to be default value for all enums\n            return undefined;\n        assert(typeof value == 'number');\n        assert(Number.isInteger(value));\n        if (enumAsInteger || !type[1].hasOwnProperty(value))\n            // if we don't now the enum value, just return the number\n            return value;\n        if (type[2])\n            // restore the dropped prefix\n            return type[2] + type[1][value];\n        return type[1][value];\n    }\n    message(type, value, fieldName, options) {\n        if (value === undefined)\n            return options.emitDefaultValues ? null : undefined;\n        return type.internalJsonWrite(value, options);\n    }\n    scalar(type, value, fieldName, optional, emitDefaultValues) {\n        if (value === undefined) {\n            assert(optional);\n            return undefined;\n        }\n        const ed = emitDefaultValues || optional;\n        // noinspection FallThroughInSwitchStatementJS\n        switch (type) {\n            // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n            case ScalarType.INT32:\n            case ScalarType.SFIXED32:\n            case ScalarType.SINT32:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                assertInt32(value);\n                return value;\n            case ScalarType.FIXED32:\n            case ScalarType.UINT32:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                assertUInt32(value);\n                return value;\n            // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n            // Either numbers or strings are accepted. Exponent notation is also accepted.\n            case ScalarType.FLOAT:\n                assertFloat32(value);\n            case ScalarType.DOUBLE:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                assert(typeof value == 'number');\n                if (Number.isNaN(value))\n                    return 'NaN';\n                if (value === Number.POSITIVE_INFINITY)\n                    return 'Infinity';\n                if (value === Number.NEGATIVE_INFINITY)\n                    return '-Infinity';\n                return value;\n            // string:\n            case ScalarType.STRING:\n                if (value === \"\")\n                    return ed ? '' : undefined;\n                assert(typeof value == 'string');\n                return value;\n            // bool:\n            case ScalarType.BOOL:\n                if (value === false)\n                    return ed ? false : undefined;\n                assert(typeof value == 'boolean');\n                return value;\n            // JSON value will be a decimal string. Either numbers or strings are accepted.\n            case ScalarType.UINT64:\n            case ScalarType.FIXED64:\n                assert(typeof value == 'number' || typeof value == 'string' || typeof value == 'bigint');\n                let ulong = PbULong.from(value);\n                if (ulong.isZero() && !ed)\n                    return undefined;\n                return ulong.toString();\n            // JSON value will be a decimal string. Either numbers or strings are accepted.\n            case ScalarType.INT64:\n            case ScalarType.SFIXED64:\n            case ScalarType.SINT64:\n                assert(typeof value == 'number' || typeof value == 'string' || typeof value == 'bigint');\n                let long = PbLong.from(value);\n                if (long.isZero() && !ed)\n                    return undefined;\n                return long.toString();\n            // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n            // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n            case ScalarType.BYTES:\n                assert(value instanceof Uint8Array);\n                if (!value.byteLength)\n                    return ed ? \"\" : undefined;\n                return base64encode(value);\n        }\n    }\n}\n","import { LongType, ScalarType } from \"./reflection-info\";\nimport { reflectionLongConvert } from \"./reflection-long-convert\";\nimport { PbLong, PbULong } from \"./pb-long\";\n/**\n * Creates the default value for a scalar type.\n */\nexport function reflectionScalarDefault(type, longType = LongType.STRING) {\n    switch (type) {\n        case ScalarType.BOOL:\n            return false;\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n            return reflectionLongConvert(PbULong.ZERO, longType);\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            return reflectionLongConvert(PbLong.ZERO, longType);\n        case ScalarType.DOUBLE:\n        case ScalarType.FLOAT:\n            return 0.0;\n        case ScalarType.BYTES:\n            return new Uint8Array(0);\n        case ScalarType.STRING:\n            return \"\";\n        default:\n            // case ScalarType.INT32:\n            // case ScalarType.UINT32:\n            // case ScalarType.SINT32:\n            // case ScalarType.FIXED32:\n            // case ScalarType.SFIXED32:\n            return 0;\n    }\n}\n","import { UnknownFieldHandler, WireType } from \"./binary-format-contract\";\nimport { LongType, ScalarType } from \"./reflection-info\";\nimport { reflectionLongConvert } from \"./reflection-long-convert\";\nimport { reflectionScalarDefault } from \"./reflection-scalar-default\";\n/**\n * Reads proto3 messages in binary format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/encoding\n */\nexport class ReflectionBinaryReader {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        var _a;\n        if (!this.fieldNoToField) {\n            const fieldsInput = (_a = this.info.fields) !== null && _a !== void 0 ? _a : [];\n            this.fieldNoToField = new Map(fieldsInput.map(field => [field.no, field]));\n        }\n    }\n    /**\n     * Reads a message from binary format into the target message.\n     *\n     * Repeated fields are appended. Map entries are added, overwriting\n     * existing keys.\n     *\n     * If a message field is already present, it will be merged with the\n     * new data.\n     */\n    read(reader, message, options, length) {\n        this.prepare();\n        const end = length === undefined ? reader.len : reader.pos + length;\n        while (reader.pos < end) {\n            // read the tag and find the field\n            const [fieldNo, wireType] = reader.tag(), field = this.fieldNoToField.get(fieldNo);\n            if (!field) {\n                let u = options.readUnknownField;\n                if (u == \"throw\")\n                    throw new Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.info.typeName}`);\n                let d = reader.skip(wireType);\n                if (u !== false)\n                    (u === true ? UnknownFieldHandler.onRead : u)(this.info.typeName, message, fieldNo, wireType, d);\n                continue;\n            }\n            // target object for the field we are reading\n            let target = message, repeated = field.repeat, localName = field.localName;\n            // if field is member of oneof ADT, use ADT as target\n            if (field.oneof) {\n                target = target[field.oneof];\n                // if other oneof member selected, set new ADT\n                if (target.oneofKind !== localName)\n                    target = message[field.oneof] = {\n                        oneofKind: localName\n                    };\n            }\n            // we have handled oneof above, we just have read the value into `target[localName]`\n            switch (field.kind) {\n                case \"scalar\":\n                case \"enum\":\n                    let T = field.kind == \"enum\" ? ScalarType.INT32 : field.T;\n                    let L = field.kind == \"scalar\" ? field.L : undefined;\n                    if (repeated) {\n                        let arr = target[localName]; // safe to assume presence of array, oneof cannot contain repeated values\n                        if (wireType == WireType.LengthDelimited && T != ScalarType.STRING && T != ScalarType.BYTES) {\n                            let e = reader.uint32() + reader.pos;\n                            while (reader.pos < e)\n                                arr.push(this.scalar(reader, T, L));\n                        }\n                        else\n                            arr.push(this.scalar(reader, T, L));\n                    }\n                    else\n                        target[localName] = this.scalar(reader, T, L);\n                    break;\n                case \"message\":\n                    if (repeated) {\n                        let arr = target[localName]; // safe to assume presence of array, oneof cannot contain repeated values\n                        let msg = field.T().internalBinaryRead(reader, reader.uint32(), options);\n                        arr.push(msg);\n                    }\n                    else\n                        target[localName] = field.T().internalBinaryRead(reader, reader.uint32(), options, target[localName]);\n                    break;\n                case \"map\":\n                    let [mapKey, mapVal] = this.mapEntry(field, reader, options);\n                    // safe to assume presence of map object, oneof cannot contain repeated values\n                    target[localName][mapKey] = mapVal;\n                    break;\n            }\n        }\n    }\n    /**\n     * Read a map field, expecting key field = 1, value field = 2\n     */\n    mapEntry(field, reader, options) {\n        let length = reader.uint32();\n        let end = reader.pos + length;\n        let key = undefined; // javascript only allows number or string for object properties\n        let val = undefined;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case 1:\n                    if (field.K == ScalarType.BOOL)\n                        key = reader.bool().toString();\n                    else\n                        // long types are read as string, number types are okay as number\n                        key = this.scalar(reader, field.K, LongType.STRING);\n                    break;\n                case 2:\n                    switch (field.V.kind) {\n                        case \"scalar\":\n                            val = this.scalar(reader, field.V.T, field.V.L);\n                            break;\n                        case \"enum\":\n                            val = reader.int32();\n                            break;\n                        case \"message\":\n                            val = field.V.T().internalBinaryRead(reader, reader.uint32(), options);\n                            break;\n                    }\n                    break;\n                default:\n                    throw new Error(`Unknown field ${fieldNo} (wire type ${wireType}) in map entry for ${this.info.typeName}#${field.name}`);\n            }\n        }\n        if (key === undefined) {\n            let keyRaw = reflectionScalarDefault(field.K);\n            key = field.K == ScalarType.BOOL ? keyRaw.toString() : keyRaw;\n        }\n        if (val === undefined)\n            switch (field.V.kind) {\n                case \"scalar\":\n                    val = reflectionScalarDefault(field.V.T, field.V.L);\n                    break;\n                case \"enum\":\n                    val = 0;\n                    break;\n                case \"message\":\n                    val = field.V.T().create();\n                    break;\n            }\n        return [key, val];\n    }\n    scalar(reader, type, longType) {\n        switch (type) {\n            case ScalarType.INT32:\n                return reader.int32();\n            case ScalarType.STRING:\n                return reader.string();\n            case ScalarType.BOOL:\n                return reader.bool();\n            case ScalarType.DOUBLE:\n                return reader.double();\n            case ScalarType.FLOAT:\n                return reader.float();\n            case ScalarType.INT64:\n                return reflectionLongConvert(reader.int64(), longType);\n            case ScalarType.UINT64:\n                return reflectionLongConvert(reader.uint64(), longType);\n            case ScalarType.FIXED64:\n                return reflectionLongConvert(reader.fixed64(), longType);\n            case ScalarType.FIXED32:\n                return reader.fixed32();\n            case ScalarType.BYTES:\n                return reader.bytes();\n            case ScalarType.UINT32:\n                return reader.uint32();\n            case ScalarType.SFIXED32:\n                return reader.sfixed32();\n            case ScalarType.SFIXED64:\n                return reflectionLongConvert(reader.sfixed64(), longType);\n            case ScalarType.SINT32:\n                return reader.sint32();\n            case ScalarType.SINT64:\n                return reflectionLongConvert(reader.sint64(), longType);\n        }\n    }\n}\n","import { UnknownFieldHandler, WireType } from \"./binary-format-contract\";\nimport { RepeatType, ScalarType } from \"./reflection-info\";\nimport { assert } from \"./assert\";\nimport { PbLong, PbULong } from \"./pb-long\";\n/**\n * Writes proto3 messages in binary format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/encoding\n */\nexport class ReflectionBinaryWriter {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        if (!this.fields) {\n            const fieldsInput = this.info.fields ? this.info.fields.concat() : [];\n            this.fields = fieldsInput.sort((a, b) => a.no - b.no);\n        }\n    }\n    /**\n     * Writes the message to binary format.\n     */\n    write(message, writer, options) {\n        this.prepare();\n        for (const field of this.fields) {\n            let value, // this will be our field value, whether it is member of a oneof or not\n            emitDefault, // whether we emit the default value (only true for oneof members)\n            repeated = field.repeat, localName = field.localName;\n            // handle oneof ADT\n            if (field.oneof) {\n                const group = message[field.oneof];\n                if (group.oneofKind !== localName)\n                    continue; // if field is not selected, skip\n                value = group[localName];\n                emitDefault = true;\n            }\n            else {\n                value = message[localName];\n                emitDefault = false;\n            }\n            // we have handled oneof above. we just have to honor `emitDefault`.\n            switch (field.kind) {\n                case \"scalar\":\n                case \"enum\":\n                    let T = field.kind == \"enum\" ? ScalarType.INT32 : field.T;\n                    if (repeated) {\n                        assert(Array.isArray(value));\n                        if (repeated == RepeatType.PACKED)\n                            this.packed(writer, T, field.no, value);\n                        else\n                            for (const item of value)\n                                this.scalar(writer, T, field.no, item, true);\n                    }\n                    else if (value === undefined)\n                        assert(field.opt);\n                    else\n                        this.scalar(writer, T, field.no, value, emitDefault || field.opt);\n                    break;\n                case \"message\":\n                    if (repeated) {\n                        assert(Array.isArray(value));\n                        for (const item of value)\n                            this.message(writer, options, field.T(), field.no, item);\n                    }\n                    else {\n                        this.message(writer, options, field.T(), field.no, value);\n                    }\n                    break;\n                case \"map\":\n                    assert(typeof value == 'object' && value !== null);\n                    for (const [key, val] of Object.entries(value))\n                        this.mapEntry(writer, options, field, key, val);\n                    break;\n            }\n        }\n        let u = options.writeUnknownFields;\n        if (u !== false)\n            (u === true ? UnknownFieldHandler.onWrite : u)(this.info.typeName, message, writer);\n    }\n    mapEntry(writer, options, field, key, value) {\n        writer.tag(field.no, WireType.LengthDelimited);\n        writer.fork();\n        // javascript only allows number or string for object properties\n        // we convert from our representation to the protobuf type\n        let keyValue = key;\n        switch (field.K) {\n            case ScalarType.INT32:\n            case ScalarType.FIXED32:\n            case ScalarType.UINT32:\n            case ScalarType.SFIXED32:\n            case ScalarType.SINT32:\n                keyValue = Number.parseInt(key);\n                break;\n            case ScalarType.BOOL:\n                assert(key == 'true' || key == 'false');\n                keyValue = key == 'true';\n                break;\n        }\n        // write key, expecting key field number = 1\n        this.scalar(writer, field.K, 1, keyValue, true);\n        // write value, expecting value field number = 2\n        switch (field.V.kind) {\n            case 'scalar':\n                this.scalar(writer, field.V.T, 2, value, true);\n                break;\n            case 'enum':\n                this.scalar(writer, ScalarType.INT32, 2, value, true);\n                break;\n            case 'message':\n                this.message(writer, options, field.V.T(), 2, value);\n                break;\n        }\n        writer.join();\n    }\n    message(writer, options, handler, fieldNo, value) {\n        if (value === undefined)\n            return;\n        handler.internalBinaryWrite(value, writer.tag(fieldNo, WireType.LengthDelimited).fork(), options);\n        writer.join();\n    }\n    /**\n     * Write a single scalar value.\n     */\n    scalar(writer, type, fieldNo, value, emitDefault) {\n        let [wireType, method, isDefault] = this.scalarInfo(type, value);\n        if (!isDefault || emitDefault) {\n            writer.tag(fieldNo, wireType);\n            writer[method](value);\n        }\n    }\n    /**\n     * Write an array of scalar values in packed format.\n     */\n    packed(writer, type, fieldNo, value) {\n        if (!value.length)\n            return;\n        assert(type !== ScalarType.BYTES && type !== ScalarType.STRING);\n        // write tag\n        writer.tag(fieldNo, WireType.LengthDelimited);\n        // begin length-delimited\n        writer.fork();\n        // write values without tags\n        let [, method,] = this.scalarInfo(type);\n        for (let i = 0; i < value.length; i++)\n            writer[method](value[i]);\n        // end length delimited\n        writer.join();\n    }\n    /**\n     * Get information for writing a scalar value.\n     *\n     * Returns tuple:\n     * [0]: appropriate WireType\n     * [1]: name of the appropriate method of IBinaryWriter\n     * [2]: whether the given value is a default value\n     *\n     * If argument `value` is omitted, [2] is always false.\n     */\n    scalarInfo(type, value) {\n        let t = WireType.Varint;\n        let m;\n        let i = value === undefined;\n        let d = value === 0;\n        switch (type) {\n            case ScalarType.INT32:\n                m = \"int32\";\n                break;\n            case ScalarType.STRING:\n                d = i || !value.length;\n                t = WireType.LengthDelimited;\n                m = \"string\";\n                break;\n            case ScalarType.BOOL:\n                d = value === false;\n                m = \"bool\";\n                break;\n            case ScalarType.UINT32:\n                m = \"uint32\";\n                break;\n            case ScalarType.DOUBLE:\n                t = WireType.Bit64;\n                m = \"double\";\n                break;\n            case ScalarType.FLOAT:\n                t = WireType.Bit32;\n                m = \"float\";\n                break;\n            case ScalarType.INT64:\n                d = i || PbLong.from(value).isZero();\n                m = \"int64\";\n                break;\n            case ScalarType.UINT64:\n                d = i || PbULong.from(value).isZero();\n                m = \"uint64\";\n                break;\n            case ScalarType.FIXED64:\n                d = i || PbULong.from(value).isZero();\n                t = WireType.Bit64;\n                m = \"fixed64\";\n                break;\n            case ScalarType.BYTES:\n                d = i || !value.byteLength;\n                t = WireType.LengthDelimited;\n                m = \"bytes\";\n                break;\n            case ScalarType.FIXED32:\n                t = WireType.Bit32;\n                m = \"fixed32\";\n                break;\n            case ScalarType.SFIXED32:\n                t = WireType.Bit32;\n                m = \"sfixed32\";\n                break;\n            case ScalarType.SFIXED64:\n                d = i || PbLong.from(value).isZero();\n                t = WireType.Bit64;\n                m = \"sfixed64\";\n                break;\n            case ScalarType.SINT32:\n                m = \"sint32\";\n                break;\n            case ScalarType.SINT64:\n                d = i || PbLong.from(value).isZero();\n                m = \"sint64\";\n                break;\n        }\n        return [t, m, i || d];\n    }\n}\n","const defaultsWrite = {\n    emitDefaultValues: false,\n    enumAsInteger: false,\n    useProtoFieldName: false,\n    prettySpaces: 0,\n}, defaultsRead = {\n    ignoreUnknownFields: false,\n};\n/**\n * Make options for reading JSON data from partial options.\n */\nexport function jsonReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsRead), options) : defaultsRead;\n}\n/**\n * Make options for writing JSON data from partial options.\n */\nexport function jsonWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsWrite), options) : defaultsWrite;\n}\n/**\n * Merges JSON write or read options. Later values override earlier values. Type registries are merged.\n */\nexport function mergeJsonOptions(a, b) {\n    var _a, _b;\n    let c = Object.assign(Object.assign({}, a), b);\n    c.typeRegistry = [...((_a = a === null || a === void 0 ? void 0 : a.typeRegistry) !== null && _a !== void 0 ? _a : []), ...((_b = b === null || b === void 0 ? void 0 : b.typeRegistry) !== null && _b !== void 0 ? _b : [])];\n    return c;\n}\n","import { ScalarType } from \"./reflection-info\";\n/**\n * Determines whether two message of the same type have the same field values.\n * Checks for deep equality, traversing repeated fields, oneof groups, maps\n * and messages recursively.\n * Will also return true if both messages are `undefined`.\n */\nexport function reflectionEquals(info, a, b) {\n    if (a === b)\n        return true;\n    if (!a || !b)\n        return false;\n    for (let field of info.fields) {\n        let localName = field.localName;\n        let val_a = field.oneof ? a[field.oneof][localName] : a[localName];\n        let val_b = field.oneof ? b[field.oneof][localName] : b[localName];\n        switch (field.kind) {\n            case \"enum\":\n            case \"scalar\":\n                let t = field.kind == \"enum\" ? ScalarType.INT32 : field.T;\n                if (!(field.repeat\n                    ? repeatedPrimitiveEq(t, val_a, val_b)\n                    : primitiveEq(t, val_a, val_b)))\n                    return false;\n                break;\n            case \"map\":\n                if (!(field.V.kind == \"message\"\n                    ? repeatedMsgEq(field.V.T(), objectValues(val_a), objectValues(val_b))\n                    : repeatedPrimitiveEq(field.V.kind == \"enum\" ? ScalarType.INT32 : field.V.T, objectValues(val_a), objectValues(val_b))))\n                    return false;\n                break;\n            case \"message\":\n                let T = field.T();\n                if (!(field.repeat\n                    ? repeatedMsgEq(T, val_a, val_b)\n                    : T.equals(val_a, val_b)))\n                    return false;\n                break;\n        }\n    }\n    return true;\n}\nconst objectValues = Object.values;\nfunction primitiveEq(type, a, b) {\n    if (a === b)\n        return true;\n    if (type !== ScalarType.BYTES)\n        return false;\n    let ba = a;\n    let bb = b;\n    if (ba.length !== bb.length)\n        return false;\n    for (let i = 0; i < ba.length; i++)\n        if (ba[i] != bb[i])\n            return false;\n    return true;\n}\nfunction repeatedPrimitiveEq(type, a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!primitiveEq(type, a[i], b[i]))\n            return false;\n    return true;\n}\nfunction repeatedMsgEq(type, a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!type.equals(a[i], b[i]))\n            return false;\n    return true;\n}\n","import { PbLong, PbULong } from \"./pb-long\";\nimport { varint32write, varint64write } from \"./goog-varint\";\nimport { assertFloat32, assertInt32, assertUInt32 } from \"./assert\";\nconst defaultsWrite = {\n    writeUnknownFields: true,\n    writerFactory: () => new BinaryWriter(),\n};\n/**\n * Make options for writing binary data form partial options.\n */\nexport function binaryWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsWrite), options) : defaultsWrite;\n}\nexport class BinaryWriter {\n    constructor(textEncoder) {\n        /**\n         * Previous fork states.\n         */\n        this.stack = [];\n        this.textEncoder = textEncoder !== null && textEncoder !== void 0 ? textEncoder : new TextEncoder();\n        this.chunks = [];\n        this.buf = [];\n    }\n    /**\n     * Return all bytes written and reset this writer.\n     */\n    finish() {\n        this.chunks.push(new Uint8Array(this.buf)); // flush the buffer\n        let len = 0;\n        for (let i = 0; i < this.chunks.length; i++)\n            len += this.chunks[i].length;\n        let bytes = new Uint8Array(len);\n        let offset = 0;\n        for (let i = 0; i < this.chunks.length; i++) {\n            bytes.set(this.chunks[i], offset);\n            offset += this.chunks[i].length;\n        }\n        this.chunks = [];\n        return bytes;\n    }\n    /**\n     * Start a new fork for length-delimited data like a message\n     * or a packed repeated field.\n     *\n     * Must be joined later with `join()`.\n     */\n    fork() {\n        this.stack.push({ chunks: this.chunks, buf: this.buf });\n        this.chunks = [];\n        this.buf = [];\n        return this;\n    }\n    /**\n     * Join the last fork. Write its length and bytes, then\n     * return to the previous state.\n     */\n    join() {\n        // get chunk of fork\n        let chunk = this.finish();\n        // restore previous state\n        let prev = this.stack.pop();\n        if (!prev)\n            throw new Error('invalid state, fork stack empty');\n        this.chunks = prev.chunks;\n        this.buf = prev.buf;\n        // write length of chunk as varint\n        this.uint32(chunk.byteLength);\n        return this.raw(chunk);\n    }\n    /**\n     * Writes a tag (field number and wire type).\n     *\n     * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.\n     *\n     * Generated code should compute the tag ahead of time and call `uint32()`.\n     */\n    tag(fieldNo, type) {\n        return this.uint32((fieldNo << 3 | type) >>> 0);\n    }\n    /**\n     * Write a chunk of raw bytes.\n     */\n    raw(chunk) {\n        if (this.buf.length) {\n            this.chunks.push(new Uint8Array(this.buf));\n            this.buf = [];\n        }\n        this.chunks.push(chunk);\n        return this;\n    }\n    /**\n     * Write a `uint32` value, an unsigned 32 bit varint.\n     */\n    uint32(value) {\n        assertUInt32(value);\n        // write value as varint 32, inlined for speed\n        while (value > 0x7f) {\n            this.buf.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        this.buf.push(value);\n        return this;\n    }\n    /**\n     * Write a `int32` value, a signed 32 bit varint.\n     */\n    int32(value) {\n        assertInt32(value);\n        varint32write(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `bool` value, a variant.\n     */\n    bool(value) {\n        this.buf.push(value ? 1 : 0);\n        return this;\n    }\n    /**\n     * Write a `bytes` value, length-delimited arbitrary data.\n     */\n    bytes(value) {\n        this.uint32(value.byteLength); // write length of chunk as varint\n        return this.raw(value);\n    }\n    /**\n     * Write a `string` value, length-delimited data converted to UTF-8 text.\n     */\n    string(value) {\n        let chunk = this.textEncoder.encode(value);\n        this.uint32(chunk.byteLength); // write length of chunk as varint\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `float` value, 32-bit floating point number.\n     */\n    float(value) {\n        assertFloat32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setFloat32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `double` value, a 64-bit floating point number.\n     */\n    double(value) {\n        let chunk = new Uint8Array(8);\n        new DataView(chunk.buffer).setFloat64(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32(value) {\n        assertUInt32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setUint32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32(value) {\n        assertInt32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setInt32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32(value) {\n        assertInt32(value);\n        // zigzag encode\n        value = ((value << 1) ^ (value >> 31)) >>> 0;\n        varint32write(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `fixed64` value, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64(value) {\n        let chunk = new Uint8Array(8);\n        let view = new DataView(chunk.buffer);\n        let long = PbLong.from(value);\n        view.setInt32(0, long.lo, true);\n        view.setInt32(4, long.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64(value) {\n        let chunk = new Uint8Array(8);\n        let view = new DataView(chunk.buffer);\n        let long = PbULong.from(value);\n        view.setInt32(0, long.lo, true);\n        view.setInt32(4, long.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `int64` value, a signed 64-bit varint.\n     */\n    int64(value) {\n        let long = PbLong.from(value);\n        varint64write(long.lo, long.hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64(value) {\n        let long = PbLong.from(value), \n        // zigzag encode\n        sign = long.hi >> 31, lo = (long.lo << 1) ^ sign, hi = ((long.hi << 1) | (long.lo >>> 31)) ^ sign;\n        varint64write(lo, hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `uint64` value, an unsigned 64-bit varint.\n     */\n    uint64(value) {\n        let long = PbULong.from(value);\n        varint64write(long.lo, long.hi, this.buf);\n        return this;\n    }\n}\n","import { WireType } from \"./binary-format-contract\";\nimport { PbLong, PbULong } from \"./pb-long\";\nimport { varint32read, varint64read } from \"./goog-varint\";\nconst defaultsRead = {\n    readUnknownField: true,\n    readerFactory: bytes => new BinaryReader(bytes),\n};\n/**\n * Make options for reading binary data form partial options.\n */\nexport function binaryReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsRead), options) : defaultsRead;\n}\nexport class BinaryReader {\n    constructor(buf, textDecoder) {\n        this.varint64 = varint64read; // dirty cast for `this`\n        /**\n         * Read a `uint32` field, an unsigned 32 bit varint.\n         */\n        this.uint32 = varint32read; // dirty cast for `this` and access to protected `buf`\n        this.buf = buf;\n        this.len = buf.length;\n        this.pos = 0;\n        this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);\n        this.textDecoder = textDecoder !== null && textDecoder !== void 0 ? textDecoder : new TextDecoder(\"utf-8\", {\n            fatal: true,\n            ignoreBOM: true,\n        });\n    }\n    /**\n     * Reads a tag - field number and wire type.\n     */\n    tag() {\n        let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;\n        if (fieldNo <= 0 || wireType < 0 || wireType > 5)\n            throw new Error(\"illegal tag: field no \" + fieldNo + \" wire type \" + wireType);\n        return [fieldNo, wireType];\n    }\n    /**\n     * Skip one element on the wire and return the skipped data.\n     * Supports WireType.StartGroup since v2.0.0-alpha.23.\n     */\n    skip(wireType) {\n        let start = this.pos;\n        // noinspection FallThroughInSwitchStatementJS\n        switch (wireType) {\n            case WireType.Varint:\n                while (this.buf[this.pos++] & 0x80) {\n                    // ignore\n                }\n                break;\n            case WireType.Bit64:\n                this.pos += 4;\n            case WireType.Bit32:\n                this.pos += 4;\n                break;\n            case WireType.LengthDelimited:\n                let len = this.uint32();\n                this.pos += len;\n                break;\n            case WireType.StartGroup:\n                // From descriptor.proto: Group type is deprecated, not supported in proto3.\n                // But we must still be able to parse and treat as unknown.\n                let t;\n                while ((t = this.tag()[1]) !== WireType.EndGroup) {\n                    this.skip(t);\n                }\n                break;\n            default:\n                throw new Error(\"cant skip wire type \" + wireType);\n        }\n        this.assertBounds();\n        return this.buf.subarray(start, this.pos);\n    }\n    /**\n     * Throws error if position in byte array is out of range.\n     */\n    assertBounds() {\n        if (this.pos > this.len)\n            throw new RangeError(\"premature EOF\");\n    }\n    /**\n     * Read a `int32` field, a signed 32 bit varint.\n     */\n    int32() {\n        return this.uint32() | 0;\n    }\n    /**\n     * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32() {\n        let zze = this.uint32();\n        // decode zigzag\n        return (zze >>> 1) ^ -(zze & 1);\n    }\n    /**\n     * Read a `int64` field, a signed 64-bit varint.\n     */\n    int64() {\n        return new PbLong(...this.varint64());\n    }\n    /**\n     * Read a `uint64` field, an unsigned 64-bit varint.\n     */\n    uint64() {\n        return new PbULong(...this.varint64());\n    }\n    /**\n     * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64() {\n        let [lo, hi] = this.varint64();\n        // decode zig zag\n        let s = -(lo & 1);\n        lo = ((lo >>> 1 | (hi & 1) << 31) ^ s);\n        hi = (hi >>> 1 ^ s);\n        return new PbLong(lo, hi);\n    }\n    /**\n     * Read a `bool` field, a variant.\n     */\n    bool() {\n        let [lo, hi] = this.varint64();\n        return lo !== 0 || hi !== 0;\n    }\n    /**\n     * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32() {\n        return this.view.getUint32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32() {\n        return this.view.getInt32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64() {\n        return new PbULong(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `fixed64` field, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64() {\n        return new PbLong(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `float` field, 32-bit floating point number.\n     */\n    float() {\n        return this.view.getFloat32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `double` field, a 64-bit floating point number.\n     */\n    double() {\n        return this.view.getFloat64((this.pos += 8) - 8, true);\n    }\n    /**\n     * Read a `bytes` field, length-delimited arbitrary data.\n     */\n    bytes() {\n        let len = this.uint32();\n        let start = this.pos;\n        this.pos += len;\n        this.assertBounds();\n        return this.buf.subarray(start, start + len);\n    }\n    /**\n     * Read a `string` field, length-delimited data converted to UTF-8 text.\n     */\n    string() {\n        return this.textDecoder.decode(this.bytes());\n    }\n}\n","import { normalizeFieldInfo } from \"./reflection-info\";\nimport { ReflectionTypeCheck } from \"./reflection-type-check\";\nimport { ReflectionJsonReader } from \"./reflection-json-reader\";\nimport { ReflectionJsonWriter } from \"./reflection-json-writer\";\nimport { ReflectionBinaryReader } from \"./reflection-binary-reader\";\nimport { ReflectionBinaryWriter } from \"./reflection-binary-writer\";\nimport { reflectionCreate } from \"./reflection-create\";\nimport { reflectionMergePartial } from \"./reflection-merge-partial\";\nimport { typeofJsonValue } from \"./json-typings\";\nimport { jsonReadOptions, jsonWriteOptions, } from \"./json-format-contract\";\nimport { reflectionEquals } from \"./reflection-equals\";\nimport { binaryWriteOptions } from \"./binary-writer\";\nimport { binaryReadOptions } from \"./binary-reader\";\n/**\n * This standard message type provides reflection-based\n * operations to work with a message.\n */\nexport class MessageType {\n    constructor(name, fields, options) {\n        this.defaultCheckDepth = 16;\n        this.typeName = name;\n        this.fields = fields.map(normalizeFieldInfo);\n        this.options = options !== null && options !== void 0 ? options : {};\n        this.refTypeCheck = new ReflectionTypeCheck(this);\n        this.refJsonReader = new ReflectionJsonReader(this);\n        this.refJsonWriter = new ReflectionJsonWriter(this);\n        this.refBinReader = new ReflectionBinaryReader(this);\n        this.refBinWriter = new ReflectionBinaryWriter(this);\n    }\n    create(value) {\n        let message = reflectionCreate(this);\n        if (value !== undefined) {\n            reflectionMergePartial(this, message, value);\n        }\n        return message;\n    }\n    /**\n     * Clone the message.\n     *\n     * Unknown fields are discarded.\n     */\n    clone(message) {\n        let copy = this.create();\n        reflectionMergePartial(this, copy, message);\n        return copy;\n    }\n    /**\n     * Determines whether two message of the same type have the same field values.\n     * Checks for deep equality, traversing repeated fields, oneof groups, maps\n     * and messages recursively.\n     * Will also return true if both messages are `undefined`.\n     */\n    equals(a, b) {\n        return reflectionEquals(this, a, b);\n    }\n    /**\n     * Is the given value assignable to our message type\n     * and contains no [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?\n     */\n    is(arg, depth = this.defaultCheckDepth) {\n        return this.refTypeCheck.is(arg, depth, false);\n    }\n    /**\n     * Is the given value assignable to our message type,\n     * regardless of [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?\n     */\n    isAssignable(arg, depth = this.defaultCheckDepth) {\n        return this.refTypeCheck.is(arg, depth, true);\n    }\n    /**\n     * Copy partial data into the target message.\n     */\n    mergePartial(target, source) {\n        reflectionMergePartial(this, target, source);\n    }\n    /**\n     * Create a new message from binary format.\n     */\n    fromBinary(data, options) {\n        let opt = binaryReadOptions(options);\n        return this.internalBinaryRead(opt.readerFactory(data), data.byteLength, opt);\n    }\n    /**\n     * Read a new message from a JSON value.\n     */\n    fromJson(json, options) {\n        return this.internalJsonRead(json, jsonReadOptions(options));\n    }\n    /**\n     * Read a new message from a JSON string.\n     * This is equivalent to `T.fromJson(JSON.parse(json))`.\n     */\n    fromJsonString(json, options) {\n        let value = JSON.parse(json);\n        return this.fromJson(value, options);\n    }\n    /**\n     * Write the message to canonical JSON value.\n     */\n    toJson(message, options) {\n        return this.internalJsonWrite(message, jsonWriteOptions(options));\n    }\n    /**\n     * Convert the message to canonical JSON string.\n     * This is equivalent to `JSON.stringify(T.toJson(t))`\n     */\n    toJsonString(message, options) {\n        var _a;\n        let value = this.toJson(message, options);\n        return JSON.stringify(value, null, (_a = options === null || options === void 0 ? void 0 : options.prettySpaces) !== null && _a !== void 0 ? _a : 0);\n    }\n    /**\n     * Write the message to binary format.\n     */\n    toBinary(message, options) {\n        let opt = binaryWriteOptions(options);\n        return this.internalBinaryWrite(message, opt.writerFactory(), opt).finish();\n    }\n    /**\n     * This is an internal method. If you just want to read a message from\n     * JSON, use `fromJson()` or `fromJsonString()`.\n     *\n     * Reads JSON value and merges the fields into the target\n     * according to protobuf rules. If the target is omitted,\n     * a new instance is created first.\n     */\n    internalJsonRead(json, options, target) {\n        if (json !== null && typeof json == \"object\" && !Array.isArray(json)) {\n            let message = target !== null && target !== void 0 ? target : this.create();\n            this.refJsonReader.read(json, message, options);\n            return message;\n        }\n        throw new Error(`Unable to parse message ${this.typeName} from JSON ${typeofJsonValue(json)}.`);\n    }\n    /**\n     * This is an internal method. If you just want to write a message\n     * to JSON, use `toJson()` or `toJsonString().\n     *\n     * Writes JSON value and returns it.\n     */\n    internalJsonWrite(message, options) {\n        return this.refJsonWriter.write(message, options);\n    }\n    /**\n     * This is an internal method. If you just want to write a message\n     * in binary format, use `toBinary()`.\n     *\n     * Serializes the message in binary format and appends it to the given\n     * writer. Returns passed writer.\n     */\n    internalBinaryWrite(message, writer, options) {\n        this.refBinWriter.write(message, writer, options);\n        return writer;\n    }\n    /**\n     * This is an internal method. If you just want to read a message from\n     * binary data, use `fromBinary()`.\n     *\n     * Reads data from binary format and merges the fields into\n     * the target according to protobuf rules. If the target is\n     * omitted, a new instance is created first.\n     */\n    internalBinaryRead(reader, length, options, target) {\n        let message = target !== null && target !== void 0 ? target : this.create();\n        this.refBinReader.read(reader, message, options, length);\n        return message;\n    }\n}\n","import { reflectionScalarDefault } from \"./reflection-scalar-default\";\nimport { MESSAGE_TYPE } from './message-type-contract';\n/**\n * Creates an instance of the generic message, using the field\n * information.\n */\nexport function reflectionCreate(type) {\n    const msg = {};\n    Object.defineProperty(msg, MESSAGE_TYPE, { enumerable: false, value: type });\n    for (let field of type.fields) {\n        let name = field.localName;\n        if (field.opt)\n            continue;\n        if (field.oneof)\n            msg[field.oneof] = { oneofKind: undefined };\n        else if (field.repeat)\n            msg[name] = [];\n        else\n            switch (field.kind) {\n                case \"scalar\":\n                    msg[name] = reflectionScalarDefault(field.T, field.L);\n                    break;\n                case \"enum\":\n                    // we require 0 to be default value for all enums\n                    msg[name] = 0;\n                    break;\n                case \"map\":\n                    msg[name] = {};\n                    break;\n            }\n    }\n    return msg;\n}\n","/* eslint-disable */\n// @generated by protobuf-ts 2.9.0\n// @generated from protobuf file \"item-v1.proto\" (package \"proton_pass_item_v1\", syntax proto3)\n// tslint:disable\nimport { WireType } from '@protobuf-ts/runtime';\nimport type { BinaryWriteOptions } from '@protobuf-ts/runtime';\nimport type { IBinaryWriter } from '@protobuf-ts/runtime';\nimport { UnknownFieldHandler } from '@protobuf-ts/runtime';\nimport type { BinaryReadOptions } from '@protobuf-ts/runtime';\nimport type { IBinaryReader } from '@protobuf-ts/runtime';\nimport type { PartialMessage } from '@protobuf-ts/runtime';\nimport { reflectionMergePartial } from '@protobuf-ts/runtime';\nimport { MESSAGE_TYPE } from '@protobuf-ts/runtime';\nimport { MessageType } from '@protobuf-ts/runtime';\n\n// Item types\n\n/**\n * @generated from protobuf message proton_pass_item_v1.ItemNote\n */\nexport interface ItemNote {}\n/**\n * @generated from protobuf message proton_pass_item_v1.ItemLogin\n */\nexport interface ItemLogin {\n    /**\n     * @generated from protobuf field: string username = 1;\n     */\n    username: string;\n    /**\n     * @generated from protobuf field: string password = 2;\n     */\n    password: string;\n    /**\n     * @generated from protobuf field: repeated string urls = 3;\n     */\n    urls: string[];\n    /**\n     * @generated from protobuf field: string totp_uri = 4;\n     */\n    totpUri: string;\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.ItemAlias\n */\nexport interface ItemAlias {}\n/**\n * @generated from protobuf message proton_pass_item_v1.ItemCreditCard\n */\nexport interface ItemCreditCard {\n    /**\n     * @generated from protobuf field: string cardholder_name = 1;\n     */\n    cardholderName: string;\n    /**\n     * @generated from protobuf field: proton_pass_item_v1.CardType card_type = 2;\n     */\n    cardType: CardType;\n    /**\n     * @generated from protobuf field: string number = 3;\n     */\n    number: string;\n    /**\n     * @generated from protobuf field: string verification_number = 4;\n     */\n    verificationNumber: string;\n    /**\n     * Expected format: YYYY-MM, always containing two numbers for the month, even if is 01\n     *\n     * @generated from protobuf field: string expiration_date = 5;\n     */\n    expirationDate: string;\n    /**\n     * @generated from protobuf field: string pin = 6;\n     */\n    pin: string;\n}\n/**\n * Client extras\n *\n * @generated from protobuf message proton_pass_item_v1.AllowedAndroidApp\n */\nexport interface AllowedAndroidApp {\n    /**\n     * @generated from protobuf field: string package_name = 1;\n     */\n    packageName: string;\n    /**\n     * @generated from protobuf field: repeated string hashes = 2;\n     */\n    hashes: string[];\n    /**\n     * @generated from protobuf field: string app_name = 3;\n     */\n    appName: string;\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.AndroidSpecific\n */\nexport interface AndroidSpecific {\n    /**\n     * @generated from protobuf field: repeated proton_pass_item_v1.AllowedAndroidApp allowed_apps = 1;\n     */\n    allowedApps: AllowedAndroidApp[];\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.PlatformSpecific\n */\nexport interface PlatformSpecific {\n    /**\n     * @generated from protobuf field: proton_pass_item_v1.AndroidSpecific android = 1;\n     */\n    android?: AndroidSpecific;\n}\n// Item\n\n/**\n * @generated from protobuf message proton_pass_item_v1.ExtraTotp\n */\nexport interface ExtraTotp {\n    /**\n     * @generated from protobuf field: string totp_uri = 1;\n     */\n    totpUri: string;\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.ExtraTextField\n */\nexport interface ExtraTextField {\n    /**\n     * @generated from protobuf field: string content = 1;\n     */\n    content: string;\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.ExtraHiddenField\n */\nexport interface ExtraHiddenField {\n    /**\n     * @generated from protobuf field: string content = 1;\n     */\n    content: string;\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.ExtraField\n */\nexport interface ExtraField {\n    /**\n     * @generated from protobuf field: string field_name = 1;\n     */\n    fieldName: string;\n    /**\n     * @generated from protobuf oneof: content\n     */\n    content:\n        | {\n              oneofKind: 'totp';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ExtraTotp totp = 2;\n               */\n              totp: ExtraTotp;\n          }\n        | {\n              oneofKind: 'text';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ExtraTextField text = 3;\n               */\n              text: ExtraTextField;\n          }\n        | {\n              oneofKind: 'hidden';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ExtraHiddenField hidden = 4;\n               */\n              hidden: ExtraHiddenField;\n          }\n        | {\n              oneofKind: undefined;\n          };\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.Metadata\n */\nexport interface Metadata {\n    /**\n     * @generated from protobuf field: string name = 1;\n     */\n    name: string;\n    /**\n     * @generated from protobuf field: string note = 2;\n     */\n    note: string;\n    /**\n     * @generated from protobuf field: string item_uuid = 3;\n     */\n    itemUuid: string;\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.Content\n */\nexport interface Content {\n    /**\n     * @generated from protobuf oneof: content\n     */\n    content:\n        | {\n              oneofKind: 'note';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ItemNote note = 2;\n               */\n              note: ItemNote;\n          }\n        | {\n              oneofKind: 'login';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ItemLogin login = 3;\n               */\n              login: ItemLogin;\n          }\n        | {\n              oneofKind: 'alias';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ItemAlias alias = 4;\n               */\n              alias: ItemAlias;\n          }\n        | {\n              oneofKind: 'creditCard';\n              /**\n               * @generated from protobuf field: proton_pass_item_v1.ItemCreditCard credit_card = 5;\n               */\n              creditCard: ItemCreditCard;\n          }\n        | {\n              oneofKind: undefined;\n          };\n}\n/**\n * @generated from protobuf message proton_pass_item_v1.Item\n */\nexport interface Item {\n    /**\n     * @generated from protobuf field: proton_pass_item_v1.Metadata metadata = 1;\n     */\n    metadata?: Metadata;\n    /**\n     * @generated from protobuf field: proton_pass_item_v1.Content content = 2;\n     */\n    content?: Content;\n    /**\n     * @generated from protobuf field: proton_pass_item_v1.PlatformSpecific platform_specific = 3;\n     */\n    platformSpecific?: PlatformSpecific;\n    /**\n     * @generated from protobuf field: repeated proton_pass_item_v1.ExtraField extra_fields = 4;\n     */\n    extraFields: ExtraField[];\n}\n/**\n * Credit cards\n *\n * @generated from protobuf enum proton_pass_item_v1.CardType\n */\nexport enum CardType {\n    /**\n     * @generated from protobuf enum value: Unspecified = 0;\n     */\n    Unspecified = 0,\n    /**\n     * @generated from protobuf enum value: Other = 1;\n     */\n    Other = 1,\n    /**\n     * @generated from protobuf enum value: Visa = 2;\n     */\n    Visa = 2,\n    /**\n     * @generated from protobuf enum value: Mastercard = 3;\n     */\n    Mastercard = 3,\n    /**\n     * @generated from protobuf enum value: AmericanExpress = 4;\n     */\n    AmericanExpress = 4,\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass ItemNote$Type extends MessageType<ItemNote> {\n    constructor() {\n        super('proton_pass_item_v1.ItemNote', []);\n    }\n    create(value?: PartialMessage<ItemNote>): ItemNote {\n        const message = {};\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ItemNote>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ItemNote): ItemNote {\n        return target ?? this.create();\n    }\n    internalBinaryWrite(message: ItemNote, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ItemNote\n */\nexport const ItemNote = new ItemNote$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ItemLogin$Type extends MessageType<ItemLogin> {\n    constructor() {\n        super('proton_pass_item_v1.ItemLogin', [\n            { no: 1, name: 'username', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: 'password', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: 'urls', kind: 'scalar', repeat: 2 /*RepeatType.UNPACKED*/, T: 9 /*ScalarType.STRING*/ },\n            { no: 4, name: 'totp_uri', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<ItemLogin>): ItemLogin {\n        const message = { username: '', password: '', urls: [], totpUri: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ItemLogin>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ItemLogin\n    ): ItemLogin {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string username */ 1:\n                    message.username = reader.string();\n                    break;\n                case /* string password */ 2:\n                    message.password = reader.string();\n                    break;\n                case /* repeated string urls */ 3:\n                    message.urls.push(reader.string());\n                    break;\n                case /* string totp_uri */ 4:\n                    message.totpUri = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: ItemLogin, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string username = 1; */\n        if (message.username !== '') writer.tag(1, WireType.LengthDelimited).string(message.username);\n        /* string password = 2; */\n        if (message.password !== '') writer.tag(2, WireType.LengthDelimited).string(message.password);\n        /* repeated string urls = 3; */\n        for (let i = 0; i < message.urls.length; i++) writer.tag(3, WireType.LengthDelimited).string(message.urls[i]);\n        /* string totp_uri = 4; */\n        if (message.totpUri !== '') writer.tag(4, WireType.LengthDelimited).string(message.totpUri);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ItemLogin\n */\nexport const ItemLogin = new ItemLogin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ItemAlias$Type extends MessageType<ItemAlias> {\n    constructor() {\n        super('proton_pass_item_v1.ItemAlias', []);\n    }\n    create(value?: PartialMessage<ItemAlias>): ItemAlias {\n        const message = {};\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ItemAlias>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ItemAlias\n    ): ItemAlias {\n        return target ?? this.create();\n    }\n    internalBinaryWrite(message: ItemAlias, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ItemAlias\n */\nexport const ItemAlias = new ItemAlias$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ItemCreditCard$Type extends MessageType<ItemCreditCard> {\n    constructor() {\n        super('proton_pass_item_v1.ItemCreditCard', [\n            { no: 1, name: 'cardholder_name', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: 'card_type', kind: 'enum', T: () => ['proton_pass_item_v1.CardType', CardType] },\n            { no: 3, name: 'number', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 4, name: 'verification_number', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 5, name: 'expiration_date', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 6, name: 'pin', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<ItemCreditCard>): ItemCreditCard {\n        const message = {\n            cardholderName: '',\n            cardType: 0,\n            number: '',\n            verificationNumber: '',\n            expirationDate: '',\n            pin: '',\n        };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ItemCreditCard>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ItemCreditCard\n    ): ItemCreditCard {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string cardholder_name */ 1:\n                    message.cardholderName = reader.string();\n                    break;\n                case /* proton_pass_item_v1.CardType card_type */ 2:\n                    message.cardType = reader.int32();\n                    break;\n                case /* string number */ 3:\n                    message.number = reader.string();\n                    break;\n                case /* string verification_number */ 4:\n                    message.verificationNumber = reader.string();\n                    break;\n                case /* string expiration_date */ 5:\n                    message.expirationDate = reader.string();\n                    break;\n                case /* string pin */ 6:\n                    message.pin = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: ItemCreditCard, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string cardholder_name = 1; */\n        if (message.cardholderName !== '') writer.tag(1, WireType.LengthDelimited).string(message.cardholderName);\n        /* proton_pass_item_v1.CardType card_type = 2; */\n        if (message.cardType !== 0) writer.tag(2, WireType.Varint).int32(message.cardType);\n        /* string number = 3; */\n        if (message.number !== '') writer.tag(3, WireType.LengthDelimited).string(message.number);\n        /* string verification_number = 4; */\n        if (message.verificationNumber !== '')\n            writer.tag(4, WireType.LengthDelimited).string(message.verificationNumber);\n        /* string expiration_date = 5; */\n        if (message.expirationDate !== '') writer.tag(5, WireType.LengthDelimited).string(message.expirationDate);\n        /* string pin = 6; */\n        if (message.pin !== '') writer.tag(6, WireType.LengthDelimited).string(message.pin);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ItemCreditCard\n */\nexport const ItemCreditCard = new ItemCreditCard$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AllowedAndroidApp$Type extends MessageType<AllowedAndroidApp> {\n    constructor() {\n        super('proton_pass_item_v1.AllowedAndroidApp', [\n            { no: 1, name: 'package_name', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: 'hashes', kind: 'scalar', repeat: 2 /*RepeatType.UNPACKED*/, T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: 'app_name', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<AllowedAndroidApp>): AllowedAndroidApp {\n        const message = { packageName: '', hashes: [], appName: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<AllowedAndroidApp>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: AllowedAndroidApp\n    ): AllowedAndroidApp {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string package_name */ 1:\n                    message.packageName = reader.string();\n                    break;\n                case /* repeated string hashes */ 2:\n                    message.hashes.push(reader.string());\n                    break;\n                case /* string app_name */ 3:\n                    message.appName = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: AllowedAndroidApp, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string package_name = 1; */\n        if (message.packageName !== '') writer.tag(1, WireType.LengthDelimited).string(message.packageName);\n        /* repeated string hashes = 2; */\n        for (let i = 0; i < message.hashes.length; i++)\n            writer.tag(2, WireType.LengthDelimited).string(message.hashes[i]);\n        /* string app_name = 3; */\n        if (message.appName !== '') writer.tag(3, WireType.LengthDelimited).string(message.appName);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.AllowedAndroidApp\n */\nexport const AllowedAndroidApp = new AllowedAndroidApp$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AndroidSpecific$Type extends MessageType<AndroidSpecific> {\n    constructor() {\n        super('proton_pass_item_v1.AndroidSpecific', [\n            {\n                no: 1,\n                name: 'allowed_apps',\n                kind: 'message',\n                repeat: 1 /*RepeatType.PACKED*/,\n                T: () => AllowedAndroidApp,\n            },\n        ]);\n    }\n    create(value?: PartialMessage<AndroidSpecific>): AndroidSpecific {\n        const message = { allowedApps: [] };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<AndroidSpecific>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: AndroidSpecific\n    ): AndroidSpecific {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* repeated proton_pass_item_v1.AllowedAndroidApp allowed_apps */ 1:\n                    message.allowedApps.push(AllowedAndroidApp.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: AndroidSpecific, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* repeated proton_pass_item_v1.AllowedAndroidApp allowed_apps = 1; */\n        for (let i = 0; i < message.allowedApps.length; i++)\n            AllowedAndroidApp.internalBinaryWrite(\n                message.allowedApps[i],\n                writer.tag(1, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.AndroidSpecific\n */\nexport const AndroidSpecific = new AndroidSpecific$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PlatformSpecific$Type extends MessageType<PlatformSpecific> {\n    constructor() {\n        super('proton_pass_item_v1.PlatformSpecific', [\n            { no: 1, name: 'android', kind: 'message', T: () => AndroidSpecific },\n        ]);\n    }\n    create(value?: PartialMessage<PlatformSpecific>): PlatformSpecific {\n        const message = {};\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<PlatformSpecific>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: PlatformSpecific\n    ): PlatformSpecific {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* proton_pass_item_v1.AndroidSpecific android */ 1:\n                    message.android = AndroidSpecific.internalBinaryRead(\n                        reader,\n                        reader.uint32(),\n                        options,\n                        message.android\n                    );\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: PlatformSpecific, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* proton_pass_item_v1.AndroidSpecific android = 1; */\n        if (message.android)\n            AndroidSpecific.internalBinaryWrite(\n                message.android,\n                writer.tag(1, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.PlatformSpecific\n */\nexport const PlatformSpecific = new PlatformSpecific$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ExtraTotp$Type extends MessageType<ExtraTotp> {\n    constructor() {\n        super('proton_pass_item_v1.ExtraTotp', [\n            { no: 1, name: 'totp_uri', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<ExtraTotp>): ExtraTotp {\n        const message = { totpUri: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ExtraTotp>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ExtraTotp\n    ): ExtraTotp {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string totp_uri */ 1:\n                    message.totpUri = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: ExtraTotp, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string totp_uri = 1; */\n        if (message.totpUri !== '') writer.tag(1, WireType.LengthDelimited).string(message.totpUri);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ExtraTotp\n */\nexport const ExtraTotp = new ExtraTotp$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ExtraTextField$Type extends MessageType<ExtraTextField> {\n    constructor() {\n        super('proton_pass_item_v1.ExtraTextField', [\n            { no: 1, name: 'content', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<ExtraTextField>): ExtraTextField {\n        const message = { content: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ExtraTextField>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ExtraTextField\n    ): ExtraTextField {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string content */ 1:\n                    message.content = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: ExtraTextField, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string content = 1; */\n        if (message.content !== '') writer.tag(1, WireType.LengthDelimited).string(message.content);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ExtraTextField\n */\nexport const ExtraTextField = new ExtraTextField$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ExtraHiddenField$Type extends MessageType<ExtraHiddenField> {\n    constructor() {\n        super('proton_pass_item_v1.ExtraHiddenField', [\n            { no: 1, name: 'content', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<ExtraHiddenField>): ExtraHiddenField {\n        const message = { content: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ExtraHiddenField>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ExtraHiddenField\n    ): ExtraHiddenField {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string content */ 1:\n                    message.content = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: ExtraHiddenField, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string content = 1; */\n        if (message.content !== '') writer.tag(1, WireType.LengthDelimited).string(message.content);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ExtraHiddenField\n */\nexport const ExtraHiddenField = new ExtraHiddenField$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ExtraField$Type extends MessageType<ExtraField> {\n    constructor() {\n        super('proton_pass_item_v1.ExtraField', [\n            { no: 1, name: 'field_name', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: 'totp', kind: 'message', oneof: 'content', T: () => ExtraTotp },\n            { no: 3, name: 'text', kind: 'message', oneof: 'content', T: () => ExtraTextField },\n            { no: 4, name: 'hidden', kind: 'message', oneof: 'content', T: () => ExtraHiddenField },\n        ]);\n    }\n    create(value?: PartialMessage<ExtraField>): ExtraField {\n        const message = { fieldName: '', content: { oneofKind: undefined } };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<ExtraField>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: ExtraField\n    ): ExtraField {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string field_name */ 1:\n                    message.fieldName = reader.string();\n                    break;\n                case /* proton_pass_item_v1.ExtraTotp totp */ 2:\n                    message.content = {\n                        oneofKind: 'totp',\n                        totp: ExtraTotp.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).totp\n                        ),\n                    };\n                    break;\n                case /* proton_pass_item_v1.ExtraTextField text */ 3:\n                    message.content = {\n                        oneofKind: 'text',\n                        text: ExtraTextField.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).text\n                        ),\n                    };\n                    break;\n                case /* proton_pass_item_v1.ExtraHiddenField hidden */ 4:\n                    message.content = {\n                        oneofKind: 'hidden',\n                        hidden: ExtraHiddenField.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).hidden\n                        ),\n                    };\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: ExtraField, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string field_name = 1; */\n        if (message.fieldName !== '') writer.tag(1, WireType.LengthDelimited).string(message.fieldName);\n        /* proton_pass_item_v1.ExtraTotp totp = 2; */\n        if (message.content.oneofKind === 'totp')\n            ExtraTotp.internalBinaryWrite(\n                message.content.totp,\n                writer.tag(2, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.ExtraTextField text = 3; */\n        if (message.content.oneofKind === 'text')\n            ExtraTextField.internalBinaryWrite(\n                message.content.text,\n                writer.tag(3, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.ExtraHiddenField hidden = 4; */\n        if (message.content.oneofKind === 'hidden')\n            ExtraHiddenField.internalBinaryWrite(\n                message.content.hidden,\n                writer.tag(4, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.ExtraField\n */\nexport const ExtraField = new ExtraField$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Metadata$Type extends MessageType<Metadata> {\n    constructor() {\n        super('proton_pass_item_v1.Metadata', [\n            { no: 1, name: 'name', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: 'note', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: 'item_uuid', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n        ]);\n    }\n    create(value?: PartialMessage<Metadata>): Metadata {\n        const message = { name: '', note: '', itemUuid: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<Metadata>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Metadata): Metadata {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string name */ 1:\n                    message.name = reader.string();\n                    break;\n                case /* string note */ 2:\n                    message.note = reader.string();\n                    break;\n                case /* string item_uuid */ 3:\n                    message.itemUuid = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: Metadata, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string name = 1; */\n        if (message.name !== '') writer.tag(1, WireType.LengthDelimited).string(message.name);\n        /* string note = 2; */\n        if (message.note !== '') writer.tag(2, WireType.LengthDelimited).string(message.note);\n        /* string item_uuid = 3; */\n        if (message.itemUuid !== '') writer.tag(3, WireType.LengthDelimited).string(message.itemUuid);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.Metadata\n */\nexport const Metadata = new Metadata$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Content$Type extends MessageType<Content> {\n    constructor() {\n        super('proton_pass_item_v1.Content', [\n            { no: 2, name: 'note', kind: 'message', oneof: 'content', T: () => ItemNote },\n            { no: 3, name: 'login', kind: 'message', oneof: 'content', T: () => ItemLogin },\n            { no: 4, name: 'alias', kind: 'message', oneof: 'content', T: () => ItemAlias },\n            { no: 5, name: 'credit_card', kind: 'message', oneof: 'content', T: () => ItemCreditCard },\n        ]);\n    }\n    create(value?: PartialMessage<Content>): Content {\n        const message = { content: { oneofKind: undefined } };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<Content>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Content): Content {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* proton_pass_item_v1.ItemNote note */ 2:\n                    message.content = {\n                        oneofKind: 'note',\n                        note: ItemNote.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).note\n                        ),\n                    };\n                    break;\n                case /* proton_pass_item_v1.ItemLogin login */ 3:\n                    message.content = {\n                        oneofKind: 'login',\n                        login: ItemLogin.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).login\n                        ),\n                    };\n                    break;\n                case /* proton_pass_item_v1.ItemAlias alias */ 4:\n                    message.content = {\n                        oneofKind: 'alias',\n                        alias: ItemAlias.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).alias\n                        ),\n                    };\n                    break;\n                case /* proton_pass_item_v1.ItemCreditCard credit_card */ 5:\n                    message.content = {\n                        oneofKind: 'creditCard',\n                        creditCard: ItemCreditCard.internalBinaryRead(\n                            reader,\n                            reader.uint32(),\n                            options,\n                            (message.content as any).creditCard\n                        ),\n                    };\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: Content, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* proton_pass_item_v1.ItemNote note = 2; */\n        if (message.content.oneofKind === 'note')\n            ItemNote.internalBinaryWrite(\n                message.content.note,\n                writer.tag(2, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.ItemLogin login = 3; */\n        if (message.content.oneofKind === 'login')\n            ItemLogin.internalBinaryWrite(\n                message.content.login,\n                writer.tag(3, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.ItemAlias alias = 4; */\n        if (message.content.oneofKind === 'alias')\n            ItemAlias.internalBinaryWrite(\n                message.content.alias,\n                writer.tag(4, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.ItemCreditCard credit_card = 5; */\n        if (message.content.oneofKind === 'creditCard')\n            ItemCreditCard.internalBinaryWrite(\n                message.content.creditCard,\n                writer.tag(5, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.Content\n */\nexport const Content = new Content$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Item$Type extends MessageType<Item> {\n    constructor() {\n        super('proton_pass_item_v1.Item', [\n            { no: 1, name: 'metadata', kind: 'message', T: () => Metadata },\n            { no: 2, name: 'content', kind: 'message', T: () => Content },\n            { no: 3, name: 'platform_specific', kind: 'message', T: () => PlatformSpecific },\n            { no: 4, name: 'extra_fields', kind: 'message', repeat: 1 /*RepeatType.PACKED*/, T: () => ExtraField },\n        ]);\n    }\n    create(value?: PartialMessage<Item>): Item {\n        const message = { extraFields: [] };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<Item>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Item): Item {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* proton_pass_item_v1.Metadata metadata */ 1:\n                    message.metadata = Metadata.internalBinaryRead(reader, reader.uint32(), options, message.metadata);\n                    break;\n                case /* proton_pass_item_v1.Content content */ 2:\n                    message.content = Content.internalBinaryRead(reader, reader.uint32(), options, message.content);\n                    break;\n                case /* proton_pass_item_v1.PlatformSpecific platform_specific */ 3:\n                    message.platformSpecific = PlatformSpecific.internalBinaryRead(\n                        reader,\n                        reader.uint32(),\n                        options,\n                        message.platformSpecific\n                    );\n                    break;\n                case /* repeated proton_pass_item_v1.ExtraField extra_fields */ 4:\n                    message.extraFields.push(ExtraField.internalBinaryRead(reader, reader.uint32(), options));\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: Item, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* proton_pass_item_v1.Metadata metadata = 1; */\n        if (message.metadata)\n            Metadata.internalBinaryWrite(\n                message.metadata,\n                writer.tag(1, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.Content content = 2; */\n        if (message.content)\n            Content.internalBinaryWrite(\n                message.content,\n                writer.tag(2, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* proton_pass_item_v1.PlatformSpecific platform_specific = 3; */\n        if (message.platformSpecific)\n            PlatformSpecific.internalBinaryWrite(\n                message.platformSpecific,\n                writer.tag(3, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        /* repeated proton_pass_item_v1.ExtraField extra_fields = 4; */\n        for (let i = 0; i < message.extraFields.length; i++)\n            ExtraField.internalBinaryWrite(\n                message.extraFields[i],\n                writer.tag(4, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_item_v1.Item\n */\nexport const Item = new Item$Type();\n","/* eslint-disable */\n// @generated by protobuf-ts 2.9.0\n// @generated from protobuf file \"vault-v1.proto\" (package \"proton_pass_vault_v1\", syntax proto3)\n// tslint:disable\nimport type { BinaryWriteOptions } from '@protobuf-ts/runtime';\nimport type { IBinaryWriter } from '@protobuf-ts/runtime';\nimport { WireType } from '@protobuf-ts/runtime';\nimport type { BinaryReadOptions } from '@protobuf-ts/runtime';\nimport type { IBinaryReader } from '@protobuf-ts/runtime';\nimport { UnknownFieldHandler } from '@protobuf-ts/runtime';\nimport type { PartialMessage } from '@protobuf-ts/runtime';\nimport { reflectionMergePartial } from '@protobuf-ts/runtime';\nimport { MESSAGE_TYPE } from '@protobuf-ts/runtime';\nimport { MessageType } from '@protobuf-ts/runtime';\n\n/**\n * @generated from protobuf message proton_pass_vault_v1.VaultDisplayPreferences\n */\nexport interface VaultDisplayPreferences {\n    /**\n     * @generated from protobuf field: proton_pass_vault_v1.VaultIcon icon = 1;\n     */\n    icon: VaultIcon;\n    /**\n     * @generated from protobuf field: proton_pass_vault_v1.VaultColor color = 2;\n     */\n    color: VaultColor;\n}\n/**\n * @generated from protobuf message proton_pass_vault_v1.Vault\n */\nexport interface Vault {\n    /**\n     * @generated from protobuf field: string name = 1;\n     */\n    name: string;\n    /**\n     * @generated from protobuf field: string description = 2;\n     */\n    description: string;\n    /**\n     * @generated from protobuf field: proton_pass_vault_v1.VaultDisplayPreferences display = 3;\n     */\n    display?: VaultDisplayPreferences;\n}\n/**\n * @generated from protobuf enum proton_pass_vault_v1.VaultIcon\n */\nexport enum VaultIcon {\n    /**\n     * @generated from protobuf enum value: ICON_UNSPECIFIED = 0;\n     */\n    ICON_UNSPECIFIED = 0,\n    /**\n     * @generated from protobuf enum value: ICON_CUSTOM = 1;\n     */\n    ICON_CUSTOM = 1,\n    /**\n     * @generated from protobuf enum value: ICON1 = 2;\n     */\n    ICON1 = 2,\n    /**\n     * @generated from protobuf enum value: ICON2 = 3;\n     */\n    ICON2 = 3,\n    /**\n     * @generated from protobuf enum value: ICON3 = 4;\n     */\n    ICON3 = 4,\n    /**\n     * @generated from protobuf enum value: ICON4 = 5;\n     */\n    ICON4 = 5,\n    /**\n     * @generated from protobuf enum value: ICON5 = 6;\n     */\n    ICON5 = 6,\n    /**\n     * @generated from protobuf enum value: ICON6 = 7;\n     */\n    ICON6 = 7,\n    /**\n     * @generated from protobuf enum value: ICON7 = 8;\n     */\n    ICON7 = 8,\n    /**\n     * @generated from protobuf enum value: ICON8 = 9;\n     */\n    ICON8 = 9,\n    /**\n     * @generated from protobuf enum value: ICON9 = 10;\n     */\n    ICON9 = 10,\n    /**\n     * @generated from protobuf enum value: ICON10 = 11;\n     */\n    ICON10 = 11,\n    /**\n     * @generated from protobuf enum value: ICON11 = 12;\n     */\n    ICON11 = 12,\n    /**\n     * @generated from protobuf enum value: ICON12 = 13;\n     */\n    ICON12 = 13,\n    /**\n     * @generated from protobuf enum value: ICON13 = 14;\n     */\n    ICON13 = 14,\n    /**\n     * @generated from protobuf enum value: ICON14 = 15;\n     */\n    ICON14 = 15,\n    /**\n     * @generated from protobuf enum value: ICON15 = 16;\n     */\n    ICON15 = 16,\n    /**\n     * @generated from protobuf enum value: ICON16 = 17;\n     */\n    ICON16 = 17,\n    /**\n     * @generated from protobuf enum value: ICON17 = 18;\n     */\n    ICON17 = 18,\n    /**\n     * @generated from protobuf enum value: ICON18 = 19;\n     */\n    ICON18 = 19,\n    /**\n     * @generated from protobuf enum value: ICON19 = 20;\n     */\n    ICON19 = 20,\n    /**\n     * @generated from protobuf enum value: ICON20 = 21;\n     */\n    ICON20 = 21,\n    /**\n     * @generated from protobuf enum value: ICON21 = 22;\n     */\n    ICON21 = 22,\n    /**\n     * @generated from protobuf enum value: ICON22 = 23;\n     */\n    ICON22 = 23,\n    /**\n     * @generated from protobuf enum value: ICON23 = 24;\n     */\n    ICON23 = 24,\n    /**\n     * @generated from protobuf enum value: ICON24 = 25;\n     */\n    ICON24 = 25,\n    /**\n     * @generated from protobuf enum value: ICON25 = 26;\n     */\n    ICON25 = 26,\n    /**\n     * @generated from protobuf enum value: ICON26 = 27;\n     */\n    ICON26 = 27,\n    /**\n     * @generated from protobuf enum value: ICON27 = 28;\n     */\n    ICON27 = 28,\n    /**\n     * @generated from protobuf enum value: ICON28 = 29;\n     */\n    ICON28 = 29,\n    /**\n     * @generated from protobuf enum value: ICON29 = 30;\n     */\n    ICON29 = 30,\n    /**\n     * @generated from protobuf enum value: ICON30 = 31;\n     */\n    ICON30 = 31,\n}\n/**\n * @generated from protobuf enum proton_pass_vault_v1.VaultColor\n */\nexport enum VaultColor {\n    /**\n     * @generated from protobuf enum value: COLOR_UNSPECIFIED = 0;\n     */\n    COLOR_UNSPECIFIED = 0,\n    /**\n     * @generated from protobuf enum value: COLOR_CUSTOM = 1;\n     */\n    COLOR_CUSTOM = 1,\n    /**\n     * @generated from protobuf enum value: COLOR1 = 2;\n     */\n    COLOR1 = 2,\n    /**\n     * @generated from protobuf enum value: COLOR2 = 3;\n     */\n    COLOR2 = 3,\n    /**\n     * @generated from protobuf enum value: COLOR3 = 4;\n     */\n    COLOR3 = 4,\n    /**\n     * @generated from protobuf enum value: COLOR4 = 5;\n     */\n    COLOR4 = 5,\n    /**\n     * @generated from protobuf enum value: COLOR5 = 6;\n     */\n    COLOR5 = 6,\n    /**\n     * @generated from protobuf enum value: COLOR6 = 7;\n     */\n    COLOR6 = 7,\n    /**\n     * @generated from protobuf enum value: COLOR7 = 8;\n     */\n    COLOR7 = 8,\n    /**\n     * @generated from protobuf enum value: COLOR8 = 9;\n     */\n    COLOR8 = 9,\n    /**\n     * @generated from protobuf enum value: COLOR9 = 10;\n     */\n    COLOR9 = 10,\n    /**\n     * @generated from protobuf enum value: COLOR10 = 11;\n     */\n    COLOR10 = 11,\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass VaultDisplayPreferences$Type extends MessageType<VaultDisplayPreferences> {\n    constructor() {\n        super('proton_pass_vault_v1.VaultDisplayPreferences', [\n            { no: 1, name: 'icon', kind: 'enum', T: () => ['proton_pass_vault_v1.VaultIcon', VaultIcon] },\n            { no: 2, name: 'color', kind: 'enum', T: () => ['proton_pass_vault_v1.VaultColor', VaultColor] },\n        ]);\n    }\n    create(value?: PartialMessage<VaultDisplayPreferences>): VaultDisplayPreferences {\n        const message = { icon: 0, color: 0 };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<VaultDisplayPreferences>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(\n        reader: IBinaryReader,\n        length: number,\n        options: BinaryReadOptions,\n        target?: VaultDisplayPreferences\n    ): VaultDisplayPreferences {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* proton_pass_vault_v1.VaultIcon icon */ 1:\n                    message.icon = reader.int32();\n                    break;\n                case /* proton_pass_vault_v1.VaultColor color */ 2:\n                    message.color = reader.int32();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(\n        message: VaultDisplayPreferences,\n        writer: IBinaryWriter,\n        options: BinaryWriteOptions\n    ): IBinaryWriter {\n        /* proton_pass_vault_v1.VaultIcon icon = 1; */\n        if (message.icon !== 0) writer.tag(1, WireType.Varint).int32(message.icon);\n        /* proton_pass_vault_v1.VaultColor color = 2; */\n        if (message.color !== 0) writer.tag(2, WireType.Varint).int32(message.color);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_vault_v1.VaultDisplayPreferences\n */\nexport const VaultDisplayPreferences = new VaultDisplayPreferences$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Vault$Type extends MessageType<Vault> {\n    constructor() {\n        super('proton_pass_vault_v1.Vault', [\n            { no: 1, name: 'name', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: 'description', kind: 'scalar', T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: 'display', kind: 'message', T: () => VaultDisplayPreferences },\n        ]);\n    }\n    create(value?: PartialMessage<Vault>): Vault {\n        const message = { name: '', description: '' };\n        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });\n        if (value !== undefined) reflectionMergePartial<Vault>(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Vault): Vault {\n        let message = target ?? this.create(),\n            end = reader.pos + length;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case /* string name */ 1:\n                    message.name = reader.string();\n                    break;\n                case /* string description */ 2:\n                    message.description = reader.string();\n                    break;\n                case /* proton_pass_vault_v1.VaultDisplayPreferences display */ 3:\n                    message.display = VaultDisplayPreferences.internalBinaryRead(\n                        reader,\n                        reader.uint32(),\n                        options,\n                        message.display\n                    );\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === 'throw')\n                        throw new globalThis.Error(\n                            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`\n                        );\n                    let d = reader.skip(wireType);\n                    if (u !== false)\n                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message: Vault, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {\n        /* string name = 1; */\n        if (message.name !== '') writer.tag(1, WireType.LengthDelimited).string(message.name);\n        /* string description = 2; */\n        if (message.description !== '') writer.tag(2, WireType.LengthDelimited).string(message.description);\n        /* proton_pass_vault_v1.VaultDisplayPreferences display = 3; */\n        if (message.display)\n            VaultDisplayPreferences.internalBinaryWrite(\n                message.display,\n                writer.tag(3, WireType.LengthDelimited).fork(),\n                options\n            ).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\n/**\n * @generated MessageType for protobuf message proton_pass_vault_v1.Vault\n */\nexport const Vault = new Vault$Type();\n","import type { Item, ItemRevision } from '../data';\nimport type { FormEntryPrompt } from './form';\n\nexport enum AutoSaveType {\n    NEW,\n    UPDATE,\n}\n\nexport type AutoSavePromptOptions =\n    | { shouldPrompt: false }\n    | {\n          shouldPrompt: true;\n          data: { action: AutoSaveType.NEW } | { action: AutoSaveType.UPDATE; item: ItemRevision<'login'> };\n      };\n\nexport type WithAutoSavePromptOptions<T, U = boolean> = T & {\n    autosave: Extract<AutoSavePromptOptions, { shouldPrompt: U }>;\n};\n\nexport type AutosavePayload = { item: Item<'login'>; submission: FormEntryPrompt };\n","import type { AnyAction } from 'redux';\nimport type { Tabs } from 'webextension-polyfill';\n\nimport type { ResumedSessionResult } from '@proton/pass/auth';\nimport type { ExportRequestPayload } from '@proton/pass/export/types';\nimport type { AliasOptions } from '@proton/pass/store';\nimport type { Notification } from '@proton/pass/store/actions/with-notification';\nimport type { ProxiedSettings } from '@proton/pass/store/reducers/settings';\nimport type { ExtensionForkResultPayload } from '@proton/shared/lib/authentication/sessionForking';\nimport type { User } from '@proton/shared/lib/interfaces';\n\nimport type { ShareEventPayload } from '../api';\nimport type { ForkPayload } from '../api/fork';\nimport type { AliasCreationDTO, SelectedItem } from '../data';\nimport type { TelemetryEvent } from '../data/telemetry';\nimport type { Maybe, MaybeNull } from '../utils';\nimport type { AutosavePayload, WithAutoSavePromptOptions } from './autosave';\nimport type { SafeLoginItem } from './data';\nimport type { FormEntry, FormEntryPrompt, NewFormEntry } from './form';\nimport type { OnboardingMessage } from './onboarding';\nimport type { OtpCode, OtpRequest } from './otp';\nimport type { TabId } from './runtime';\nimport type { PopupInitialState, WorkerState } from './state';\n\ntype WithPayload<T extends WorkerMessageType, P extends {}> = { type: T; payload: P };\n\nexport type PortFrameForwardingMessage<T = any> = {\n    type: WorkerMessageType.PORT_FORWARDING_MESSAGE;\n    forwardTo: string;\n    payload: T;\n};\n\nexport type ExtensionEndpoint = 'popup' | 'contentscript' | 'background' | 'page';\n\nexport enum WorkerMessageType {\n    ACCOUNT_FORK = 'fork',\n    ACCOUNT_EXTENSION = 'auth-ext',\n    ACCOUNT_PROBE = 'pass-installed',\n    ACCOUNT_ONBOARDING = 'pass-onboarding',\n    SESSION_RESUMED = 'SESSION_RESUMED',\n    WORKER_WAKEUP = 'WORKER_WAKEUP',\n    WORKER_INIT = 'WORKER_INIT',\n    WORKER_STATUS = 'WORKER_STATUS',\n    POPUP_INIT = 'POPUP_INIT',\n    UPDATE_AVAILABLE = 'UPDATE_AVAILABLE',\n    LOAD_CONTENT_SCRIPT = 'LOAD_CONTENT_SCRIPT',\n    UNLOAD_CONTENT_SCRIPT = 'UNLOAD_CONTENT_SCRIPT',\n    START_CONTENT_SCRIPT = 'START_CONTENT_SCRIPT',\n    RESOLVE_EXTENSION_KEY = 'RESOLVE_EXTENSION_KEY',\n    RESOLVE_TAB = 'RESOLVE_TAB',\n    RESOLVE_USER_DATA = 'RESOLVE_USER_DATA',\n    PORT_FORWARDING_MESSAGE = 'PORT_FORWARDING',\n    PORT_UNAUTHORIZED = 'PORT_UNAUTHORIZED',\n    NOTIFICATION = 'NOTIFICATION',\n    STORE_ACTION = 'STORE_ACTION',\n    AUTOFILL_QUERY = 'AUTOFILL_QUERY',\n    AUTOFILL_SELECT = 'AUTOFILL_SELECT',\n    AUTOFILL_SYNC = 'AUTOFILL_SYNC',\n    AUTOFILL_OTP_CHECK = 'AUTOFILL_OTP_CHECK',\n    AUTOSAVE_REQUEST = 'AUTOSAVE_REQUEST',\n    UNLOCK_REQUEST = 'UNLOCK_REQUEST',\n    ALIAS_OPTIONS = 'ALIAS_OPTIONS',\n    ALIAS_CREATE = 'ALIAS_CREATE',\n    OTP_CODE_GENERATE = 'OTP_CODE_GENERATE',\n    FORM_ENTRY_STAGE = 'FORM_ENTRY_STAGE',\n    FORM_ENTRY_STASH = 'FORM_ENTRY_STASH',\n    FORM_ENTRY_COMMIT = 'FORM_ENTRY_COMMIT',\n    FORM_ENTRY_REQUEST = 'FORM_ENTRY_REQUEST',\n    EXPORT_REQUEST = 'EXPORT_REQUEST',\n    EXPORT_DECRYPT = 'EXPORT_DECRYPT',\n    SHARE_SERVER_EVENT = 'SHARE_SERVER_EVENT',\n    ONBOARDING_REQUEST = 'ONBOARDING_REQUEST',\n    ONBOARDING_ACK = 'ONBOARDING_ACK',\n    TELEMETRY_EVENT = 'TELEMETRY_EVENT',\n    SENTRY_CS_EVENT = 'SENTRY_CS_EVENT',\n    LOG_EVENT = 'LOG_EVENT',\n    LOG_REQUEST = 'LOG_REQUEST',\n    SETTINGS_UPDATE = 'SETTINGS_UPDATE',\n    PERMISSIONS_UPDATE = 'PERMISSIONS_UPDATE',\n    IMPORT_PROGRESS = 'IMPORT_PROGRESS',\n    ACTIVITY_PROBE = 'ACTIVITY_PROBE',\n}\n\n/* messages for communication with account */\nexport type AccountForkMessage = WithPayload<WorkerMessageType.ACCOUNT_FORK, ForkPayload>;\nexport type AccountAuthExtMessage = { type: WorkerMessageType.ACCOUNT_EXTENSION };\nexport type AccountProbeMessage = { type: WorkerMessageType.ACCOUNT_PROBE };\nexport type AccountPassOnboardingMessage = { type: WorkerMessageType.ACCOUNT_ONBOARDING };\n\nexport type PopupInitMessage = WithPayload<WorkerMessageType.POPUP_INIT, { tabId: TabId }>;\nexport type WorkerWakeUpMessage = WithPayload<WorkerMessageType.WORKER_WAKEUP, { tabId: TabId }>;\nexport type WorkerInitMessage = WithPayload<WorkerMessageType.WORKER_INIT, { sync: boolean }>;\nexport type WorkerStatusMessage = WithPayload<WorkerMessageType.WORKER_STATUS, { state: WorkerState }>;\nexport type UpdateAvailableMessage = { type: WorkerMessageType.UPDATE_AVAILABLE };\nexport type UnloadContentScriptMessage = { type: WorkerMessageType.UNLOAD_CONTENT_SCRIPT };\nexport type LoadContentScriptMessage = { type: WorkerMessageType.LOAD_CONTENT_SCRIPT };\nexport type StartContentScriptMessage = { type: WorkerMessageType.START_CONTENT_SCRIPT };\nexport type StoreActionMessage = WithPayload<WorkerMessageType.STORE_ACTION, { action: AnyAction }>;\nexport type ResumeSessionSuccessMessage = WithPayload<WorkerMessageType.SESSION_RESUMED, ResumedSessionResult>;\nexport type NotificationMessage = WithPayload<WorkerMessageType.NOTIFICATION, { notification: Notification }>;\nexport type AutofillQueryMessage = { type: WorkerMessageType.AUTOFILL_QUERY };\nexport type AutofillSyncMessage = WithPayload<WorkerMessageType.AUTOFILL_SYNC, { count: number }>;\nexport type AutofillSelectMessage = WithPayload<WorkerMessageType.AUTOFILL_SELECT, SelectedItem>;\nexport type AutofillOTPCheckMessage = { type: WorkerMessageType.AUTOFILL_OTP_CHECK };\nexport type AutoSaveRequestMessage = WithPayload<WorkerMessageType.AUTOSAVE_REQUEST, AutosavePayload>;\nexport type UnlockRequestMessage = WithPayload<WorkerMessageType.UNLOCK_REQUEST, { pin: string }>;\nexport type FormEntryStageMessage = WithPayload<WorkerMessageType.FORM_ENTRY_STAGE, NewFormEntry & { reason: string }>;\nexport type FormEntryStashMessage = WithPayload<WorkerMessageType.FORM_ENTRY_STASH, { reason: string }>;\nexport type FormEntryCommitMessage = WithPayload<WorkerMessageType.FORM_ENTRY_COMMIT, { reason: string }>;\nexport type FormEntryRequestMessage = { type: WorkerMessageType.FORM_ENTRY_REQUEST };\nexport type AliasOptionsMessage = { type: WorkerMessageType.ALIAS_OPTIONS };\nexport type AliasCreateMessage = WithPayload<WorkerMessageType.ALIAS_CREATE, { url: string; alias: AliasCreationDTO }>;\nexport type OTPCodeGenerateMessage = WithPayload<WorkerMessageType.OTP_CODE_GENERATE, OtpRequest>;\nexport type ResolveTabIdMessage = { type: WorkerMessageType.RESOLVE_TAB };\nexport type ResolveExtensionKeyMessage = { type: WorkerMessageType.RESOLVE_EXTENSION_KEY };\nexport type ResolveUserDataMessage = { type: WorkerMessageType.RESOLVE_USER_DATA };\nexport type PortUnauthorizedMessage = { type: WorkerMessageType.PORT_UNAUTHORIZED };\nexport type ExportRequestMessage = WithPayload<WorkerMessageType.EXPORT_REQUEST, ExportRequestPayload>;\nexport type ImportDecryptMessage = WithPayload<WorkerMessageType.EXPORT_DECRYPT, { data: string; passphrase: string }>;\nexport type ShareServerEventMessage = WithPayload<WorkerMessageType.SHARE_SERVER_EVENT, ShareEventPayload>;\nexport type OnboardingRequestMessage = { type: WorkerMessageType.ONBOARDING_REQUEST };\nexport type OnboardingAckMessage = WithPayload<WorkerMessageType.ONBOARDING_ACK, { message: OnboardingMessage }>;\nexport type TelemetryEventMessage = WithPayload<WorkerMessageType.TELEMETRY_EVENT, { event: TelemetryEvent }>;\nexport type SentryCSEventMessage = WithPayload<WorkerMessageType.SENTRY_CS_EVENT, { message: string; data: any }>;\nexport type LogEventMessage = WithPayload<WorkerMessageType.LOG_EVENT, { log: string }>;\nexport type LogRequestMessage = { type: WorkerMessageType.LOG_REQUEST };\nexport type SettingsUpdateMessage = WithPayload<WorkerMessageType.SETTINGS_UPDATE, ProxiedSettings>;\nexport type PermissionsUpdateMessage = WithPayload<WorkerMessageType.PERMISSIONS_UPDATE, { check: boolean }>;\nexport type ImportProgressMessage = WithPayload<WorkerMessageType.IMPORT_PROGRESS, { progress: number }>;\nexport type ActivityProbeMessage = { type: WorkerMessageType.ACTIVITY_PROBE };\n\nexport type WorkerMessage =\n    | StoreActionMessage\n    | NotificationMessage\n    | AccountForkMessage\n    | AccountAuthExtMessage\n    | AccountProbeMessage\n    | AccountPassOnboardingMessage\n    | WorkerWakeUpMessage\n    | WorkerInitMessage\n    | WorkerStatusMessage\n    | PopupInitMessage\n    | UpdateAvailableMessage\n    | UnloadContentScriptMessage\n    | StartContentScriptMessage\n    | LoadContentScriptMessage\n    | ResumeSessionSuccessMessage\n    | AutofillQueryMessage\n    | AutofillSelectMessage\n    | AutofillSyncMessage\n    | AutofillOTPCheckMessage\n    | AutoSaveRequestMessage\n    | UnlockRequestMessage\n    | OTPCodeGenerateMessage\n    | FormEntryStageMessage\n    | FormEntryStashMessage\n    | FormEntryCommitMessage\n    | FormEntryRequestMessage\n    | AliasOptionsMessage\n    | AliasCreateMessage\n    | ResolveTabIdMessage\n    | ResolveExtensionKeyMessage\n    | ResolveUserDataMessage\n    | ExportRequestMessage\n    | ImportDecryptMessage\n    | ShareServerEventMessage\n    | PortFrameForwardingMessage\n    | PortUnauthorizedMessage\n    | OnboardingRequestMessage\n    | OnboardingAckMessage\n    | TelemetryEventMessage\n    | SentryCSEventMessage\n    | LogEventMessage\n    | LogRequestMessage\n    | SettingsUpdateMessage\n    | PermissionsUpdateMessage\n    | ImportProgressMessage\n    | ActivityProbeMessage;\n\nexport type WorkerMessageWithSender<T extends WorkerMessage = WorkerMessage> = T & { sender: ExtensionEndpoint };\nexport type MessageFailure = { type: 'error'; error: string; payload?: string };\nexport type MessageSuccess<T> = T extends { [key: string]: any } ? T & { type: 'success' } : { type: 'success' };\nexport type MaybeMessage<T> = MessageSuccess<T> | MessageFailure;\nexport type Outcome<T = {}, F = {}> = ({ ok: true } & T) | ({ ok: false; error: MaybeNull<string> } & F);\n\ntype WorkerMessageResponseMap = {\n    [WorkerMessageType.WORKER_WAKEUP]: WorkerState & { settings: ProxiedSettings };\n    [WorkerMessageType.WORKER_INIT]: WorkerState;\n    [WorkerMessageType.POPUP_INIT]: PopupInitialState;\n    [WorkerMessageType.RESOLVE_TAB]: { tab: Maybe<Tabs.Tab> };\n    [WorkerMessageType.RESOLVE_EXTENSION_KEY]: { key: string };\n    [WorkerMessageType.ACCOUNT_FORK]: { payload: ExtensionForkResultPayload };\n    [WorkerMessageType.FORM_ENTRY_REQUEST]: { submission: Maybe<WithAutoSavePromptOptions<FormEntry>> };\n    [WorkerMessageType.FORM_ENTRY_COMMIT]: { committed: Maybe<FormEntryPrompt> };\n    [WorkerMessageType.FORM_ENTRY_STAGE]: { staged: FormEntry };\n    [WorkerMessageType.AUTOFILL_QUERY]: { items: SafeLoginItem[]; needsUpgrade: boolean };\n    [WorkerMessageType.AUTOFILL_SELECT]: { username: string; password: string };\n    [WorkerMessageType.AUTOFILL_OTP_CHECK]: { shouldPrompt: false } | ({ shouldPrompt: true } & SelectedItem);\n    [WorkerMessageType.ALIAS_CREATE]: Outcome;\n    [WorkerMessageType.UNLOCK_REQUEST]: Outcome<{}, { canRetry: boolean }>;\n    [WorkerMessageType.OTP_CODE_GENERATE]: OtpCode;\n    [WorkerMessageType.ALIAS_OPTIONS]: Outcome<{ options: AliasOptions; needsUpgrade: boolean }>;\n    [WorkerMessageType.EXPORT_REQUEST]: { data: string };\n    [WorkerMessageType.EXPORT_DECRYPT]: { data: string };\n    [WorkerMessageType.ONBOARDING_REQUEST]: { message?: OnboardingMessage };\n    [WorkerMessageType.LOG_REQUEST]: { logs: string[] };\n    [WorkerMessageType.RESOLVE_USER_DATA]: { user: MaybeNull<User> };\n};\n\nexport type WorkerMessageResponse<MessageType> = MessageType extends keyof WorkerMessageResponseMap\n    ? WorkerMessageResponseMap[MessageType]\n    : boolean;\n\nexport type WorkerResponse<T extends Maybe<WorkerMessage | WorkerMessageWithSender>> = T extends undefined\n    ? MessageFailure\n    : T extends WorkerMessage\n    ? T['type'] extends infer MessageType\n        ? MaybeMessage<WorkerMessageResponse<MessageType>>\n        : never\n    : never;\n\nexport type WorkerSendResponse<T extends Maybe<WorkerMessage> = Maybe<WorkerMessage>> = (\n    response: WorkerResponse<T>\n) => void;\n","import browser from '@proton/pass/globals/browser';\nimport type {\n    ExtensionEndpoint,\n    MessageFailure,\n    PortFrameForwardingMessage,\n    WorkerMessage,\n    WorkerMessageWithSender,\n    WorkerResponse,\n} from '@proton/pass/types';\nimport { WorkerMessageType } from '@proton/pass/types';\n\n/**\n * Wraps the untyped browser.runtime.sendMessage\n * with our message/response types to avoid manually\n * casting the response types every time we use extension\n * messaging\n */\nexport const sendMessage = async <T extends WorkerMessageWithSender>(\n    message: T\n): Promise<WorkerResponse<typeof message> | MessageFailure> => {\n    try {\n        return (await browser.runtime.sendMessage(browser.runtime.id, message)) as WorkerResponse<typeof message>;\n    } catch (error: any) {\n        return { type: 'error', error };\n    }\n};\n\n/**\n * Allows mapping over the response type via\n * an onReponse callback instead of manually\n * awaiting the sendMessage response and handling\n * it imperatively\n */\nsendMessage.on = async <R, T extends WorkerMessageWithSender>(\n    message: T,\n    onResponse: (res: WorkerResponse<typeof message> | MessageFailure) => R\n): Promise<R> => onResponse(await sendMessage(message));\n\n/**\n * Allows triggering an effect only if the\n * worker response is of type \"success\"\n */\nsendMessage.onSuccess = async <T extends WorkerMessageWithSender>(\n    message: T,\n    onSuccess: (res: Exclude<WorkerResponse<typeof message>, MessageFailure>) => void\n): Promise<void> =>\n    sendMessage.on(message, (response) => {\n        if (response.type === 'success') {\n            onSuccess(response as Exclude<WorkerResponse<typeof message>, MessageFailure>);\n        }\n    });\n\nexport type MessageWithSenderFactory = <T extends WorkerMessage>(message: T) => WorkerMessageWithSender<T>;\n\nexport const backgroundMessage: MessageWithSenderFactory = (message) => ({\n    ...message,\n    sender: 'background',\n});\n\nexport const popupMessage: MessageWithSenderFactory = (message) => ({\n    ...message,\n    sender: 'popup',\n});\n\nexport const contentScriptMessage: MessageWithSenderFactory = (message) => ({\n    ...message,\n    sender: 'contentscript',\n});\n\nexport const pageMessage: MessageWithSenderFactory = (message) => ({\n    ...message,\n    sender: 'page',\n});\n\nexport const portForwardingMessage = <T extends any>(forwardTo: string, payload: T): PortFrameForwardingMessage => ({\n    type: WorkerMessageType.PORT_FORWARDING_MESSAGE,\n    payload,\n    forwardTo,\n});\n\nexport const resolveMessageFactory = (endpoint: ExtensionEndpoint) => {\n    switch (endpoint) {\n        case 'background':\n            return backgroundMessage;\n        case 'popup':\n            return popupMessage;\n        case 'contentscript':\n            return contentScriptMessage;\n        case 'page':\n            return pageMessage;\n    }\n};\n","/**\n * A :func:`rule` depends on another rule which itself depends on the first\n * rule again, either directly or indirectly.\n */\nclass CycleError extends Error {}\n\n/**\n * An examined element was not contained in a browser ``window`` object, but\n * something needed it to be.\n */\nclass NoWindowError extends Error {}\n\nvar exceptions = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    CycleError: CycleError,\n    NoWindowError: NoWindowError,\n});\n\n/**\n * Return the passed-in arg. Useful as a default.\n */\nfunction identity(x) {\n    return x;\n}\n\n/*eslint-env browser*/\n\n/**\n * From an iterable return the best item, according to an arbitrary comparator\n * function. In case of a tie, the first item wins.\n *\n * @arg by {function} Given an item of the iterable, return a value to compare\n * @arg isBetter {function} Return whether its first arg is better than its\n *     second\n */\nfunction best(iterable, by, isBetter) {\n    let bestSoFar, bestKeySoFar;\n    let isFirst = true;\n    forEach(function (item) {\n        const key = by(item);\n        if (isBetter(key, bestKeySoFar) || isFirst) {\n            bestSoFar = item;\n            bestKeySoFar = key;\n            isFirst = false;\n        }\n    }, iterable);\n    if (isFirst) {\n        throw new Error('Tried to call best() on empty iterable');\n    }\n    return bestSoFar;\n}\n\n/**\n * Return the maximum item from an iterable, as defined by >.\n *\n * Works with any type that works with >. If multiple items are equally great,\n * return the first.\n *\n * @arg by {function} Given an item of the iterable, returns a value to\n *     compare\n */\nfunction max(iterable, by = identity) {\n    return best(iterable, by, (a, b) => a > b);\n}\n\n/**\n * Return an Array of maximum items from an iterable, as defined by > and ===.\n *\n * If an empty iterable is passed in, return [].\n */\nfunction maxes(iterable, by = identity) {\n    let bests = [];\n    let bestKeySoFar;\n    let isFirst = true;\n    forEach(function (item) {\n        const key = by(item);\n        if (key > bestKeySoFar || isFirst) {\n            bests = [item];\n            bestKeySoFar = key;\n            isFirst = false;\n        } else if (key === bestKeySoFar) {\n            bests.push(item);\n        }\n    }, iterable);\n    return bests;\n}\n\n/**\n * Return the minimum item from an iterable, as defined by <.\n *\n * If multiple items are equally great, return the first.\n */\nfunction min(iterable, by = identity) {\n    return best(iterable, by, (a, b) => a < b);\n}\n\n/**\n * Return the sum of an iterable, as defined by the + operator.\n */\nfunction sum(iterable) {\n    let total;\n    let isFirst = true;\n    forEach(function assignOrAdd(addend) {\n        if (isFirst) {\n            total = addend;\n            isFirst = false;\n        } else {\n            total += addend;\n        }\n    }, iterable);\n    return total;\n}\n\n/**\n * Return the number of items in an iterable, consuming it as a side effect.\n */\nfunction length(iterable) {\n    let num = 0;\n    // eslint-disable-next-line no-unused-vars\n    for (let item of iterable) {\n        num++;\n    }\n    return num;\n}\n\n/**\n * Iterate, depth first, over a DOM node. Return the original node first.\n *\n * @arg shouldTraverse {function} Given a node, say whether we should\n *     include it and its children. Default: always true.\n */\nfunction* walk(element, shouldTraverse = (element) => true) {\n    yield element;\n    for (let child of element.childNodes) {\n        if (shouldTraverse(child)) {\n            for (let w of walk(child, shouldTraverse)) {\n                yield w;\n            }\n        }\n    }\n}\n\nconst blockTags = new Set([\n    'ADDRESS',\n    'BLOCKQUOTE',\n    'BODY',\n    'CENTER',\n    'DIR',\n    'DIV',\n    'DL',\n    'FIELDSET',\n    'FORM',\n    'H1',\n    'H2',\n    'H3',\n    'H4',\n    'H5',\n    'H6',\n    'HR',\n    'ISINDEX',\n    'MENU',\n    'NOFRAMES',\n    'NOSCRIPT',\n    'OL',\n    'P',\n    'PRE',\n    'TABLE',\n    'UL',\n    'DD',\n    'DT',\n    'FRAMESET',\n    'LI',\n    'TBODY',\n    'TD',\n    'TFOOT',\n    'TH',\n    'THEAD',\n    'TR',\n    'HTML',\n]);\n/**\n * Return whether a DOM element is a block element by default (rather than by\n * styling).\n */\nfunction isBlock(element) {\n    return blockTags.has(element.tagName);\n}\n\n/**\n * Yield strings of text nodes within a normalized DOM node and its children,\n * without venturing into any contained block elements.\n *\n * @arg shouldTraverse {function} Specify additional elements to exclude by\n *     returning false\n */\nfunction* inlineTexts(element, shouldTraverse = (element) => true) {\n    // TODO: Could we just use querySelectorAll() with a really long\n    // selector rather than walk(), for speed?\n    for (let child of walk(\n        element,\n        (element) =>\n            !(isBlock(element) || (element.tagName === 'SCRIPT' && element.tagName === 'STYLE')) &&\n            shouldTraverse(element)\n    )) {\n        if (child.nodeType === child.TEXT_NODE) {\n            // wholeText() is not implemented by jsdom, so we use\n            // textContent(). The result should be the same, since\n            // we're calling it on only text nodes, but it may be\n            // slower. On the positive side, it means we don't need to\n            // normalize the DOM tree first.\n            yield child.textContent;\n        }\n    }\n}\n\n/**\n * Return the total length of the inline text within an element, with\n * whitespace collapsed.\n *\n * @arg shouldTraverse {function} Specify additional elements to exclude by\n *     returning false\n */\nfunction inlineTextLength(element, shouldTraverse = (element) => true) {\n    return sum(map((text) => collapseWhitespace(text).length, inlineTexts(element, shouldTraverse)));\n}\n\n/**\n * Return a string with each run of whitespace collapsed to a single space.\n */\nfunction collapseWhitespace(str) {\n    return str.replace(/\\s{2,}/g, ' ');\n}\n\n/**\n * Return the ratio of the inline text length of the links in an element to the\n * inline text length of the entire element.\n *\n * @arg inlineLength {number} Optionally, the precalculated inline\n *     length of the fnode. If omitted, we will calculate it ourselves.\n */\nfunction linkDensity(fnode, inlineLength) {\n    if (inlineLength === undefined) {\n        inlineLength = inlineTextLength(fnode.element);\n    }\n    const lengthWithoutLinks = inlineTextLength(fnode.element, (element) => element.tagName !== 'A');\n    return (inlineLength - lengthWithoutLinks) / inlineLength;\n}\n\n/**\n * Return whether an element is a text node that consist wholly of whitespace.\n */\nfunction isWhitespace(element) {\n    return element.nodeType === element.TEXT_NODE && element.textContent.trim().length === 0;\n}\n\n/**\n * Get a key of a map, first setting it to a default value if it's missing.\n */\nfunction setDefault(map, key, defaultMaker) {\n    if (map.has(key)) {\n        return map.get(key);\n    }\n    const defaultValue = defaultMaker();\n    map.set(key, defaultValue);\n    return defaultValue;\n}\n\n/**\n * Get a key of a map or, if it's missing, a default value.\n */\nfunction getDefault(map, key, defaultMaker) {\n    if (map.has(key)) {\n        return map.get(key);\n    }\n    return defaultMaker();\n}\n\n/**\n * Return an Array, the reverse topological sort of the given nodes.\n *\n * @arg nodes An iterable of arbitrary things\n * @arg nodesThatNeed {function} Take a node and returns an Array of nodes\n *     that depend on it\n */\nfunction toposort(nodes, nodesThatNeed) {\n    const ret = [];\n    const todo = new Set(nodes);\n    const inProgress = new Set();\n\n    function visit(node) {\n        if (inProgress.has(node)) {\n            throw new CycleError('The graph has a cycle.');\n        }\n        if (todo.has(node)) {\n            inProgress.add(node);\n            for (let needer of nodesThatNeed(node)) {\n                visit(needer);\n            }\n            inProgress.delete(node);\n            todo.delete(node);\n            ret.push(node);\n        }\n    }\n\n    while (todo.size > 0) {\n        visit(first(todo));\n    }\n    return ret;\n}\n\n/**\n * A Set with the additional methods it ought to have had\n */\nclass NiceSet extends Set {\n    /**\n     * Remove and return an arbitrary item. Throw an Error if I am empty.\n     */\n    pop() {\n        for (let v of this.values()) {\n            this.delete(v);\n            return v;\n        }\n        throw new Error('Tried to pop from an empty NiceSet.');\n    }\n\n    /**\n     * Union another set or other iterable into myself.\n     *\n     * @return myself, for chaining\n     */\n    extend(otherSet) {\n        for (let item of otherSet) {\n            this.add(item);\n        }\n        return this;\n    }\n\n    /**\n     * Subtract another set from a copy of me.\n     *\n     * @return a copy of myself excluding the elements in ``otherSet``.\n     */\n    minus(otherSet) {\n        const ret = new NiceSet(this);\n        for (const item of otherSet) {\n            ret.delete(item);\n        }\n        return ret;\n    }\n\n    /**\n     * Actually show the items in me.\n     */\n    toString() {\n        return '{' + Array.from(this).join(', ') + '}';\n    }\n}\n\n/**\n * Return the first item of an iterable.\n */\nfunction first(iterable) {\n    for (let i of iterable) {\n        return i;\n    }\n}\n\n/**\n * Given any node in a DOM tree, return the root element of the tree, generally\n * an HTML element.\n */\nfunction rootElement(element) {\n    return element.ownerDocument.documentElement;\n}\n\n/**\n * Return the number of times a regex occurs within the string `haystack`.\n *\n * Caller must make sure `regex` has the 'g' option set.\n */\nfunction numberOfMatches(regex, haystack) {\n    return (haystack.match(regex) || []).length;\n}\n\n/**\n * Wrap a scoring callback, and set its element to the page root iff a score is\n * returned.\n *\n * This is used to build rulesets which classify entire pages rather than\n * picking out specific elements.\n *\n * For example, these rules might classify a page as a \"login page\", influenced\n * by whether they have login buttons or username fields:\n *\n * ``rule(type('loginPage'), score(page(pageContainsLoginButton))),``\n * ``rule(type('loginPage'), score(page(pageContainsUsernameField)))``\n */\nfunction page(scoringFunction) {\n    function wrapper(fnode) {\n        const scoreAndTypeAndNote = scoringFunction(fnode);\n        if (scoreAndTypeAndNote.score !== undefined) {\n            scoreAndTypeAndNote.element = rootElement(fnode.element);\n        }\n        return scoreAndTypeAndNote;\n    }\n    return wrapper;\n}\n\n/**\n * Sort the elements by their position in the DOM.\n *\n * @arg fnodes {iterable} fnodes to sort\n * @return {Array} sorted fnodes\n */\nfunction domSort(fnodes) {\n    function compare(a, b) {\n        const element = a.element;\n        const position = element.compareDocumentPosition(b.element);\n        if (position & element.DOCUMENT_POSITION_FOLLOWING) {\n            return -1;\n        } else if (position & element.DOCUMENT_POSITION_PRECEDING) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n    return Array.from(fnodes).sort(compare);\n}\n\n/* istanbul ignore next */\n/**\n * Return the DOM element contained in a passed-in fnode. Return passed-in DOM\n * elements verbatim.\n *\n * @arg fnodeOrElement {Node|Fnode}\n */\nfunction toDomElement(fnodeOrElement) {\n    return isDomElement(fnodeOrElement) ? fnodeOrElement : fnodeOrElement.element;\n}\n\n/**\n * Checks whether any of the element's attribute values satisfy some condition.\n *\n * Example::\n *\n *     rule(type('foo'),\n *          score(attributesMatch(element,\n *                                attr => attr.includes('good'),\n *                                ['id', 'alt']) ? 2 : 1))\n *\n * @arg element {Node} Element whose attributes you want to search\n * @arg predicate {function} A condition to check. Take a string and\n *     return a boolean. If an attribute has multiple values (e.g. the class\n *     attribute), attributesMatch will check each one.\n * @arg attrs {string[]} An Array of attributes you want to search. If none are\n *     provided, search all.\n * @return Whether any of the attribute values satisfy the predicate function\n */\nfunction attributesMatch(element, predicate, attrs = []) {\n    const attributes = attrs.length === 0 ? Array.from(element.attributes).map((a) => a.name) : attrs;\n    for (let i = 0; i < attributes.length; i++) {\n        const attr = element.getAttribute(attributes[i]);\n        // If the attribute is an array, apply the scoring function to each element\n        if (attr && ((Array.isArray(attr) && attr.some(predicate)) || predicate(attr))) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/* istanbul ignore next */\n/**\n * Yield an element and each of its ancestors.\n */\nfunction* ancestors(element) {\n    yield element;\n    let parent;\n    while ((parent = element.parentNode) !== null && parent.nodeType === parent.ELEMENT_NODE) {\n        yield parent;\n        element = parent;\n    }\n}\n\n/**\n * Return the sigmoid of the argument: 1 / (1 + exp(-x)). This is useful for\n * crunching a feature value that may have a wide range into the range (0, 1)\n * without a hard ceiling: the sigmoid of even a very large number will be a\n * little larger than that of a slightly smaller one.\n *\n * @arg x {Number} a number to be compressed into the range (0, 1)\n */\nfunction sigmoid(x) {\n    return 1 / (1 + Math.exp(-x));\n}\n\n/* istanbul ignore next */\n/**\n * Return whether an element is practically visible, considering things like 0\n * size or opacity, ``visibility: hidden`` and ``overflow: hidden``.\n *\n * Merely being scrolled off the page in either horizontally or vertically\n * doesn't count as invisible; the result of this function is meant to be\n * independent of viewport size.\n *\n * @throws {NoWindowError} The element (or perhaps one of its ancestors) is not\n *     in a window, so we can't find the `getComputedStyle()` routine to call.\n *     That routine is the source of most of the information we use, so you\n *     should pick a different strategy for non-window contexts.\n */\nfunction isVisible(fnodeOrElement) {\n    // This could be 5x more efficient if https://github.com/w3c/csswg-drafts/issues/4122 happens.\n    const element = toDomElement(fnodeOrElement);\n    const elementWindow = windowForElement(element);\n    const elementRect = element.getBoundingClientRect();\n    const elementStyle = elementWindow.getComputedStyle(element);\n    // Alternative to reading ``display: none`` due to Bug 1381071.\n    if (elementRect.width === 0 && elementRect.height === 0 && elementStyle.overflow !== 'hidden') {\n        return false;\n    }\n    if (elementStyle.visibility === 'hidden') {\n        return false;\n    }\n    // Check if the element is irrevocably off-screen:\n    if (elementRect.x + elementRect.width < 0 || elementRect.y + elementRect.height < 0) {\n        return false;\n    }\n    for (const ancestor of ancestors(element)) {\n        const isElement = ancestor === element;\n        const style = isElement ? elementStyle : elementWindow.getComputedStyle(ancestor);\n        if (style.opacity === '0') {\n            return false;\n        }\n        if (style.display === 'contents') {\n            // ``display: contents`` elements have no box themselves, but children are\n            // still rendered.\n            continue;\n        }\n        const rect = isElement ? elementRect : ancestor.getBoundingClientRect();\n        if ((rect.width === 0 || rect.height === 0) && elementStyle.overflow === 'hidden') {\n            // Zero-sized ancestors don’t make descendants hidden unless the descendant\n            // has ``overflow: hidden``.\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * Return the extracted [r, g, b, a] values from a string like \"rgba(0, 5, 255, 0.8)\",\n * and scale them to 0..1. If no alpha is specified, return undefined for it.\n */\nfunction rgbaFromString(str) {\n    const m = str.match(/^rgba?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/i);\n    if (m) {\n        return [m[1] / 255, m[2] / 255, m[3] / 255, m[4] === undefined ? undefined : parseFloat(m[4])];\n    } else {\n        throw new Error('Color ' + str + ' did not match pattern rgb[a](r, g, b[, a]).');\n    }\n}\n\n/**\n * Return the saturation 0..1 of a color defined by RGB values 0..1.\n */\nfunction saturation(r, g, b) {\n    const cMax = Math.max(r, g, b);\n    const cMin = Math.min(r, g, b);\n    const delta = cMax - cMin;\n    const lightness = (cMax + cMin) / 2;\n    const denom = 1 - Math.abs(2 * lightness - 1);\n    // Return 0 if it's black (R, G, and B all 0).\n    return denom === 0 ? 0 : delta / denom;\n}\n\n/**\n * Scale a number to the range [0, 1] using a linear slope.\n *\n * For a rising line, the result is 0 until the input reaches zeroAt, then\n * increases linearly until oneAt, at which it becomes 1. To make a falling\n * line, where the result is 1 to the left and 0 to the right, use a zeroAt\n * greater than oneAt.\n */\nfunction linearScale(number, zeroAt, oneAt) {\n    const isRising = zeroAt < oneAt;\n    if (isRising) {\n        if (number <= zeroAt) {\n            return 0;\n        } else if (number >= oneAt) {\n            return 1;\n        }\n    } else {\n        if (number >= zeroAt) {\n            return 0;\n        } else if (number <= oneAt) {\n            return 1;\n        }\n    }\n    const slope = 1 / (oneAt - zeroAt);\n    return slope * (number - zeroAt);\n}\n\n// -------- Routines below this point are private to the framework. --------\n\n/**\n * Flatten out an iterable of iterables into a single iterable of non-\n * iterables. Does not consider strings to be iterable.\n */\nfunction* flatten(iterable) {\n    for (const i of iterable) {\n        if (typeof i !== 'string' && !(i instanceof Element) && isIterable(i)) {\n            yield* flatten(i);\n        } else {\n            yield i;\n        }\n    }\n}\n\n/**\n * A lazy, top-level ``Array.map()`` workalike that works on anything iterable\n */\nfunction* map(fn, iterable) {\n    for (const i of iterable) {\n        yield fn(i);\n    }\n}\n\n/**\n * A lazy, top-level ``Array.forEach()`` workalike that works on anything\n * iterable\n */\nfunction forEach(fn, iterable) {\n    for (const i of iterable) {\n        fn(i);\n    }\n}\n\n/* istanbul ignore next */\n/**\n * @return whether a thing appears to be a DOM element.\n */\nfunction isDomElement(thing) {\n    return thing.nodeName !== undefined;\n}\n\nfunction isIterable(thing) {\n    return thing && typeof thing[Symbol.iterator] === 'function';\n}\n\n/**\n * Return an backward iterator over an Array without reversing it in place.\n */\nfunction* reversed(array) {\n    for (let i = array.length - 1; i >= 0; i--) {\n        yield array[i];\n    }\n}\n\n/* istanbul ignore next */\n/*\n * Return the window an element is in.\n *\n * @throws {NoWindowError} There isn't such a window.\n */\nfunction windowForElement(element) {\n    let doc = element.ownerDocument;\n    if (doc === null) {\n        // The element itself was a document.\n        doc = element;\n    }\n    const win = doc.defaultView;\n    if (win === null) {\n        throw new NoWindowError();\n    }\n    return win;\n}\n\nvar utilsForFrontend = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    identity: identity,\n    best: best,\n    max: max,\n    maxes: maxes,\n    min: min,\n    sum: sum,\n    length: length,\n    walk: walk,\n    isBlock: isBlock,\n    inlineTexts: inlineTexts,\n    inlineTextLength: inlineTextLength,\n    collapseWhitespace: collapseWhitespace,\n    linkDensity: linkDensity,\n    isWhitespace: isWhitespace,\n    setDefault: setDefault,\n    getDefault: getDefault,\n    toposort: toposort,\n    NiceSet: NiceSet,\n    first: first,\n    rootElement: rootElement,\n    numberOfMatches: numberOfMatches,\n    page: page,\n    domSort: domSort,\n    toDomElement: toDomElement,\n    attributesMatch: attributesMatch,\n    ancestors: ancestors,\n    sigmoid: sigmoid,\n    isVisible: isVisible,\n    rgbaFromString: rgbaFromString,\n    saturation: saturation,\n    linearScale: linearScale,\n    flatten: flatten,\n    map: map,\n    forEach: forEach,\n    isDomElement: isDomElement,\n    reversed: reversed,\n    windowForElement: windowForElement,\n});\n\n/**\n * Return the number of stride nodes between 2 DOM nodes *at the same\n * level of the tree*, without going up or down the tree.\n *\n * ``left`` xor ``right`` may also be undefined.\n */\nfunction numStrides(left, right) {\n    let num = 0;\n\n    // Walk right from left node until we hit the right node or run out:\n    let sibling = left;\n    let shouldContinue = sibling && sibling !== right;\n    while (shouldContinue) {\n        sibling = sibling.nextSibling;\n        if ((shouldContinue = sibling && sibling !== right) && !isWhitespace(sibling)) {\n            num += 1;\n        }\n    }\n    if (sibling !== right) {\n        // Don't double-punish if left and right are siblings.\n        // Walk left from right node:\n        sibling = right;\n        while (sibling) {\n            sibling = sibling.previousSibling;\n            if (sibling && !isWhitespace(sibling)) {\n                num += 1;\n            }\n        }\n    }\n    return num;\n}\n\n/**\n * Return a topological distance between 2 DOM nodes or :term:`fnodes<fnode>`\n * weighted according to the similarity of their ancestry in the DOM. For\n * instance, if one node is situated inside ``<div><span><b><theNode>`` and the\n * other node is at ``<differentDiv><span><b><otherNode>``, they are considered\n * close to each other for clustering purposes. This is useful for picking out\n * nodes which have similar purposes.\n *\n * Return ``Number.MAX_VALUE`` if one of the nodes contains the other.\n *\n * This is largely an implementation detail of :func:`clusters`, but you can\n * call it yourself if you wish to implement your own clustering. Takes O(n log\n * n) time.\n *\n * Note that the default costs may change; pass them in explicitly if they are\n * important to you.\n *\n * @arg fnodeA {Node|Fnode}\n * @arg fnodeB {Node|Fnode}\n * @arg differentDepthCost {number} Cost for each level deeper one node is than\n *    the other below their common ancestor\n * @arg differentTagCost {number} Cost for a level below the common ancestor\n *    where tagNames differ\n * @arg sameTagCost {number} Cost for a level below the common ancestor where\n *    tagNames are the same\n * @arg strideCost {number} Cost for each stride node between A and B. Stride\n *     nodes are siblings or siblings-of-ancestors that lie between the 2\n *     nodes. These interposed nodes make it less likely that the 2 nodes\n *     should be together in a cluster.\n * @arg additionalCost {function} Return an additional cost, given 2 fnodes or\n *    nodes.\n *\n */\nfunction distance(\n    fnodeA,\n    fnodeB,\n    {\n        differentDepthCost = 2,\n        differentTagCost = 2,\n        sameTagCost = 1,\n        strideCost = 1,\n        additionalCost = (fnodeA, fnodeB) => 0,\n    } = {}\n) {\n    // I was thinking of something that adds little cost for siblings. Up\n    // should probably be more expensive than down (see middle example in the\n    // Nokia paper).\n\n    // TODO: Test and tune default costs. They're off the cuff at the moment.\n\n    if (fnodeA === fnodeB) {\n        return 0;\n    }\n\n    const elementA = isDomElement(fnodeA) ? fnodeA : fnodeA.element;\n    const elementB = isDomElement(fnodeB) ? fnodeB : fnodeB.element;\n\n    // Stacks that go from the common ancestor all the way to A and B:\n    const aAncestors = [elementA];\n    const bAncestors = [elementB];\n\n    let aAncestor = elementA;\n    let bAncestor = elementB;\n\n    // Ascend to common parent, stacking them up for later reference:\n    while (!aAncestor.contains(elementB)) {\n        // Note: an element does contain() itself.\n        aAncestor = aAncestor.parentNode;\n        aAncestors.push(aAncestor); //aAncestors = [a, b]. aAncestor = b // if a is outer: no loop here; aAncestors = [a]. aAncestor = a.\n    }\n\n    // In compareDocumentPosition()'s opinion, inside implies after. Basically,\n    // before and after pertain to opening tags.\n    const comparison = elementA.compareDocumentPosition(elementB);\n\n    // If either contains the other, abort. We'd either return a misleading\n    // number or else walk upward right out of the document while trying to\n    // make the ancestor stack.\n    if (comparison & (elementA.DOCUMENT_POSITION_CONTAINS | elementA.DOCUMENT_POSITION_CONTAINED_BY)) {\n        return Number.MAX_VALUE;\n    }\n    // Make an ancestor stack for the right node too so we can walk\n    // efficiently down to it:\n    do {\n        bAncestor = bAncestor.parentNode; // Assumes we've early-returned above if A === B. This walks upward from the outer node and up out of the tree. It STARTS OUT with aAncestor === bAncestor!\n        bAncestors.push(bAncestor);\n    } while (bAncestor !== aAncestor);\n\n    // Figure out which node is left and which is right, so we can follow\n    // sibling links in the appropriate directions when looking for stride\n    // nodes:\n    let left = aAncestors;\n    let right = bAncestors;\n    let cost = 0;\n    if (comparison & elementA.DOCUMENT_POSITION_FOLLOWING) {\n        // A is before, so it could contain the other node. What did I mean to do if one contained the other?\n        left = aAncestors;\n        right = bAncestors;\n    } else if (comparison & elementA.DOCUMENT_POSITION_PRECEDING) {\n        // A is after, so it might be contained by the other node.\n        left = bAncestors;\n        right = aAncestors;\n    }\n\n    // Descend to both nodes in parallel, discounting the traversal\n    // cost iff the nodes we hit look similar, implying the nodes dwell\n    // within similar structures.\n    while (left.length || right.length) {\n        const l = left.pop();\n        const r = right.pop();\n        if (l === undefined || r === undefined) {\n            // Punishment for being at different depths: same as ordinary\n            // dissimilarity punishment for now\n            cost += differentDepthCost;\n        } else {\n            // TODO: Consider similarity of classList.\n            cost += l.tagName === r.tagName ? sameTagCost : differentTagCost;\n        }\n        // Optimization: strides might be a good dimension to eliminate.\n        if (strideCost !== 0) {\n            cost += numStrides(l, r) * strideCost;\n        }\n    }\n\n    return cost + additionalCost(fnodeA, fnodeB);\n}\n\n/**\n * Return the spatial distance between 2 fnodes or elements, assuming a\n * rendered page.\n *\n * Specifically, return the distance in pixels between the centers of\n * ``fnodeA.element.getBoundingClientRect()`` and\n * ``fnodeB.element.getBoundingClientRect()``.\n */\nfunction euclidean(fnodeA, fnodeB) {\n    /**\n     * Return the horizontal distance from the left edge of the viewport to the\n     * center of an element, given a DOMRect object for it. It doesn't matter\n     * that the distance is affected by the page's scroll offset, since the 2\n     * elements have the same offset.\n     */\n    function xCenter(domRect) {\n        return domRect.left + domRect.width / 2;\n    }\n    function yCenter(domRect) {\n        return domRect.top + domRect.height / 2;\n    }\n\n    const elementA = toDomElement(fnodeA);\n    const elementB = toDomElement(fnodeB);\n    const aRect = elementA.getBoundingClientRect();\n    const bRect = elementB.getBoundingClientRect();\n    return Math.sqrt((xCenter(aRect) - xCenter(bRect)) ** 2 + (yCenter(aRect) - yCenter(bRect)) ** 2);\n}\n\n/** A lower-triangular matrix of inter-cluster distances */\nclass DistanceMatrix {\n    /**\n     * @arg distance {function} Some notion of distance between 2 given nodes\n     */\n    constructor(elements, distance) {\n        // A sparse adjacency matrix:\n        // {A => {},\n        //  B => {A => 4},\n        //  C => {A => 4, B => 4},\n        //  D => {A => 4, B => 4, C => 4}\n        //  E => {A => 4, B => 4, C => 4, D => 4}}\n        //\n        // A, B, etc. are arrays of [arrays of arrays of...] nodes, each\n        // array being a cluster. In this way, they not only accumulate a\n        // cluster but retain the steps along the way.\n        //\n        // This is an efficient data structure in terms of CPU and memory, in\n        // that we don't have to slide a lot of memory around when we delete a\n        // row or column from the middle of the matrix while merging. Of\n        // course, we lose some practical efficiency by using hash tables, and\n        // maps in particular are slow in their early implementations.\n        this._matrix = new Map();\n\n        // Convert elements to clusters:\n        const clusters = elements.map((el) => [el]);\n\n        // Init matrix:\n        for (let outerCluster of clusters) {\n            const innerMap = new Map();\n            for (let innerCluster of this._matrix.keys()) {\n                innerMap.set(innerCluster, distance(outerCluster[0], innerCluster[0]));\n            }\n            this._matrix.set(outerCluster, innerMap);\n        }\n        this._numClusters = clusters.length;\n    }\n\n    // Return (distance, a: clusterA, b: clusterB) of closest-together clusters.\n    // Replace this to change linkage criterion.\n    closest() {\n        const self = this;\n\n        if (this._numClusters < 2) {\n            throw new Error('There must be at least 2 clusters in order to return the closest() ones.');\n        }\n\n        // Return the distances between every pair of clusters.\n        function clustersAndDistances() {\n            const ret = [];\n            for (let [outerKey, row] of self._matrix.entries()) {\n                for (let [innerKey, storedDistance] of row.entries()) {\n                    ret.push({ a: outerKey, b: innerKey, distance: storedDistance });\n                }\n            }\n            return ret;\n        }\n        // Optimizing this by inlining the loop and writing it less\n        // functionally doesn't help:\n        return min(clustersAndDistances(), (x) => x.distance);\n    }\n\n    // Look up the distance between 2 clusters in me. Try the lookup in the\n    // other direction if the first one falls in the nonexistent half of the\n    // triangle.\n    _cachedDistance(clusterA, clusterB) {\n        let ret = this._matrix.get(clusterA).get(clusterB);\n        if (ret === undefined) {\n            ret = this._matrix.get(clusterB).get(clusterA);\n        }\n        return ret;\n    }\n\n    // Merge two clusters.\n    merge(clusterA, clusterB) {\n        // An example showing how rows merge:\n        //  A: {}\n        //  B: {A: 1}\n        //  C: {A: 4, B: 4},\n        //  D: {A: 4, B: 4, C: 4}\n        //  E: {A: 4, B: 4, C: 2, D: 4}}\n        //\n        // Step 2:\n        //  C: {}\n        //  D: {C: 4}\n        //  E: {C: 2, D: 4}}\n        //  AB: {C: 4, D: 4, E: 4}\n        //\n        // Step 3:\n        //  D:  {}\n        //  AB: {D: 4}\n        //  CE: {D: 4, AB: 4}\n\n        // Construct new row, finding min distances from either subcluster of\n        // the new cluster to old clusters.\n        //\n        // There will be no repetition in the matrix because, after all,\n        // nothing pointed to this new cluster before it existed.\n        const newRow = new Map();\n        for (let outerKey of this._matrix.keys()) {\n            if (outerKey !== clusterA && outerKey !== clusterB) {\n                newRow.set(\n                    outerKey,\n                    Math.min(this._cachedDistance(clusterA, outerKey), this._cachedDistance(clusterB, outerKey))\n                );\n            }\n        }\n\n        // Delete the rows of the clusters we're merging.\n        this._matrix.delete(clusterA);\n        this._matrix.delete(clusterB);\n\n        // Remove inner refs to the clusters we're merging.\n        for (let inner of this._matrix.values()) {\n            inner.delete(clusterA);\n            inner.delete(clusterB);\n        }\n\n        // Attach new row.\n        this._matrix.set([clusterA, clusterB], newRow);\n\n        // There is a net decrease of 1 cluster:\n        this._numClusters -= 1;\n    }\n\n    numClusters() {\n        return this._numClusters;\n    }\n\n    // Return an Array of nodes for each cluster in me.\n    clusters() {\n        // TODO: Can't get map to work here. Don't know why.\n        return Array.from(this._matrix.keys()).map((e) => Array.from(flatten(e)));\n    }\n}\n\n/**\n * Partition the given nodes into one or more clusters by position in the DOM\n * tree.\n *\n * This implements an agglomerative clustering. It uses single linkage, since\n * we're talking about adjacency here more than Euclidean proximity: the\n * clusters we're talking about in the DOM will tend to be adjacent, not\n * overlapping. We haven't tried other linkage criteria yet.\n *\n * In a later release, we may consider score or notes.\n *\n * @arg {Fnode[]|Node[]} fnodes :term:`fnodes<fnode>` or DOM nodes to group\n *     into clusters\n * @arg {number} splittingDistance The closest-nodes :func:`distance` beyond\n *     which we will not attempt to unify 2 clusters. Make this larger to make\n *     larger clusters.\n * @arg getDistance {function} A function that returns some notion of numerical\n *    distance between 2 nodes. Default: :func:`distance`\n * @return {Array} An Array of Arrays, with each Array containing all the\n *     nodes in one cluster. Note that neither the clusters nor the nodes are\n *     in any particular order. You may find :func:`domSort` helpful to remedy\n *     the latter.\n */\nfunction clusters(fnodes, splittingDistance, getDistance = distance) {\n    const matrix = new DistanceMatrix(fnodes, getDistance);\n    let closest;\n\n    while (matrix.numClusters() > 1 && (closest = matrix.closest()).distance < splittingDistance) {\n        matrix.merge(closest.a, closest.b);\n    }\n\n    return matrix.clusters();\n}\n\nvar clusters$1 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    distance: distance,\n    euclidean: euclidean,\n    clusters: clusters,\n});\n\n// The left-hand side of a rule\n\n/**\n * Take nodes that match a given DOM selector. Example:\n * ``dom('meta[property=\"og:title\"]')``\n *\n * Every ruleset has at least one ``dom`` or :func:`element` rule, as that is\n * where nodes begin to flow into the system. If run against a subtree of a\n * document, the root of the subtree is not considered as a possible match.\n */\nfunction dom(selector) {\n    return new DomLhs(selector);\n}\n\n/**\n * Take a single given node if it matches a given DOM selector, without looking\n * through its descendents or ancestors. Otherwise, take no nodes. Example:\n * ``element('input')``\n *\n * This is useful for applications in which you want Fathom to classify an\n * element the user has selected, rather than scanning the whole page for\n * candidates.\n */\nfunction element(selector) {\n    return new ElementLhs(selector);\n}\n\n/**\n * PROTON EXTENSION\n * Allows running a custom function when selecting\n * DOM elements in a fathom LHS rule.\n */\nfunction domQuery(query) {\n    return new DomQueryLhs(query);\n}\n\n/**\n * Rules and the LHSs and RHSs that comprise them have no mutable state. This\n * lets us make BoundRulesets from Rulesets without duplicating the rules. It\n * also lets us share a common cache among rules: multiple ones might care\n * about a cached type(), for instance; there isn't a one-to-one relationship\n * of storing with caring. There would also, because of the interdependencies\n * of rules in a ruleset, be little use in segmenting the caches: if you do\n * something that causes one to need to be cleared, you'll need to clear many\n * more as well.\n *\n * Lhses are responsible for maintaining ruleset.maxCache.\n *\n * Lhs and its subclasses are private to the Fathom framework.\n */\nclass Lhs {\n    constructor() {\n        this._predicate = () => true;\n    }\n\n    /** Return a new Lhs of the appropriate kind, given its first call. */\n    static fromFirstCall(firstCall) {\n        // firstCall is never 'dom', because dom() directly returns a DomLhs.\n        if (firstCall.method === 'type') {\n            return new TypeLhs(...firstCall.args);\n        } else if (firstCall.method === 'and') {\n            return new AndLhs(firstCall.args);\n        } else if (firstCall.method === 'nearest') {\n            return new NearestLhs(firstCall.args);\n        } else {\n            throw new Error('The left-hand side of a rule() must start with dom(), type(), and(), or nearest().');\n        }\n    }\n\n    /**\n     * Prune nodes from consideration early in run execution, before scoring is\n     * done.\n     *\n     * Reserve this for where you are sure it is always correct or when\n     * performance demands it. It is generally preferable to use :func:`score`\n     * and let the :doc:`trainer<training>` determine the relative significance\n     * of each rule. Human intuition as to what is important is often wrong:\n     * for example, one might assume that a music player website would include\n     * the word \"play\", but this does not hold once you include sites in other\n     * languages.\n     *\n     * Can be chained after :func:`type` or :func:`dom`.\n     *\n     * Example: ``dom('p').when(isVisible)``\n     *\n     * @arg {function} predicate Accepts a fnode and returns a boolean\n     */\n    when(predicate) {\n        let lhs = this.clone();\n        lhs._predicate = predicate;\n        return lhs;\n    }\n\n    /**\n     * Of all the dom nodes selected by type() or dom(), return only\n     * the fnodes that satisfy all the predicates imposed by calls to\n     * when()\n     */\n    fnodesSatisfyingWhen(fnodes) {\n        return Array.from(fnodes).filter(this._predicate);\n    }\n\n    /**\n     * Return an iterable of output fnodes selected by this left-hand-side\n     * expression.\n     *\n     * Pre: The rules I depend on have already been run, and their results are\n     * in ruleset.typeCache.\n     *\n     * @arg ruleset {BoundRuleset}\n     */\n    // fnodes (ruleset) {}\n\n    /**\n     * Check that a RHS-emitted fact is legal for this kind of LHS, and throw\n     * an error if it isn't.\n     */\n    checkFact(fact) {}\n\n    /**\n     * Return the single type the output of the LHS is guaranteed to have.\n     * Return undefined if there is no such single type we can ascertain.\n     */\n    guaranteedType() {}\n\n    /**\n     * Return the type I aggregate if I am an aggregate LHS; return undefined\n     * otherwise.\n     */\n    aggregatedType() {}\n\n    /**\n     * Return each combination of types my selected nodes could be locally (that\n     * is, by this rule only) constrained to have.\n     *\n     * For example, type(A) would return [A]. and(A, or(B, C)) would return\n     * [AB, AC, ABC]. More examples:\n     *\n     * or(A, B) → typeIn(A, B, C)  # Finalizes A, B.   combos A, B, AB: finalizes AB. Optimization: there's no point in returning the last combo in ors. Compilation into 2 rules with identical RHSs will inherently implement this optimization.\n     * or(A, B) → typeIn(A, B)  # Finalizes A, B\n     * or(A, B) → A  # Finalizes B\n     * and(A) -> A  # Finalizes nothing\n     * and(A, B) -> A  # Finalizes nothing.   AB: Ø\n     * and(A) -> typeIn(A, B)  # Finalizes A.   A\n     * and(A, B) -> typeIn(A, B)  # Finalizes nothing.   AB\n     * and(A, B) -> typeIn(A, B, C)  # Finalizes A, B.   AB\n     * and(A, or(B, C)) -> D  # Finalizes A, B, C.   AB, AC, ABC: ABC\n     * and(A, or(B, C)) -> B  # Finalizes A, C.   AB, AC, ABC: AC\n     * type(A).not(and(A, B)) ->\n     *\n     * @return {NiceSet[]}\n     */\n    // possibleTypeCombinations() {}\n\n    /**\n     * Types mentioned in this LHS.\n     *\n     * In other words, the types I need to know the assignment status of before\n     * I can make my selections\n     *\n     * @return NiceSet of strings\n     */\n    // typesMentioned() {}\n}\n\nclass DomLhs extends Lhs {\n    constructor(selector) {\n        super();\n        if (selector === undefined) {\n            throw new Error(\n                'A querySelector()-style selector is required as the argument to ' + this._callName() + '().'\n            );\n        }\n        this.selector = selector;\n    }\n\n    /**\n     * Return the name of this kind of LHS, for use in error messages.\n     */\n    _callName() {\n        return 'dom';\n    }\n\n    clone() {\n        return new this.constructor(this.selector);\n    }\n\n    fnodes(ruleset) {\n        return this._domNodesToFilteredFnodes(ruleset, ruleset.doc.querySelectorAll(this.selector));\n    }\n\n    /**\n     * Turn a NodeList of DOM nodes into an array of fnodes, and filter out\n     * those that don't match the :func:`when()` clause.\n     */\n    _domNodesToFilteredFnodes(ruleset, domNodes) {\n        let ret = [];\n        for (let i = 0; i < domNodes.length; i++) {\n            ret.push(ruleset.fnodeForElement(domNodes[i]));\n        }\n        return this.fnodesSatisfyingWhen(ret);\n    }\n\n    checkFact(fact) {\n        if (fact.type === undefined) {\n            throw new Error(\n                `The right-hand side of a ${this._callName()}() rule failed to specify a type. This means there is no way for its output to be used by later rules. All it specified was ${fact}.`\n            );\n        }\n    }\n\n    asLhs() {\n        return this;\n    }\n\n    possibleTypeCombinations() {\n        return [];\n    }\n\n    typesMentioned() {\n        return new NiceSet();\n    }\n}\n\nclass ElementLhs extends DomLhs {\n    _callName() {\n        return 'element';\n    }\n\n    fnodes(ruleset) {\n        return this._domNodesToFilteredFnodes(ruleset, ruleset.doc.matches(this.selector) ? [ruleset.doc] : []);\n    }\n}\n\n/**\n * PROTON EXTENSION\n * Extends DomLhs rule but instead of passing\n * a single string selector, allows passing a\n * custom selector function that will be run\n * against the document\n */\nclass DomQueryLhs extends DomLhs {\n    constructor(query) {\n        /**\n         * mock selector to avoid parent DomLhs\n         * throwing in constructor call\n         */\n        super('');\n        this.query = query;\n    }\n\n    _callName() {\n        return 'domQuery';\n    }\n\n    clone() {\n        return new DomQueryLhs(this.query);\n    }\n\n    fnodes(ruleset) {\n        return this._domNodesToFilteredFnodes(ruleset, this.query(ruleset.doc));\n    }\n}\n\n/** Internal representation of a LHS constrained by type but not by max() */\nclass TypeLhs extends Lhs {\n    constructor(type) {\n        super();\n        if (type === undefined) {\n            throw new Error('A type name is required when calling type().');\n        }\n        this._type = type; // the input type\n    }\n\n    clone() {\n        return new this.constructor(this._type);\n    }\n\n    fnodes(ruleset) {\n        const cached = getDefault(ruleset.typeCache, this._type, () => []);\n        return this.fnodesSatisfyingWhen(cached);\n    }\n\n    /** Override the type previously specified by this constraint. */\n    type(inputType) {\n        // Preserve the class in case this is a TypeMaxLhs.\n        return new this.constructor(inputType);\n    }\n\n    /**\n     * Of the nodes selected by a ``type`` call to the left, constrain the LHS\n     * to return only the max-scoring one. If there is a tie, more than 1 node\n     * will be returned. Example: ``type('titley').max()``\n     */\n    max() {\n        return new TypeMaxLhs(this._type);\n    }\n\n    /**\n     * Take the nodes selected by a ``type`` call to the left, group them into\n     * clusters, and return the nodes in the cluster that has the highest total\n     * score (on the relevant type).\n     *\n     * Nodes come out in arbitrary order, so, if you plan to emit them,\n     * consider using ``.out('whatever').allThrough(domSort)``. See\n     * :func:`domSort`.\n     *\n     * If multiple clusters have equally high scores, return an arbitrary one,\n     * because Fathom has no way to represent arrays of arrays in rulesets.\n     *\n     * @arg options {Object} The same depth costs taken by :func:`distance`,\n     *     plus ``splittingDistance``, which is the distance beyond which 2\n     *     clusters will be considered separate. ``splittingDistance``, if\n     *     omitted, defaults to 3.\n     */\n    bestCluster(options) {\n        return new BestClusterLhs(this._type, options);\n    }\n\n    // Other clustering calls could be called biggestCluster() (having the most\n    // nodes) and bestAverageCluster() (having the highest average score).\n\n    guaranteedType() {\n        return this._type;\n    }\n\n    possibleTypeCombinations() {\n        return [this.typesMentioned()];\n    }\n\n    typesMentioned() {\n        return new NiceSet([this._type]);\n    }\n}\n\n/**\n * Abstract LHS that is an aggregate function taken across all fnodes of a type\n *\n * The main point here is that any aggregate function over a (typed) set of\n * nodes depends on first computing all the rules that could emit those nodes\n * (nodes of that type).\n */\nclass AggregateTypeLhs extends TypeLhs {\n    aggregatedType() {\n        return this._type;\n    }\n}\n\n/**\n * Internal representation of a LHS that has both type and max([NUMBER])\n * constraints. max(NUMBER != 1) support is not yet implemented.\n */\nclass TypeMaxLhs extends AggregateTypeLhs {\n    /**\n     * Return the max-scoring node (or nodes if there is a tie) of the given\n     * type.\n     */\n    fnodes(ruleset) {\n        // TODO: Optimize better. Walk the dependency tree, and run only the\n        // rules that could possibly lead to a max result. As part of this,\n        // make RHSs expose their max potential scores.\n        const self = this;\n        // Work around V8 bug:\n        // https://stackoverflow.com/questions/32943776/using-super-within-an-\n        // arrow-function-within-an-arrow-function-within-a-method\n        const getSuperFnodes = () => super.fnodes(ruleset);\n        return setDefault(ruleset.maxCache, this._type, function maxFnodesOfType() {\n            return maxes(getSuperFnodes(), (fnode) => ruleset.weightedScore(fnode.scoresSoFarFor(self._type)));\n        });\n    }\n}\n\nclass BestClusterLhs extends AggregateTypeLhs {\n    constructor(type, options) {\n        super(type);\n        this._options = options || { splittingDistance: 3 };\n    }\n\n    /**\n     * Group the nodes of my type into clusters, and return the cluster with\n     * the highest total score for that type.\n     */\n    fnodes(ruleset) {\n        // Get the nodes of the type:\n        const fnodesOfType = Array.from(super.fnodes(ruleset));\n        if (fnodesOfType.length === 0) {\n            return [];\n        }\n        // Cluster them:\n        const clusts = clusters(fnodesOfType, this._options.splittingDistance, (a, b) => distance(a, b, this._options));\n        // Tag each cluster with the total of its nodes' scores:\n        const clustsAndSums = clusts.map((clust) => [clust, sum(clust.map((fnode) => fnode.scoreFor(this._type)))]);\n        // Return the highest-scoring cluster:\n        return max(clustsAndSums, (clustAndSum) => clustAndSum[1])[0];\n    }\n}\n\nclass AndLhs extends Lhs {\n    constructor(lhss) {\n        super();\n\n        // For the moment, we accept only type()s as args. TODO: Generalize to\n        // type().max() and such later.\n        this._args = lhss.map(sideToTypeLhs);\n    }\n\n    *fnodes(ruleset) {\n        // Take an arbitrary one for starters. Optimization: we could always\n        // choose the pickiest one to start with.\n        const fnodes = this._args[0].fnodes(ruleset);\n        // Then keep only the fnodes that have the type of every other arg:\n        fnodeLoop: for (let fnode of fnodes) {\n            for (let otherLhs of this._args.slice(1)) {\n                // Optimization: could use a .hasTypeSoFar() below\n                if (!fnode.hasType(otherLhs.guaranteedType())) {\n                    // TODO: This is n^2. Why is there no set intersection in JS?!\n                    continue fnodeLoop;\n                }\n            }\n            yield fnode;\n        }\n    }\n\n    possibleTypeCombinations() {\n        return [this.typesMentioned()];\n    }\n\n    typesMentioned() {\n        return new NiceSet(this._args.map((arg) => arg.guaranteedType()));\n    }\n}\n\nfunction sideToTypeLhs(side) {\n    const lhs = side.asLhs();\n    if (!(lhs.constructor === TypeLhs)) {\n        throw new Error('and() and nearest() support only simple type() calls as arguments for now.');\n        // TODO: Though we could solve this with a compilation step: and(type(A), type(B).max()) is equivalent to type(B).max() -> type(Bmax); and(type(A), type(Bmax)).\n        // In fact, we should be able to compile most (any?) arbitrary and()s, including nested ands and and(type(...).max(), ...) constructions into several and(type(A), type(B), ...) rules.\n    }\n    return lhs;\n}\n\nclass NearestLhs extends Lhs {\n    constructor([a, b, distance]) {\n        super();\n        this._a = sideToTypeLhs(a);\n        this._b = sideToTypeLhs(b);\n        this._distance = distance;\n    }\n\n    /**\n     * Return an iterable of {fnodes, transformer} pairs.\n     */\n    *fnodes(ruleset) {\n        // Go through all the left arg's nodes. For each one, find the closest\n        // right-arg's node. O(a * b). Once a right-arg's node is used, we\n        // don't eliminate it from consideration, because then order of left-\n        // args' nodes would matter.\n\n        // TODO: Still not sure how to get the distance to factor into the\n        // score unless we hard-code nearest() to do that. It's a\n        // matter of not being able to bind on the RHS to the output of the\n        // distance function on the LHS. Perhaps we could at least make\n        // distance part of the note and read it in a props() callback.\n\n        // We're assuming here that simple type() calls return just plain\n        // fnodes, not {fnode, rhsTransformer} pairs:\n        const as_ = this._a.fnodes(ruleset);\n        const bs = Array.from(this._b.fnodes(ruleset));\n        if (bs.length > 0) {\n            // If bs is empty, there can be no nearest nodes, so don't emit any.\n            for (const a of as_) {\n                const nearest = min(bs, (b) => this._distance(a, b));\n                yield {\n                    fnode: a,\n                    rhsTransformer: function setNoteIfEmpty(fact) {\n                        // If note is explicitly set by the RHS, let it take\n                        // precedence, even though that makes this entire LHS\n                        // pointless.\n                        if (fact.note === undefined) {\n                            fact.note = nearest; // TODO: Wrap this in an object to make room to return distance later.\n                        }\n                        return fact;\n                    },\n                };\n            }\n        }\n    }\n\n    checkFact(fact) {\n        // Barf if the fact doesn't set a type at least. It should be a *new* type or at least one that doesn't result in cycles, but we can't deduce that.\n    }\n\n    possibleTypeCombinations() {\n        return [new NiceSet([this._a.guaranteedType()])];\n    }\n\n    typesMentioned() {\n        return new NiceSet([this._a.guaranteedType(), this._b.guaranteedType()]);\n    }\n\n    guaranteedType() {\n        return this._a.guaranteedType();\n    }\n}\n\n// The right-hand side of a rule\n\nconst TYPE = 1;\nconst NOTE = 2;\nconst SCORE = 4;\nconst ELEMENT = 8;\nconst SUBFACTS = {\n    type: TYPE,\n    note: NOTE,\n    score: SCORE,\n    element: ELEMENT,\n};\n\n/**\n * Expose the output of this rule's LHS as a \"final result\" to the surrounding\n * program. It will be available by calling :func:`~BoundRuleset.get` on the\n * ruleset and passing the key. You can run each node through a callback\n * function first by adding :func:`through()`, or you can run the entire set of\n * nodes through a callback function by adding :func:`allThrough()`.\n */\nfunction out(key) {\n    return new OutwardRhs(key);\n}\n\nclass InwardRhs {\n    constructor(calls = [], max = Infinity, types) {\n        this._calls = calls.slice();\n        this._max = max; // max score\n        this._types = new NiceSet(types); // empty set if unconstrained\n    }\n\n    /**\n     * Declare that the maximum returned subscore is such and such,\n     * which helps the optimizer plan efficiently. This doesn't force it to be\n     * true; it merely throws an error at runtime if it isn't. To lift an\n     * ``atMost`` constraint, call ``atMost()`` (with no args). The reason\n     * ``atMost`` and ``typeIn`` apply until explicitly cleared is so that, if\n     * someone used them for safety reasons on a lexically distant rule you are\n     * extending, you won't stomp on their constraint and break their\n     * invariants accidentally.\n     */\n    atMost(score) {\n        return new this.constructor(this._calls, score, this._types);\n    }\n\n    _checkAtMost(fact) {\n        if (fact.score !== undefined && fact.score > this._max) {\n            throw new Error(`Score of ${fact.score} exceeds the declared atMost(${this._max}).`);\n        }\n    }\n\n    /**\n     * Determine any of type, note, score, and element using a callback. This\n     * overrides any previous call to `props` and, depending on what\n     * properties of the callback's return value are filled out, may override\n     * the effects of other previous calls as well.\n     *\n     * The callback should return...\n     *\n     * * An optional :term:`subscore`\n     * * A type (required on ``dom(...)`` rules, defaulting to the input one on\n     *   ``type(...)`` rules)\n     * * Optional notes\n     * * An element, defaulting to the input one. Overriding the default\n     *   enables a callback to walk around the tree and say things about nodes\n     *   other than the input one.\n     */\n    props(callback) {\n        function getSubfacts(fnode) {\n            const subfacts = callback(fnode);\n            // Filter the raw result down to okayed properties so callbacks\n            // can't insert arbitrary keys (like conserveScore, which might\n            // mess up the optimizer).\n            for (let subfact in subfacts) {\n                if (!SUBFACTS.hasOwnProperty(subfact) || !(SUBFACTS[subfact] & getSubfacts.possibleSubfacts)) {\n                    // The ES5.1 spec says in 12.6.4 that it's fine to delete\n                    // as we iterate.\n                    delete subfacts[subfact];\n                }\n            }\n            return subfacts;\n        }\n        // Thse are the subfacts this call could affect:\n        getSubfacts.possibleSubfacts = TYPE | NOTE | SCORE | ELEMENT;\n        getSubfacts.kind = 'props';\n        return new this.constructor(this._calls.concat(getSubfacts), this._max, this._types);\n    }\n\n    /**\n     * Set the type applied to fnodes processed by this RHS.\n     */\n    type(theType) {\n        // In the future, we might also support providing a callback that receives\n        // the fnode and returns a type. We couldn't reason based on these, but the\n        // use would be rather a consise way to to override part of what a previous\n        // .props() call provides.\n\n        // Actually emit a given type.\n        function getSubfacts() {\n            return { type: theType };\n        }\n        getSubfacts.possibleSubfacts = TYPE;\n        getSubfacts.type = theType;\n        getSubfacts.kind = 'type';\n        return new this.constructor(this._calls.concat(getSubfacts), this._max, this._types);\n    }\n\n    /**\n     * Constrain this rule to emit 1 of a set of given types. Pass no args to lift\n     * a previous ``typeIn`` constraint, as you might do when basing a LHS on a\n     * common value to factor out repetition.\n     *\n     * ``typeIn`` is mostly a hint for the query planner when you're emitting types\n     * dynamically from ``props`` calls—in fact, an error will be raised if\n     * ``props`` is used without a ``typeIn`` or ``type`` to constrain it—but it\n     * also checks conformance at runtime to ensure validity.\n     */\n    typeIn(...types) {\n        // Rationale: If we used the spelling \"type('a', 'b', ...)\" instead of\n        // this, one might expect type('a', 'b').type(fn) to have the latter\n        // call override, while expecting type(fn).type('a', 'b') to keep both\n        // in effect. Then different calls to type() don't consistently\n        // override each other, and the rules get complicated. Plus you can't\n        // inherit a type constraint and then sub in another type-returning\n        // function that still gets the constraint applied.\n        return new this.constructor(this._calls, this._max, types);\n    }\n\n    /**\n     * Check a fact for conformance with any typeIn() call.\n     *\n     * @arg leftType the type of the LHS, which becomes my emitted type if the\n     *    fact doesn't specify one\n     */\n    _checkTypeIn(result, leftType) {\n        if (this._types.size > 0) {\n            if (result.type === undefined) {\n                if (!this._types.has(leftType)) {\n                    throw new Error(\n                        `A right-hand side claimed, via typeIn(...) to emit one of the types ${this._types} but actually inherited ${leftType} from the left-hand side.`\n                    );\n                }\n            } else if (!this._types.has(result.type)) {\n                throw new Error(\n                    `A right-hand side claimed, via typeIn(...) to emit one of the types ${this._types} but actually emitted ${result.type}.`\n                );\n            }\n        }\n    }\n\n    /**\n     * Whatever the callback returns (even ``undefined``) becomes the note of\n     * the fact. This overrides any previous call to ``note``.\n     */\n    note(callback) {\n        function getSubfacts(fnode) {\n            return { note: callback(fnode) };\n        }\n        getSubfacts.possibleSubfacts = NOTE;\n        getSubfacts.kind = 'note';\n        return new this.constructor(this._calls.concat(getSubfacts), this._max, this._types);\n    }\n\n    /**\n     * Affect the confidence with which the input node should be considered a\n     * member of a type.\n     *\n     * The parameter is generally between 0 and 1 (inclusive), with 0 meaning\n     * the node does not have the \"smell\" this rule checks for and 1 meaning it\n     * does. The range between 0 and 1 is available to represent \"fuzzy\"\n     * confidences. If you have an unbounded range to compress down to [0, 1],\n     * consider using :func:`sigmoid` or a scaling thereof.\n     *\n     * Since every node can have multiple, independent scores (one for each\n     * type), this applies to the type explicitly set by the RHS or, if none,\n     * to the type named by the ``type`` call on the LHS. If the LHS has none\n     * because it's a ``dom(...)`` LHS, an error is raised.\n     *\n     * @arg {number|function} scoreOrCallback Can either be a static number,\n     *     generally 0 to 1 inclusive, or else a callback which takes the fnode\n     *     and returns such a number. If the callback returns a boolean, it is\n     *     cast to a number.\n     */\n    score(scoreOrCallback) {\n        let getSubfacts;\n\n        function getSubfactsFromNumber(fnode) {\n            return { score: scoreOrCallback };\n        }\n\n        function getSubfactsFromFunction(fnode) {\n            let result = scoreOrCallback(fnode);\n            if (typeof result === 'boolean') {\n                // Case bools to numbers for convenience. Boolean features are\n                // common. Don't cast other things, as it frustrates ruleset\n                // debugging.\n                result = Number(result);\n            }\n            return { score: result };\n        }\n\n        if (typeof scoreOrCallback === 'number') {\n            getSubfacts = getSubfactsFromNumber;\n        } else {\n            getSubfacts = getSubfactsFromFunction;\n        }\n        getSubfacts.possibleSubfacts = SCORE;\n        getSubfacts.kind = 'score';\n\n        return new this.constructor(this._calls.concat(getSubfacts), this._max, this._types);\n    }\n\n    // Future: why not have an .element() method for completeness?\n\n    // -------- Methods below this point are private to the framework. --------\n\n    /**\n     * Run all my props().type().note().score() stuff across a given fnode,\n     * enforce my max() stuff, and return a fact ({element, type, score,\n     * notes}) for incorporation into that fnode (or a different one, if\n     * element is specified). Any of the 4 fact properties can be missing;\n     * filling in defaults is a job for the caller.\n     *\n     * @arg leftType The type the LHS takes in\n     */\n    fact(fnode, leftType) {\n        const doneKinds = new Set();\n        const result = {};\n        let haveSubfacts = 0;\n        for (let call of reversed(this._calls)) {\n            // If we've already called a call of this kind, then forget it.\n            if (!doneKinds.has(call.kind)) {\n                doneKinds.add(call.kind);\n\n                if (~haveSubfacts & call.possibleSubfacts) {\n                    // This call might provide a subfact we are missing.\n                    const newSubfacts = call(fnode);\n\n                    // We start with an empty object, so we're okay here.\n                    // eslint-disable-next-line guard-for-in\n                    for (let subfact in newSubfacts) {\n                        // A props() callback could insert arbitrary keys into\n                        // the result, but it shouldn't matter, because nothing\n                        // pays any attention to them.\n                        if (!result.hasOwnProperty(subfact)) {\n                            result[subfact] = newSubfacts[subfact];\n                        }\n                        haveSubfacts |= SUBFACTS[subfact];\n                    }\n                }\n            }\n        }\n        this._checkAtMost(result);\n        this._checkTypeIn(result, leftType);\n        return result;\n    }\n\n    /**\n     * Return a record describing the types I might emit (which means either to\n     * add a type to a fnode or to output a fnode that already has that type).\n     * {couldChangeType: whether I might add a type to the fnode,\n     *  possibleTypes: If couldChangeType, the types I might emit; empty set if\n     *      we cannot infer it. If not couldChangeType, undefined.}\n     */\n    possibleEmissions() {\n        // If there is a typeIn() constraint or there is a type() call to the\n        // right of all props() calls, we have a constraint. We hunt for the\n        // tightest constraint we can find, favoring a type() call because it\n        // gives us a single type but then falling back to a typeIn().\n        let couldChangeType = false;\n        for (let call of reversed(this._calls)) {\n            if (call.kind === 'props') {\n                couldChangeType = true;\n                break;\n            } else if (call.kind === 'type') {\n                return { couldChangeType: true, possibleTypes: new Set([call.type]) };\n            }\n        }\n        return { couldChangeType, possibleTypes: this._types };\n    }\n}\n\nclass OutwardRhs {\n    constructor(key, through = (x) => x, allThrough = (x) => x) {\n        this.key = key;\n        this.callback = through;\n        this.allCallback = allThrough;\n    }\n\n    /**\n     * Append ``.through`` to :func:`out` to run each :term:`fnode` emitted\n     * from the LHS through an arbitrary function before returning it to the\n     * containing program. Example::\n     *\n     *     out('titleLengths').through(fnode => fnode.noteFor('title').length)\n     */\n    through(callback) {\n        return new this.constructor(this.key, callback, this.allCallback);\n    }\n\n    /**\n     * Append ``.allThrough`` to :func:`out` to run the entire iterable of\n     * emitted :term:`fnodes<fnode>` through an arbitrary function before\n     * returning them to the containing program. Example::\n     *\n     *     out('sortedTitles').allThrough(domSort)\n     */\n    allThrough(callback) {\n        return new this.constructor(this.key, this.callback, callback);\n    }\n\n    asRhs() {\n        return this;\n    }\n}\n\nfunction props(callback) {\n    return new Side({ method: 'props', args: [callback] });\n}\n\n/** Constrain to an input type on the LHS, or apply a type on the RHS. */\nfunction type(theType) {\n    return new Side({ method: 'type', args: [theType] });\n}\n\nfunction note(callback) {\n    return new Side({ method: 'note', args: [callback] });\n}\n\nfunction score(scoreOrCallback) {\n    return new Side({ method: 'score', args: [scoreOrCallback] });\n}\n\nfunction atMost(score) {\n    return new Side({ method: 'atMost', args: [score] });\n}\n\nfunction typeIn(...types) {\n    return new Side({ method: 'typeIn', args: types });\n}\n\n/**\n * Pull nodes that conform to multiple conditions at once.\n *\n * For example: ``and(type('title'), type('english'))``\n *\n * Caveats: ``and`` supports only simple ``type`` calls as arguments for now,\n * and it may fire off more rules as prerequisites than strictly necessary.\n * ``not`` and ``or`` don't exist yet, but you can express ``or`` the long way\n * around by having 2 rules with identical RHSs.\n */\nfunction and(...lhss) {\n    return new Side({ method: 'and', args: lhss });\n}\n\n/**\n * Experimental. For each :term:`fnode` from ``typeCallA``, find the closest\n * node from ``typeCallB``, and attach it as a note. The note is attached to\n * the type specified by the RHS, defaulting to the type of ``typeCallA``. If\n * no nodes are emitted from ``typeCallB``, do nothing.\n *\n * For example... ::\n *\n *     nearest(type('image'), type('price'))\n *\n * The score of the ``typeCallA`` can be added to the new type's score by using\n * :func:`conserveScore` (though this routine has since been removed)::\n *\n *     rule(nearest(type('image'), type('price')),\n *          type('imageWithPrice').score(2).conserveScore())\n *\n * Caveats: ``nearest`` supports only simple ``type`` calls as arguments ``a``\n * and ``b`` for now.\n *\n * @arg distance {function} A function that takes 2 fnodes and returns a\n *     numerical distance between them. Included options are :func:`distance`,\n *     which is a weighted topological distance, and :func:`euclidean`, which\n *     is a spatial distance.\n */\nfunction nearest(typeCallA, typeCallB, distance = euclidean) {\n    return new Side({\n        method: 'nearest',\n        args: [typeCallA, typeCallB, distance],\n    });\n}\n\n/**\n * A chain of calls that can be compiled into a Rhs or Lhs, depending on its\n * position in a Rule. This lets us use type() as a leading call for both RHSs\n * and LHSs. I would prefer to do this dynamically, but that wouldn't compile\n * down to old versions of ES.\n */\nclass Side {\n    constructor(...calls) {\n        // A \"call\" is like {method: 'dom', args: ['p.smoo']}.\n        this._calls = calls;\n    }\n\n    max() {\n        return this._and('max');\n    }\n\n    bestCluster(options) {\n        return this._and('bestCluster', options);\n    }\n\n    props(callback) {\n        return this._and('props', callback);\n    }\n\n    type(...types) {\n        return this._and('type', ...types);\n    }\n\n    note(callback) {\n        return this._and('note', callback);\n    }\n\n    score(scoreOrCallback) {\n        return this._and('score', scoreOrCallback);\n    }\n\n    atMost(score) {\n        return this._and('atMost', score);\n    }\n\n    typeIn(...types) {\n        return this._and('typeIn', ...types);\n    }\n\n    and(...lhss) {\n        return this._and('and', lhss);\n    }\n\n    _and(method, ...args) {\n        return new this.constructor(...this._calls.concat({ method, args }));\n    }\n\n    asLhs() {\n        return this._asSide(Lhs.fromFirstCall(this._calls[0]), this._calls.slice(1));\n    }\n\n    asRhs() {\n        return this._asSide(new InwardRhs(), this._calls);\n    }\n\n    _asSide(side, calls) {\n        for (let call of calls) {\n            side = side[call.method](...call.args);\n        }\n        return side;\n    }\n\n    when(pred) {\n        return this._and('when', pred);\n    }\n}\n\n/**\n * A wrapper around a DOM node, storing :term:`types<type>`,\n * :term:`scores<score>`, and :term:`notes<note>` that apply to it\n */\nclass Fnode {\n    /**\n     * @arg element The DOM element described by the fnode.\n     * @arg ruleset The ruleset which created the fnode.\n     */\n    constructor(element, ruleset) {\n        if (element === undefined) {\n            throw new Error(\"Someone tried to make a fnode without specifying the element they're talking about.\");\n        }\n        /**\n         * The raw DOM element this fnode describes\n         */\n        this.element = element;\n        this._ruleset = ruleset;\n\n        // A map of type => {score: number, note: anything}. `score` is always\n        // present and defaults to 1. A note is set iff `note` is present and\n        // not undefined.\n        this._types = new Map();\n\n        // Note: conserveScore() is temporarily absent in 3.0.\n        //\n        // By default, a fnode has an independent score for each of its types.\n        // However, a RHS can opt to conserve the score of an upstream type,\n        // carrying it forward into another type. To avoid runaway scores in\n        // the case that multiple rules choose to do this, we limit the\n        // contribution of an upstream type's score to being multiplied in a\n        // single time. In this set, we keep track of which upstream types'\n        // scores have already been multiplied into each type. LHS fnode => Set\n        // of types whose score for that node have been multiplied into this\n        // node's score.\n        this._conservedScores = new Map();\n    }\n\n    /**\n     * Return whether the given type is one of the ones attached to the wrapped\n     * HTML node.\n     */\n    hasType(type) {\n        // Run type(theType) against the ruleset to make sure this doesn't\n        // return false just because we haven't lazily run certain rules yet.\n        this._computeType(type);\n        return this._types.has(type);\n    }\n\n    /**\n     * Return the confidence, in the range (0, 1), that the fnode belongs to the\n     * given type, 0 by default.\n     */\n    scoreFor(type) {\n        this._computeType(type);\n        return sigmoid(\n            this._ruleset.weightedScore(this.scoresSoFarFor(type)) + getDefault(this._ruleset.biases, type, () => 0)\n        );\n    }\n\n    /**\n     * Return the fnode's note for the given type, ``undefined`` if none.\n     */\n    noteFor(type) {\n        this._computeType(type);\n        return this._noteSoFarFor(type);\n    }\n\n    /**\n     * Return whether this fnode has a note for the given type.\n     *\n     * ``undefined`` is not considered a note and may be overwritten with\n     * impunity.\n     */\n    hasNoteFor(type) {\n        this._computeType(type);\n        return this._hasNoteSoFarFor(type);\n    }\n\n    // -------- Methods below this point are private to the framework. --------\n\n    /**\n     * Return an iterable of the types tagged onto me by rules that have\n     * already executed.\n     */\n    typesSoFar() {\n        return this._types.keys();\n    }\n\n    _noteSoFarFor(type) {\n        return this._typeRecordForGetting(type).note;\n    }\n\n    _hasNoteSoFarFor(type) {\n        return this._noteSoFarFor(type) !== undefined;\n    }\n\n    /**\n     * Return the score thus far computed on me for a certain type. Doesn't\n     * implicitly run any rules. If no score has yet been determined for the\n     * given type, return undefined.\n     */\n    scoresSoFarFor(type) {\n        return this._typeRecordForGetting(type).score;\n    }\n\n    /**\n     * Add a given number to one of our per-type scores. Implicitly assign us\n     * the given type. Keep track of which rule it resulted from so we can\n     * later mess with the coeffs.\n     */\n    addScoreFor(type, score, ruleName) {\n        this._typeRecordForSetting(type).score.set(ruleName, score);\n    }\n\n    /**\n     * Set the note attached to one of our types. Implicitly assign us that\n     * type if we don't have it already.\n     */\n    setNoteFor(type, note) {\n        if (this._hasNoteSoFarFor(type)) {\n            if (note !== undefined) {\n                throw new Error(\n                    `Someone (likely the right-hand side of a rule) tried to add a note of type ${type} to an element, but one of that type already exists. Overwriting notes is not allowed, since it would make the order of rules matter.`\n                );\n            }\n            // else the incoming note is undefined and we already have the\n            // type, so it's a no-op\n        } else {\n            // Apply either a type and note or just a type (which means a note\n            // that is undefined):\n            this._typeRecordForSetting(type).note = note;\n        }\n    }\n\n    /**\n     * Return a score/note record for a type, creating it if it doesn't exist.\n     */\n    _typeRecordForSetting(type) {\n        return setDefault(this._types, type, () => ({ score: new Map() }));\n    }\n\n    /**\n     * Manifest a temporary type record for reading, working around the lack of\n     * a .? operator in JS.\n     */\n    _typeRecordForGetting(type) {\n        return getDefault(this._types, type, () => ({ score: new Map() }));\n    }\n\n    /**\n     * Make sure any scores, notes, and type-tagging for the given type are\n     * computed for my element.\n     */\n    _computeType(theType) {\n        if (!this._types.has(theType)) {\n            // Prevent infinite recursion when an A->A rule looks at A's note in a callback.\n            this._ruleset.get(type(theType));\n        }\n    }\n}\n\n/**\n * Construct and return the proper type of rule class based on the\n * inwardness/outwardness of the RHS.\n *\n * @arg lhs {Lhs} The left-hand side of the rule\n * @arg rhs {Rhs} The right-hand side of the rule\n * @arg options {object} Other, optional information about the rule.\n *     Currently, the only recognized option is ``name``, which points to a\n *     string that uniquely identifies this rule in a ruleset. The name\n *     correlates this rule with one of the coefficients passed into\n *     :func:`ruleset`. If no name is given, an identifier is assigned based on\n *     the index of this rule in the ruleset, but that is, of course, brittle.\n */\nfunction rule(lhs, rhs, options) {\n    // Since out() is a valid call only on the RHS (unlike type()), we can take\n    // a shortcut here: any outward RHS will already be an OutwardRhs; we don't\n    // need to sidetrack it through being a Side. And OutwardRhs has an asRhs()\n    // that just returns itself.\n    if (typeof rhs === 'string') {\n        rhs = out(rhs);\n    }\n    return new (rhs instanceof OutwardRhs ? OutwardRule : InwardRule)(lhs, rhs, options);\n}\n\nlet nextRuleNumber = 0;\nfunction newInternalRuleName() {\n    return '_' + nextRuleNumber++;\n}\n\n/**\n * We place the in/out distinction in Rules because it determines whether the\n * RHS result is cached, and Rules are responsible for maintaining the rulewise\n * cache ruleset.ruleCache.\n */\nclass Rule {\n    // abstract\n    constructor(lhs, rhs, options) {\n        this.lhs = lhs.asLhs();\n        this.rhs = rhs.asRhs();\n        // TODO: Make auto-generated rule names be based on the out types of\n        // the rules, e.g. _priceish_4. That way, adding rules for one type\n        // won't make the coeffs misalign for another.\n        this.name = (options ? options.name : undefined) || newInternalRuleName();\n    }\n\n    /**\n     * Return a NiceSet of the rules that this one shallowly depends on in the\n     * given ruleset. In a BoundRuleset, this may include rules that have\n     * already been executed.\n     *\n     * Depend on emitters of any LHS type this rule finalizes. (See\n     * _typesFinalized for a definition.) Depend on adders of any other LHS\n     * types (because, after all, we need to know what nodes have that type in\n     * order to find the set of LHS nodes). This works for simple rules and\n     * complex ones like and().\n     *\n     * Specific examples (where A is a type):\n     * * A.max->* depends on anything emitting A.\n     * * Even A.max->A depends on A emitters, because we have to have all the\n     *   scores factored in first. For example, what if we did\n     *   max(A)->score(.5)?\n     * * A->A depends on anything adding A.\n     * * A->(something other than A) depends on anything emitting A. (For\n     *   example, we need the A score finalized before we could transfer it to\n     *   B using conserveScore().)\n     * * A->out() also depends on anything emitting A. Fnode methods aren't\n     *   smart enough to lazily run emitter rules as needed. We could make them\n     *   so if it was shown to be an advantage.\n     */\n    prerequisites(ruleset) {\n        // Optimization: we could cache the result of this when in a compiled (immutable) ruleset.\n\n        // Extend prereqs with rules derived from each of the given types. If\n        // no rules are found, raise an exception, as that indicates a\n        // malformed ruleset.\n        function extendOrThrow(prereqs, types, ruleGetter, verb) {\n            for (let type of types) {\n                const rules = ruleGetter(type);\n                if (rules.length > 0) {\n                    prereqs.extend(rules);\n                } else {\n                    throw new Error(`No rule ${verb} the \"${type}\" type, but another rule needs it as input.`);\n                }\n            }\n        }\n\n        const prereqs = new NiceSet();\n\n        // Add finalized types:\n        extendOrThrow(prereqs, this._typesFinalized(), (type) => ruleset.inwardRulesThatCouldEmit(type), 'emits');\n\n        // Add mentioned types:\n        // We could say this.lhs.typesMentioned().minus(typesFinalized) as an\n        // optimization. But since types mentioned are a superset of types\n        // finalized and rules adding are a subset of rules emitting, we get\n        // the same result without.\n        extendOrThrow(prereqs, this.lhs.typesMentioned(), (type) => ruleset.inwardRulesThatCouldAdd(type), 'adds');\n\n        return prereqs;\n    }\n\n    /**\n     * Return the types that this rule finalizes.\n     *\n     * To \"finalize\" a type means to make sure we're finished running all\n     * possible rules that might change a node's score or notes w.r.t. a given\n     * type. This is generally done because we're about to use those data for\n     * something, like computing a new type's score or or an aggregate\n     * function. Exhaustively, we're about to...\n     * * change the type of the nodes or\n     * * aggregate all nodes of a type\n     *\n     * This base-class implementation just returns what aggregate functions\n     * need, since that need spans inward and outward rules.\n     *\n     * @return Set of types\n     */\n    _typesFinalized() {\n        // Get the types that are fed to aggregate functions. Aggregate\n        // functions are more demanding than a simple type() LHS. A type() LHS\n        // itself does not finalize its nodes because the things it could do to\n        // them without changing their type (adding notes, adding to score)\n        // are immutable or commutative (respectively). Thus, we require a RHS\n        // type change in order to require finalization of a simple type()\n        // mention. A max(B), OTOH, is not commutative with other B->B rules\n        // (imagine type(B).max()->score(.5)), so it must depend on B emitters\n        // and thus finalize B. (This will have to be relaxed or rethought when\n        // we do the max()/atMost() optimization. Perhaps we can delegate to\n        // aggregate functions up in Rule.prerequisites() to ask what their\n        // prereqs are. If they implement such an optimization, they can reply.\n        // Otherwise, we can assume they are all the nodes of their type.)\n        //\n        // TODO: Could arbitrary predicates (once we implement those) matter\n        // too? Maybe it's not just aggregations.\n        const type = this.lhs.aggregatedType();\n        return type === undefined ? new NiceSet() : new NiceSet([type]);\n    }\n}\n\n/**\n * A normal rule, whose results head back into the Fathom knowledgebase, to be\n * operated on by further rules.\n */\nclass InwardRule extends Rule {\n    // TODO: On construct, complain about useless rules, like a dom() rule that\n    // doesn't assign a type.\n\n    /**\n     * Return an iterable of the fnodes emitted by the RHS of this rule.\n     * Side effect: update ruleset's store of fnodes, its accounting of which\n     * rules are done executing, and its cache of results per type.\n     */\n    results(ruleset) {\n        if (ruleset.doneRules.has(this)) {\n            // shouldn't happen\n            throw new Error(\n                'A bug in Fathom caused results() to be called on an inward rule twice. That could cause redundant score contributions, etc.'\n            );\n        }\n        const self = this;\n        // For now, we consider most of what a LHS computes to be cheap, aside\n        // from type() and type().max(), which are cached by their specialized\n        // LHS subclasses.\n        const leftResults = this.lhs.fnodes(ruleset);\n        // Avoid returning a single fnode more than once. LHSs uniquify\n        // themselves, but the RHS can change the element it's talking\n        // about and thus end up with dupes.\n        const returnedFnodes = new Set();\n\n        // Merge facts into fnodes:\n        forEach(\n            // leftResult can be either a fnode or a {fnode, rhsTransformer} pair.\n            function updateFnode(leftResult) {\n                const leftType = self.lhs.guaranteedType();\n                // Get a fnode and a RHS transformer, whether a plain fnode is\n                // returned or a {fnode, rhsTransformer} pair:\n                const { fnode: leftFnode = leftResult, rhsTransformer = identity } = leftResult;\n                // Grab the fact from the RHS, and run the LHS's optional\n                // transformer over it to pick up anything special it wants to\n                // do:\n                const fact = rhsTransformer(self.rhs.fact(leftFnode, leftType));\n                self.lhs.checkFact(fact);\n                const rightFnode = ruleset.fnodeForElement(fact.element || leftFnode.element);\n                // If the RHS doesn't specify a type, default to the\n                // type of the LHS, if any:\n                const rightType = fact.type || self.lhs.guaranteedType();\n                if (fact.score !== undefined) {\n                    if (rightType !== undefined) {\n                        rightFnode.addScoreFor(rightType, fact.score, self.name);\n                    } else {\n                        throw new Error(\n                            `The right-hand side of a rule specified a score (${fact.score}) with neither an explicit type nor one we could infer from the left-hand side.`\n                        );\n                    }\n                }\n                if (fact.type !== undefined || fact.note !== undefined) {\n                    // There's a reason to call setNoteFor.\n                    if (rightType === undefined) {\n                        throw new Error(\n                            `The right-hand side of a rule specified a note (${fact.note}) with neither an explicit type nor one we could infer from the left-hand side. Notes are per-type, per-node, so that's a problem.`\n                        );\n                    } else {\n                        rightFnode.setNoteFor(rightType, fact.note);\n                    }\n                }\n                returnedFnodes.add(rightFnode);\n            },\n            leftResults\n        );\n\n        // Update ruleset lookup tables.\n        // First, mark this rule as done:\n        ruleset.doneRules.add(this);\n        // Then, stick each fnode in typeCache under all applicable types.\n        // Optimization: we really only need to loop over the types\n        // this rule can possibly add.\n        for (let fnode of returnedFnodes) {\n            for (let type of fnode.typesSoFar()) {\n                setDefault(ruleset.typeCache, type, () => new Set()).add(fnode);\n            }\n        }\n        return returnedFnodes.values();\n    }\n\n    /**\n     * Return a Set of the types that could be emitted back into the system.\n     * To emit a type means to either to add it to a fnode emitted from the RHS\n     * or to leave it on such a fnode where it already exists.\n     */\n    typesItCouldEmit() {\n        const rhs = this.rhs.possibleEmissions();\n        if (!rhs.couldChangeType && this.lhs.guaranteedType() !== undefined) {\n            // It's a b -> b rule.\n            return new Set([this.lhs.guaranteedType()]);\n        } else if (rhs.possibleTypes.size > 0) {\n            // We can prove the type emission from the RHS alone.\n            return rhs.possibleTypes;\n        } else {\n            throw new Error(\n                'Could not determine the emitted type of a rule because its right-hand side calls props() without calling typeIn().'\n            );\n        }\n    }\n\n    /**\n     * Return a Set of types I could add to fnodes I output (where the fnodes\n     * did not already have them).\n     */\n    typesItCouldAdd() {\n        const ret = new Set(this.typesItCouldEmit());\n        ret.delete(this.lhs.guaranteedType());\n        return ret;\n    }\n\n    /**\n     * Add the types we could change to the superclass's result.\n     */\n    _typesFinalized() {\n        const self = this;\n        function typesThatCouldChange() {\n            const ret = new NiceSet();\n\n            // Get types that could change:\n            const emissions = self.rhs.possibleEmissions();\n            if (emissions.couldChangeType) {\n                // Get the possible guaranteed combinations of types on the LHS\n                // (taking just this LHS into account). For each combo, if the RHS\n                // adds a type that's not in the combo, the types in the combo get\n                // unioned into ret.\n                for (let combo of self.lhs.possibleTypeCombinations()) {\n                    for (let rhsType of emissions.possibleTypes) {\n                        if (!combo.has(rhsType)) {\n                            ret.extend(combo);\n                            break;\n                        }\n                    }\n                }\n            }\n            // Optimization: the possible combos could be later expanded to be\n            // informed by earlier rules which add the types mentioned in the LHS.\n            // If the only way for something to get B is to have Q first, then we\n            // can add Q to each combo and end up with fewer types finalized. Would\n            // this imply the existence of a Q->B->Q cycle and thus be impossible?\n            // Think about it. If we do this, we can centralize that logic here,\n            // rather than repeating it in all the Lhs subclasses).\n            return ret;\n        }\n\n        return typesThatCouldChange().extend(super._typesFinalized());\n    }\n}\n\n/**\n * A rule whose RHS is an out(). This represents a final goal of a ruleset.\n * Its results go out into the world, not inward back into the Fathom\n * knowledgebase.\n */\nclass OutwardRule extends Rule {\n    /**\n     * Compute the whole thing, including any .through() and .allThrough().\n     * Do not mark me done in ruleset.doneRules; out rules are never marked as\n     * done so they can be requested many times without having to cache their\n     * (potentially big, since they aren't necessarily fnodes?) results. (We\n     * can add caching later if it proves beneficial.)\n     */\n    results(ruleset) {\n        /**\n         * From a LHS's ``{fnode, rhsTransform}`` object or plain fnode, pick off just\n         * the fnode and return it.\n         */\n        function justFnode(fnodeOrStruct) {\n            return fnodeOrStruct instanceof Fnode ? fnodeOrStruct : fnodeOrStruct.fnode;\n        }\n\n        return this.rhs.allCallback(map(this.rhs.callback, map(justFnode, this.lhs.fnodes(ruleset))));\n    }\n\n    /**\n     * @return the key under which the output of this rule will be available\n     */\n    key() {\n        return this.rhs.key;\n    }\n\n    /**\n     * OutwardRules finalize all types mentioned.\n     */\n    _typesFinalized() {\n        return this.lhs.typesMentioned().extend(super._typesFinalized());\n    }\n}\n\n/**\n * A shortcut for creating a new :class:`Ruleset`, for symmetry with\n * :func:`rule`\n */\nfunction ruleset(rules, coeffs = [], biases = []) {\n    return new Ruleset(rules, coeffs, biases);\n}\n\n/**\n * An unbound ruleset. When you bind it by calling :func:`~Ruleset.against()`,\n * the resulting :class:`BoundRuleset` will be immutable.\n */\nclass Ruleset {\n    /**\n     * @arg rules {Array} Rules returned from :func:`rule`\n     * @arg coeffs {Map} A map of rule names to numerical weights, typically\n     *     returned by the :doc:`trainer<training>`. Example:\n     *     ``[['someRuleName', 5.04], ...]``. If not given, coefficients\n     *     default to 1.\n     * @arg biases {object} A map of type names to neural-net biases. These\n     *      enable accurate confidence estimates. Example: ``[['someType',\n     *      -2.08], ...]``. If absent, biases default to 0.\n     */\n    constructor(rules, coeffs = [], biases = []) {\n        this._inRules = [];\n        this._outRules = new Map(); // key -> rule\n        this._rulesThatCouldEmit = new Map(); // type -> [rules]\n        this._rulesThatCouldAdd = new Map(); // type -> [rules]\n        // Private to the framework:\n        this._coeffs = new Map(coeffs); // rule name => coefficient\n        this.biases = new Map(biases); // type name => bias\n\n        // Separate rules into out ones and in ones, and sock them away. We do\n        // this here so mistakes raise errors early.\n        for (let rule of rules) {\n            if (rule instanceof InwardRule) {\n                this._inRules.push(rule);\n\n                // Keep track of what inward rules can emit or add:\n                // TODO: Combine these hashes for space efficiency:\n                const emittedTypes = rule.typesItCouldEmit();\n                for (let type of emittedTypes) {\n                    setDefault(this._rulesThatCouldEmit, type, () => []).push(rule);\n                }\n                for (let type of rule.typesItCouldAdd()) {\n                    setDefault(this._rulesThatCouldAdd, type, () => []).push(rule);\n                }\n            } else if (rule instanceof OutwardRule) {\n                this._outRules.set(rule.key(), rule);\n            } else {\n                throw new Error(`This element of ruleset()'s first param wasn't a rule: ${rule}`);\n            }\n        }\n    }\n\n    /**\n     * Commit this ruleset to running against a specific DOM tree or subtree.\n     *\n     * When run against a subtree, the root of the subtree is not considered as\n     * a possible match.\n     *\n     * This doesn't actually modify the Ruleset but rather returns a fresh\n     * :class:`BoundRuleset`, which contains caches and other stateful, per-DOM\n     * bric-a-brac.\n     */\n    against(doc) {\n        return new BoundRuleset(\n            doc,\n            this._inRules,\n            this._outRules,\n            this._rulesThatCouldEmit,\n            this._rulesThatCouldAdd,\n            this._coeffs,\n            this.biases\n        );\n    }\n\n    /**\n     * Return all the rules (both inward and outward) that make up this ruleset.\n     *\n     * From this, you can construct another ruleset like this one but with your\n     * own rules added.\n     */\n    rules() {\n        return Array.from([...this._inRules, ...this._outRules.values()]);\n    }\n}\n\n/**\n * A ruleset that is earmarked to analyze a certain DOM\n *\n * Carries a cache of rule results on that DOM. Typically comes from\n * :meth:`~Ruleset.against`.\n */\nclass BoundRuleset {\n    /**\n     * @arg inRules {Array} Non-out() rules\n     * @arg outRules {Map} Output key -> out() rule\n     */\n    constructor(doc, inRules, outRules, rulesThatCouldEmit, rulesThatCouldAdd, coeffs, biases) {\n        this.doc = doc;\n        this._inRules = inRules;\n        this._outRules = outRules;\n        this._rulesThatCouldEmit = rulesThatCouldEmit;\n        this._rulesThatCouldAdd = rulesThatCouldAdd;\n        this._coeffs = coeffs;\n\n        // Private, for the use of only helper classes:\n        this.biases = biases;\n        this._clearCaches();\n        this.elementCache = new WeakMap(); // DOM element => fnode about it\n        this.doneRules = new Set(); // InwardRules that have been executed. OutwardRules can be executed more than once because they don't change any fnodes and are thus idempotent.\n    }\n\n    /**\n     * Change my coefficients and biases after construction.\n     *\n     * @arg coeffs See the :class:`Ruleset` constructor.\n     * @arg biases See the :class:`Ruleset` constructor.\n     */\n    setCoeffsAndBiases(coeffs, biases = []) {\n        // Destructuring assignment doesn't make it through rollup properly\n        // (https://github.com/rollup/rollup-plugin-commonjs/issues/358):\n        this._coeffs = new Map(coeffs);\n        this.biases = new Map(biases);\n        this._clearCaches();\n    }\n\n    /**\n     * Clear the typeCache and maxCache, usually in the wake of changing\n     * ``this._coeffs``, because both of thise depend on weighted scores.\n     */\n    _clearCaches() {\n        this.maxCache = new Map(); // type => Array of max fnode (or fnodes, if tied) of this type\n        this.typeCache = new Map(); // type => Set of all fnodes of this type found so far. (The dependency resolution during execution ensures that individual types will be comprehensive just in time.)\n    }\n\n    /**\n     * Return an array of zero or more fnodes.\n     * @arg thing {string|Lhs|Node} Can be\n     *\n     *       (1) A string which matches up with an \"out\" rule in the ruleset.\n     *           If the out rule uses through(), the results of through's\n     *           callback (which might not be fnodes) will be returned.\n     *       (2) An arbitrary LHS which we calculate and return the results of.\n     *       (3) A DOM node, for which we will return the corresponding fnode.\n     *\n     *     Results are cached for cases (1) and (3).\n     */\n    get(thing) {\n        if (typeof thing === 'string') {\n            if (this._outRules.has(thing)) {\n                return Array.from(this._execute(this._outRules.get(thing)));\n            } else {\n                throw new Error(`There is no out() rule with key \"${thing}\".`);\n            }\n        } else if (isDomElement(thing)) {\n            // Return the fnode and let it run type(foo) on demand, as people\n            // ask it things like scoreFor(foo).\n            return this.fnodeForElement(thing);\n        } else if (thing.asLhs !== undefined) {\n            // Make a temporary out rule, and run it. This may add things to\n            // the ruleset's cache, but that's fine: it doesn't change any\n            // future results; it just might make them faster. For example, if\n            // you ask for .get(type('smoo')) twice, the second time will be a\n            // cache hit.\n            const outRule = rule(thing, out(Symbol('outKey')));\n            return Array.from(this._execute(outRule));\n        } else {\n            throw new Error(\n                'ruleset.get() expects a string, an expression like on the left-hand side of a rule, or a DOM node.'\n            );\n        }\n    }\n\n    /**\n     * Return the weighted sum of the per-rule, per-type scores from a fnode.\n     *\n     * @arg mapOfScores a Map of rule name to the [0, 1] score it computed for\n     *      the type in question\n     */\n    weightedScore(mapOfScores) {\n        let total = 0;\n        for (const [name, score] of mapOfScores) {\n            total += score * getDefault(this._coeffs, name, () => 1);\n        }\n        return total;\n    }\n\n    // Provide an opaque context object to be made available to all ranker\n    // functions.\n    // context (object) {\n    //     self.context = object;\n    // }\n\n    // -------- Methods below this point are private to the framework. --------\n\n    /**\n     * Return all the thus-far-unexecuted rules that will have to run to run\n     * the requested rule, in the form of Map(prereq: [rulesItIsNeededBy]).\n     */\n    _prerequisitesTo(rule, undonePrereqs = new Map()) {\n        for (let prereq of rule.prerequisites(this)) {\n            if (!this.doneRules.has(prereq)) {\n                // prereq is not already run. (If it were, we wouldn't care\n                // about adding it to the graph.)\n                const alreadyAdded = undonePrereqs.has(prereq);\n                setDefault(undonePrereqs, prereq, () => []).push(rule);\n\n                // alreadyAdded means we've already computed the prereqs of\n                // this prereq and added them to undonePrereqs. So, now\n                // that we've hooked up the rule to this prereq in the\n                // graph, we can stop. But, if we haven't, then...\n                if (!alreadyAdded) {\n                    this._prerequisitesTo(prereq, undonePrereqs);\n                }\n            }\n        }\n        return undonePrereqs;\n    }\n\n    /**\n     * Run the given rule (and its dependencies, in the proper order), and\n     * return its results.\n     *\n     * The caller is responsible for ensuring that _execute() is not called\n     * more than once for a given InwardRule, lest non-idempotent\n     * transformations, like score contributions, be applied to fnodes more\n     * than once.\n     *\n     * The basic idea is to sort rules in topological order (according to input\n     * and output types) and then run them. On top of that, we do some\n     * optimizations. We keep a cache of results by type (whether partial or\n     * comprehensive--either way, the topology ensures that any\n     * non-comprehensive typeCache entry is made comprehensive before another\n     * rule needs it). And we prune our search for prerequisite rules at the\n     * first encountered already-executed rule.\n     */\n    _execute(rule) {\n        const prereqs = this._prerequisitesTo(rule);\n        let sorted;\n        try {\n            sorted = [rule].concat(toposort(prereqs.keys(), (prereq) => prereqs.get(prereq)));\n        } catch (exc) {\n            if (exc instanceof CycleError) {\n                throw new CycleError('There is a cyclic dependency in the ruleset.');\n            } else {\n                throw exc;\n            }\n        }\n        let fnodes;\n        for (let eachRule of reversed(sorted)) {\n            // Sock each set of results away in this.typeCache:\n            fnodes = eachRule.results(this);\n        }\n        return Array.from(fnodes);\n    }\n\n    /** @return {Rule[]} */\n    inwardRulesThatCouldEmit(type) {\n        return getDefault(this._rulesThatCouldEmit, type, () => []);\n    }\n\n    /** @return {Rule[]} */\n    inwardRulesThatCouldAdd(type) {\n        return getDefault(this._rulesThatCouldAdd, type, () => []);\n    }\n\n    /**\n     * @return the Fathom node that describes the given DOM element. This does\n     *     not trigger any execution, so the result may be incomplete.\n     */\n    fnodeForElement(element) {\n        return setDefault(this.elementCache, element, () => new Fnode(element, this));\n    }\n}\n\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nconst version = '3.7.3';\n\nexport {\n    Fnode,\n    and,\n    atMost,\n    clusters$1 as clusters,\n    dom,\n    domQuery,\n    element,\n    exceptions,\n    nearest,\n    note,\n    out,\n    props,\n    rule,\n    ruleset,\n    score,\n    type,\n    typeIn,\n    utilsForFrontend as utils,\n    version,\n};\n","import { clusters as clusters$1, dom, domQuery, out, rule, ruleset, score, type, utils } from './fathom.js';\nimport * as fathomWeb from './fathom.js';\n\nexport { fathomWeb as fathom };\n\nconst MAX_FORM_FIELD_WALK_UP = 3;\n\nconst MAX_FORM_HEADING_WALK_UP = 3;\n\nconst MAX_HEADING_HORIZONTAL_DIST = 75;\n\nconst MAX_HEADING_VERTICAL_DIST = 150;\n\nconst MIN_AREA_SUBMIT_BTN = 3500;\n\nconst MIN_FIELD_HEIGHT = 15;\n\nconst MIN_FIELD_WIDTH = 30;\n\nconst MAX_INPUTS_PER_FORM = 40;\n\nconst MAX_FIELDS_PER_FORM = 60;\n\nconst MAX_HIDDEN_FIELD_VALUE_LENGTH = 320;\n\nconst HIDDEN_FIELD_IGNORE_VALUES = ['0', '1', 'true', 'false'];\n\nconst OTP_PATTERNS = [\n    [1, 'd*'],\n    [6, 'd{6}'],\n    [1, '[0-9]*'],\n    [6, '[0-9]{6}'],\n    [5, '([0-9a-fA-F]{5}-?[0-9a-fA-F]{5})'],\n];\n\nconst sanitizeString = (str) =>\n    str\n        .toLowerCase()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .replace(/[^a-zA-Z0-9\\d\\[\\]]/g, '');\n\nconst TEXT_ATTRIBUTES = [\n    'title',\n    'aria-label',\n    'aria-labelledby',\n    'aria-describedby',\n    'placeholder',\n    'autocomplete',\n    'legend',\n];\n\nconst EL_ATTRIBUTES = [\n    'id',\n    'class',\n    'role',\n    'jsaction',\n    'ng-controller',\n    'data-bind',\n    'ng-model',\n    'v-model',\n    'v-bind',\n    'data-testid',\n    'href',\n];\n\nconst FORM_ATTRIBUTES = [EL_ATTRIBUTES, 'name', 'action'].flat();\n\nconst FIELD_ATTRIBUTES = [EL_ATTRIBUTES, 'name', 'inputmode'].flat();\n\nconst getAttributes = (attributes) => (el) =>\n    attributes\n        .filter((key) => key !== 'data-fathom')\n        .map((attr) => el.getAttribute(attr))\n        .filter(Boolean)\n        .map(sanitizeString);\n\nconst getBaseAttributes = getAttributes(EL_ATTRIBUTES);\n\nconst getTextAttributes = getAttributes(TEXT_ATTRIBUTES);\n\nconst getFieldAttributes = getAttributes(FIELD_ATTRIBUTES);\n\nconst getFormAttributes = getAttributes(FORM_ATTRIBUTES);\n\nconst DETECTED_FIELD_TYPE_ATTR = 'data-protonpass-field-type';\n\nconst DETECTED_FORM_TYPE_ATTR = 'data-protonpass-form-type';\n\nconst DETECTED_CLUSTER_ATTR = 'data-protonpass-cluster';\n\nconst IGNORE_ELEMENT_ATTR = 'data-protonpass-ignore';\n\nconst PROCESSED_FORM_ATTR = 'data-protonpass-form';\n\nconst PROCESSED_FIELD_ATTR = 'data-protonpass-field';\n\nconst kUsernameSelector = [\n    'input[type=\"login\"]',\n    'input[type=\"username\"]',\n    'input[type=\"search\"][name=\"loginName\"]',\n    'input[type=\"password\"][name=\"userID\"]',\n    'input[type=\"password\"][name=\"USERNAME\"]',\n    'input[name=\"account\"]',\n].join(',');\n\nconst kHiddenUsernameSelector = [\n    '[name*=\"user\" i]',\n    '[id*=\"user\" i]',\n    '[name*=\"login\" i]',\n    '[id*=\"login\" i]',\n    '[name*=\"email\" i]',\n    '[id*=\"email\" i]',\n    '[name*=\"identifier\" i]',\n    '[id*=\"identifier\" i]',\n].join(',');\n\nconst kEmailSelector = 'input[name=\"email\"], input[id=\"email\"]';\n\nconst kPasswordSelector = ['input[type=\"text\"][id=\"password\"]'];\n\nconst headingSelector = [\n    ...[1, 2, 3, 4, 5].flatMap((level) => [`h${level}, [aria-level=\"${level}\"]`]),\n    '[role=\"heading\"]',\n    '[class*=\"title\"]',\n    '[class*=\"header\"]',\n    '[name=\"title\"]',\n    'div[style*=\"font-size: 2\"]',\n    'div[style*=\"font-size: 3\"]',\n].join(',');\n\nconst fieldSelector = 'input, select, textarea';\n\nconst inputSelector =\n    'input:not([type=\"hidden\"]):not([type=\"submit\"]):not([type=\"button\"]):not([type=\"image\"]):not([type=\"checkbox\"])';\n\nconst buttonSubmitSelector = [\n    'button[type=\"submit\"]',\n    'button[type=\"button\"]',\n    'button[name=\"submit\"]',\n    'button[id*=\"password\" i]',\n    'a[role=\"submit\"]',\n    'div[role=\"button\"]',\n    'div[role=\"submit\"]',\n].join(',');\n\nconst buttonSelector = `button:not([type]), a[role=\"button\"], ${buttonSubmitSelector}`;\n\nconst anchorLinkSelector = `a, span[role=\"button\"]`;\n\nconst captchaSelector = `[class*=\"captcha\"], [id*=\"captcha\"], [name*=\"captcha\"]`;\n\nconst socialSelector = `[class*=social],[aria-label*=with]`;\n\nconst domGroupSelector = `[role=\"dialog\"], [role=\"tabpanel\"], [role=\"group\"], [role=\"form\"], [id*=\"modal\"], [class*=\"modal\"], header, section, nav, footer, aside`;\n\nconst layoutSelector = `div, section, aside, main, nav`;\n\nconst passwordSelector = `[type=\"password\"], ${kPasswordSelector}`;\n\nconst hiddenUsernameSelector = '[type=\"email\"], [type=\"text\"], [type=\"hidden\"]';\n\nconst otpSelector = '[type=\"tel\"], [type=\"number\"], [type=\"text\"], input:not([type])';\n\nconst unprocessedFormFilter = `:not([${PROCESSED_FORM_ATTR}]), [${DETECTED_CLUSTER_ATTR}]:not([${PROCESSED_FORM_ATTR}])`;\n\nconst unprocessedFieldFilter = `:not([${PROCESSED_FIELD_ATTR}])`;\n\nconst danglingFieldFilter = `${unprocessedFieldFilter}:not([${PROCESSED_FORM_ATTR}] input)`;\n\nconst detectedSelector = `[${DETECTED_FORM_TYPE_ATTR}], [${DETECTED_CLUSTER_ATTR}]`;\n\nconst detectedFormSelector = `[${DETECTED_FORM_TYPE_ATTR}]`;\n\nconst preDetectedClusterSelector = `[${DETECTED_CLUSTER_ATTR}]:not([${DETECTED_FORM_TYPE_ATTR}])`;\n\nconst ignoredSelector = `[${IGNORE_ELEMENT_ATTR}]`;\n\nconst withFlagEffect =\n    (attr) =>\n    (predicate) =>\n    (el, ...args) => {\n        const check = predicate(el, ...args);\n        if (check) el.setAttribute(attr, '');\n        return check;\n    };\n\nconst throughEffect = (effect) => (fnode) => {\n    effect(fnode);\n    return fnode;\n};\n\nconst withIgnoreFlag = withFlagEffect(IGNORE_ELEMENT_ATTR);\n\nconst setIgnoreFlag = (el) => el.setAttribute(IGNORE_ELEMENT_ATTR, '');\n\nconst getIgnoredParent = (el) => (el === null || el === void 0 ? void 0 : el.closest(ignoredSelector));\n\nconst setClusterFlag = (el) => el.setAttribute(DETECTED_CLUSTER_ATTR, '');\n\nconst setFormProcessed = (el) => el.setAttribute(PROCESSED_FORM_ATTR, '');\n\nconst setFieldProcessed = (el) => el.setAttribute(PROCESSED_FIELD_ATTR, '');\n\nconst setFieldProcessable = (field) => field.removeAttribute(PROCESSED_FIELD_ATTR);\n\nconst setFormProcessable = (form) => {\n    form.removeAttribute(PROCESSED_FORM_ATTR);\n    form.querySelectorAll('input').forEach(setFieldProcessable);\n};\n\nconst resetFieldFlags = (field) => {\n    setFieldProcessable(field);\n    field.removeAttribute(DETECTED_FIELD_TYPE_ATTR);\n    field.removeAttribute(IGNORE_ELEMENT_ATTR);\n};\n\nconst resetFormFlags = (form) => {\n    setFormProcessable(form);\n    form.removeAttribute(DETECTED_FORM_TYPE_ATTR);\n    form.removeAttribute(IGNORE_ELEMENT_ATTR);\n    form.querySelectorAll('input').forEach(resetFieldFlags);\n};\n\nconst isFormProcessed = (form) => form.getAttribute(PROCESSED_FORM_ATTR) !== null;\n\nconst isFieldProcessed = (field) => field.getAttribute(PROCESSED_FIELD_ATTR) !== null;\n\nconst processFormEffect = throughEffect((fnode) => setFormProcessed(fnode.element));\n\nconst processFieldEffect = throughEffect((fnode) => {\n    const { visible, type } = fnode.noteFor('field');\n    if (visible || type === 'hidden') setFieldProcessed(fnode.element);\n});\n\nconst updateAttribute = (attr) => (element, value) => {\n    const current = element.getAttribute(attr);\n    if (!current) element.setAttribute(attr, value);\n    else {\n        const update = Array.from(new Set(current.split(',').concat(value)));\n        element.setAttribute(attr, update.join(','));\n    }\n};\n\nconst setFieldType = updateAttribute(DETECTED_FIELD_TYPE_ATTR);\n\nconst setFormType = updateAttribute(DETECTED_FORM_TYPE_ATTR);\n\nconst getDetectedFormParent = (el) => (el === null || el === void 0 ? void 0 : el.closest(detectedFormSelector));\n\nconst typeFormEffect = (type) =>\n    throughEffect((fnode) => {\n        setFormProcessed(fnode.element);\n        setFormType(fnode.element, type);\n    });\n\nconst typeFieldEffect = (type) =>\n    throughEffect((fnode) => {\n        setFieldProcessed(fnode.element);\n        setFieldType(fnode.element, type);\n    });\n\nconst boolInt = (val) => Number(val);\n\nconst safeInt = (val, fallback = 0) => (Number.isFinite(val) ? val : fallback);\n\nconst featureScore = (noteFor, key) =>\n    score((fnode) => {\n        const features = fnode.noteFor(noteFor);\n        if (Array.isArray(key)) return key.map((k) => features[k]).reduce((a, b) => a * b);\n        return features[key];\n    });\n\nconst getParentFnodeVisibleForm = (fieldFnode) => {\n    const field = fieldFnode.element;\n    const ruleset = fieldFnode._ruleset;\n    const parentForms = ruleset.get(type('form'));\n    const form = parentForms.find(({ element }) => element.contains(field));\n    if (form) return form;\n    const preDetectedForm = field.closest(`[${DETECTED_FORM_TYPE_ATTR}]`);\n    if (preDetectedForm) return ruleset.get(preDetectedForm);\n    return null;\n};\n\nconst belongsToType = (type) => (fnode) => fnode.scoreFor(type) > 0.5;\n\nconst hasDetectedType = (attr, type) => (fnode) => {\n    const types = fnode.element.getAttribute(attr);\n    return types ? types.split(',').includes(type) : false;\n};\n\nconst getFormTypeScore = (formFnode, type) => {\n    if (!formFnode) return 0;\n    if (hasDetectedType(DETECTED_FORM_TYPE_ATTR, type)(formFnode)) return 1;\n    return formFnode === null || formFnode === void 0 ? void 0 : formFnode.scoreFor(type);\n};\n\nconst outRuleWithPredetectedAttr = (attr, throughFn) => (typeOut) =>\n    [\n        rule(dom(`[${attr}]`).when(hasDetectedType(attr, typeOut)), type(`${typeOut}-cache`), {}),\n        rule(type(`${typeOut}-cache`), type('cache'), {}),\n        rule(type(typeOut).when(belongsToType(typeOut)), type(`${typeOut}-result`), {}),\n        rule(type(`${typeOut}-cache`), type(`${typeOut}-result`), {}),\n        rule(type(`${typeOut}-result`), out(typeOut).through(throughFn(typeOut)), {}),\n    ];\n\nconst outRuleForm = outRuleWithPredetectedAttr(DETECTED_FORM_TYPE_ATTR, typeFormEffect);\n\nconst outRuleField = outRuleWithPredetectedAttr(DETECTED_FIELD_TYPE_ATTR, typeFieldEffect);\n\nconst combineFeatures = (arr1, arr2) => arr1.flatMap((item1) => arr2.map((item2) => [item1, item2]));\n\nconst withFnodeEl = (fn) => (fnode) => fn(fnode.element);\n\nconst memoize = (fn) => {\n    let cache = new WeakMap();\n    const memoisedFn = (arg) => {\n        if (cache.has(arg)) return cache.get(arg);\n        const result = fn(arg);\n        cache.set(arg, result);\n        return result;\n    };\n    memoisedFn.clearCache = () => (cache = new WeakMap());\n    return memoisedFn;\n};\n\nconst VALID_INPUT_TYPES = ['text', 'email', 'number', 'tel', 'password', 'hidden', 'search'];\n\nconst inputFilter = (input) => {\n    if (input.getAttribute(DETECTED_FIELD_TYPE_ATTR) !== null) return false;\n    if (input.getAttribute(IGNORE_ELEMENT_ATTR) !== null) return false;\n    if (input.matches(`[${IGNORE_ELEMENT_ATTR}] *`)) return false;\n    if (!VALID_INPUT_TYPES.includes(input.type)) {\n        setIgnoreFlag(input);\n        return false;\n    }\n    if (input.type === 'hidden') {\n        const value = input.value.trim();\n        if (\n            value === '' ||\n            value.length > MAX_HIDDEN_FIELD_VALUE_LENGTH ||\n            HIDDEN_FIELD_IGNORE_VALUES.includes(value) ||\n            !input.matches(kHiddenUsernameSelector)\n        ) {\n            setIgnoreFlag(input);\n            return false;\n        }\n    }\n    if (input.getAttribute('aria-autocomplete') === 'list') {\n        setIgnoreFlag(input);\n        return false;\n    }\n    return true;\n};\n\nconst fieldFilter = (fnode) => inputFilter(fnode.element) && getParentFnodeVisibleForm(fnode) !== null;\n\nconst selectInputs = memoize((root = document) => Array.from(root.querySelectorAll('input')).filter(inputFilter));\n\nconst selectUnprocessedInputs = (target = document) =>\n    selectInputs(target).filter((el) => el.matches(unprocessedFieldFilter));\n\nconst selectDanglingInputs = (target = document) =>\n    selectInputs(target).filter((el) => el.matches(danglingFieldFilter));\n\nconst walkUpWhile = (start, maxIterations) => (check) => {\n    const parent = start.parentElement;\n    if (maxIterations === 0 || parent === null) return start;\n    return check(parent, start) ? walkUpWhile(parent, maxIterations - 1)(check) : start;\n};\n\nconst getNthParent = (el) => (n) => {\n    const parent = el.parentElement;\n    return parent === null || n === 0 ? el : getNthParent(parent)(n - 1);\n};\n\nconst uniqueNodes = (...nodes) => Array.from(new Set(nodes.flat()));\n\nconst getNodeRect = (el) => {\n    const { height, width, top, bottom } = el.getBoundingClientRect();\n    const area = height * width;\n    return {\n        height,\n        width,\n        top,\n        bottom,\n        area,\n    };\n};\n\nconst getSiblingWith = (el, match) => {\n    const prevEl = el.previousElementSibling;\n    if (prevEl === null) return null;\n    if (match(prevEl)) return prevEl;\n    return getSiblingWith(prevEl, match);\n};\n\nconst getLabelFor = (el) => {\n    var _a;\n    const forId = (_a = el.getAttribute('id')) !== null && _a !== void 0 ? _a : el.getAttribute('name');\n    const label = document.querySelector(`label[for=\"${forId}\"]`);\n    if (label) return label;\n    const closest = el.closest('label');\n    if (closest) return closest;\n    const siblingLabel = getSiblingWith(el, (sibling) => sibling.tagName === 'LABEL');\n    if (siblingLabel) return siblingLabel;\n    const parent = getNthParent(el)(2);\n    const parentLabels = parent.querySelectorAll('label');\n    if (parentLabels.length === 1) return parentLabels[0];\n    const textNodeAbove = getSiblingWith(el, (el) => el instanceof HTMLElement && el.innerText.trim().length > 0);\n    if (textNodeAbove) return textNodeAbove;\n    return null;\n};\n\nconst getRectCenter = (rect) => ({\n    x: rect.left + rect.width / 2,\n    y: rect.top + rect.height / 2,\n});\n\nconst getRectMinDistance = (rectA, rectB) => {\n    const centerA = getRectCenter(rectA);\n    const centerB = getRectCenter(rectB);\n    const dx = Math.abs(centerA.x - centerB.x) - (rectA.width + rectB.width) / 2;\n    const dy = Math.abs(centerA.y - centerB.y) - (rectA.height + rectB.height) / 2;\n    return {\n        dx,\n        dy,\n    };\n};\n\nconst pruneNested = (els) =>\n    els.reduce((acc, el) => {\n        for (let i = 0; i <= acc.length - 1; i++) {\n            if (acc[i] === el) continue;\n            if (acc[i].contains(el)) return acc;\n            if (el.contains(acc[i])) {\n                acc[i] = el;\n                return acc;\n            }\n        }\n        acc.push(el);\n        return acc;\n    }, []);\n\nconst getCommonAncestor = (elementA, elementB) => {\n    if (elementA === elementB) return elementA;\n    return elementA.contains(elementB)\n        ? elementA\n        : elementA.parentElement\n        ? getCommonAncestor(elementA.parentElement, elementB)\n        : elementA;\n};\n\nconst findStackedParent = (el, cache = [], maxIterations) => {\n    if (cache.some((group) => group.contains(el))) return null;\n    const parent = el.parentElement;\n    if (maxIterations === 0 || !parent) return null;\n    const computedStyle = getComputedStyle(parent);\n    const position = computedStyle.getPropertyValue('position');\n    if (position === 'fixed' || position === 'absolute') {\n        cache.push(parent);\n        return parent;\n    }\n    return findStackedParent(parent, cache, maxIterations - 1);\n};\n\nconst findStackedParents = (els, maxIterations) => {\n    const cache = [];\n    return els.map((input) => findStackedParent(input, cache, maxIterations)).filter((el) => Boolean(el));\n};\n\nconst formFilter = (form) => {\n    if (form.getAttribute(DETECTED_FORM_TYPE_ATTR) !== null) return false;\n    if (form.getAttribute(IGNORE_ELEMENT_ATTR) !== null) return false;\n    const fieldCount = form.querySelectorAll(fieldSelector).length;\n    const inputCount = form.querySelectorAll(inputSelector).length;\n    const invalidCount = inputCount === 0 || inputCount > MAX_INPUTS_PER_FORM || fieldCount > MAX_FIELDS_PER_FORM;\n    const pageForm =\n        form.matches('body > form') &&\n        (() => {\n            const bodyElCount = document.body.querySelectorAll('*').length;\n            const formElCount = form.querySelectorAll('*').length;\n            return formElCount >= bodyElCount * 0.8;\n        })();\n    if (invalidCount || pageForm) {\n        if (!pageForm) setIgnoreFlag(form);\n        return false;\n    }\n    if (form.matches('table form') && form.closest('table').querySelectorAll('form').length > 2) return false;\n    return true;\n};\n\nconst selectForms = memoize((root = document) => Array.from(root.querySelectorAll('form')).filter(formFilter));\n\nconst selectAllForms = (doc = document) =>\n    uniqueNodes(selectForms(doc), Array.from(doc.querySelectorAll(detectedSelector)));\n\nconst selectUnprocessedForms = (target = document) =>\n    selectAllForms(target).filter((el) => el.matches(unprocessedFormFilter));\n\nconst LOGIN_RE =\n    /(?:(?:n(?:ouvelleses|uevase|ewses)s|iniciarses|connex)io|anmeldedate|sign[io])n|in(?:iciarsessao|troduce)|a(?:uthenticate|nmeld(?:ung|en))|authentifier|s(?:econnect|identifi)er|novasessao|(?:introduci|conecta|entr[ae])r|prihlasit|connect|acceder|login/i;\n\nconst REGISTER_RE =\n    /kontoerstellen|cr(?:ea(?:teaccount|rcuenta)|iarconta)|(?:nouveaucompt|creeruncompt|s?inscrir|unirs)e|re(?:gist(?:r(?:ieren|arse|ar)|er)|joindre)|nuevacuenta|neueskonto|getstarted|newaccount|novaconta|(?:com(?:mence|eca)|(?:empez|junt)a)r|signup|join/i;\n\nconst RECOVERY_RE =\n    /(?:wiederherstell|zurucksetz)en|re(?:(?:initialis|stablec)er|(?:defini|staur[ae])r|c(?:uper[ae]|ove)r|set)|problem|(?:troubl|restor|aid)e|a[jy]uda|h(?:ilfe|elp)/i;\n\nconst MULTI_STEP_RE = /p(?:rogres(?:s(?:ion|o)|o)|aso)|fortschritt|progress|s(?:chritt|t(?:age|ep))|etap[ae]|phase/i;\n\nconst TROUBLE_RE =\n    /schwierigkeit|(?:difficult|troubl|oubli|hilf)e|i(?:nciden(?:cia|t)|ssue)|vergessen|esquecido|olvidado|needhelp|questao|problem|forgot|ayuda/i;\n\nconst PASSWORD_RE =\n    /p(?:hrasesecrete|ass(?:(?:phras|cod)e|wor[dt]))|(?:c(?:havesecret|lavesecret|ontrasen)|deseguranc)a|(?:(?:zugangs|secret)cod|clesecret)e|codesecret|motdepasse|geheimnis|secret|heslo|senha|key/i;\n\nconst PASSWORD_OUTLIER_RE = /socialsecurity|nationalid/i;\n\nconst USERNAME_RE =\n    /identi(?:fiant|ty)|u(?:tilisateur|s(?:ername|uario))|(?:identifi|benutz)er|(?:screen|nick)name|nutzername|(?:anmeld|handl)e|pseudo/i;\n\nconst USERNAME_ATTR_RE = /identifyemail|(?:custom|us)erid|loginname|a(?:cc(?:ountid|t)|ppleid)|loginid/i;\n\nconst USERNAME_OUTLIER_RE =\n    /(?:nom(?:defamill|br)|tit[lr])e|(?:primeiro|sobre)nome|(?:company|middle|nach|vor)name|firstname|apellido|lastname|prenom/i;\n\nconst EMAIL_RE = /co(?:urriel|rrei?o)|email/i;\n\nconst EMAIL_ATTR_RE = /usermail/i;\n\nconst CREATE_ACTION_RE = /erstellen|n(?:o(?:uveau|vo)|uevo|e[uw])|cr(?:e(?:a(?:te|r)|er)|iar)|set/i;\n\nconst CREATE_ACTION_ATTR_END_RE = /\\b.*(?:fst|1)$/i;\n\nconst RESET_ACTION_RE =\n    /(?:a(?:ktualisiere|nder)|zurucksetze)n|(?:re(?:initialise|stablece|defini)|mettreajou)r|a(?:ctualiz|tualiz|lter)ar|c(?:ambiar|hange)|update|reset/i;\n\nconst CONFIRM_ACTION_RE =\n    /digitarnovamente|v(?:olveraescribi|erifi(?:ca|e))r|saisiranouveau|(?:erneuteingeb|wiederhol|bestatig)en|verif(?:izieren|y)|re(?:pe(?:t[ei]r|at)|type)|confirm|again/i;\n\nconst CONFIRM_ACTION_ATTR_END_RE = /\\b.*(?:snd|bis|2)$/i;\n\nconst STEP_ACTION_RE =\n    /(?:f(?:ertigstell|ortfahr)|abschlie)en|getstarted|siguiente|(?:preceden|suivan|accep)t|(?:finaliza|termin[ae]|anterio|weite)r|co(?:mplet(?:ar|e)|ntinu(?:ar|e))|pro(?:c(?:hain|eed)|ximo)|finish|zuruck|back|next/i;\n\nconst REMEMBER_ACTION_RE =\n    /angemeldetbleiben|lembrardemim|micherinnern|sesouvenirde|re(?:cordarme|member|ster)|manterme|mantener|stay|keep/i;\n\nconst SEARCH_ACTION_RE = /recherche|buscar|s(?:earch|uche)|query/i;\n\nconst CURRENT_VALUE_RE =\n    /(?:be(?:stehend|for)|vorherig|aktuell)e|exist(?:ente|ing)|pre(?:cedent|vious)|a(?:n(?:t(?:erior|igo)|cien)|ctu[ae]l|tual)|existant|dernier|current|(?:ultim|viej)o|(?:letz|al)te|last|old/i;\n\nconst HIDDEN_ATTR_RE = /s(?:creenreade)?ronly|(?:move)?offscreen|(?:displaynon|a11yhid)e|hidden/i;\n\nconst OAUTH_ATTR_RE = /facebook|twitch|google|apple/i;\n\nconst TOS_RE =\n    /(?:datenschutzrichtlini|politicadeprivacidad|confidentialit|a(?:cknowledg|gre))e|nutzungsbedingungen|(?:consentimi?ent|ac(?:ue|o)rd)o|(?:einwillig|zustimm)ung|consentement|condi(?:cione|tion)s|term(?:osdeuso|inos|sof)|(?:privacida|understan)d|guideline|consent|p(?:riva|oli)cy|accord/i;\n\nconst MFA_ACTION_RE = /enter(?:auth)?code|confirm|verify/i;\n\nconst MFA_RE =\n    /(?:authentifizierung|doisfatore|doispasso)s|(?:auth(?:entication)?cod|(?:securityc|codig)od|doubleetap|coded)e|(?:authentication|generator)app|(?:(?:authentifica|doublefac)teu|(?:(?:authentifika|doblefac|zweifak|twofac)t|aut(?:henticat|enticad))o)r|verifica(?:c(?:ion|ao)|tion)|multifa(?:ct(?:eu|o)|k?to)r|zweischritte|generadora|doblepaso|2(?:s(?:chritte|tep)|(?:etap[ae]|paso)s|fa)|twostep/i;\n\nconst MFA_ATTR_RE =\n    /phoneverification|(?:approvals|login)code|c(?:odeinput|hallenge)|two(?:factor|step)|twofa|tfa|[2m]fa/i;\n\nconst OTP_ATTR_RE = /totp(?:pin)?|o(?:netime|t[cp])|1time/i;\n\nconst OTP_OUTLIER_RE =\n    /n(?:(?:ue|o)vocodigo|ouveaucode|e(?:usenden|(?:uer|w)code))|re(?:enviar|send)|envoyer|senden|enviar|send/i;\n\nconst OTP_OUTLIER_ATTR_RE = /(?:phone(?:verification)?|email|tel)pin|email|sms/i;\n\nconst NEWSLETTER_RE = /newsletter|b(?:ul|o)letin|mailing/i;\n\nconst NEWSLETTER_ATTR_RE = /subscription|mailinglist|newsletter|emailform/i;\n\nconst EMAIL_VALUE_RE = /^[\\w\\-\\.]+@([\\w-]+\\.)+[\\w-]{2,5}$/;\n\nconst TEL_VALUE_RE = /^[\\d()+-]{6,25}$/;\n\nconst USERNAME_VALUE_RE = /^[\\w\\-\\.]{7,30}$/;\n\nconst reSanityCheck = (cb, options) => (str) => {\n    if (options.maxLength && str.length > options.maxLength) return false;\n    if (options.minLength && str.length < options.minLength) return false;\n    return cb(str);\n};\n\nconst notRe = (reg, options) => (str) => !test(reg, options)(str);\n\nconst andRe = (reg, options) => and(reg.map((re) => test(re, options)));\n\nconst orRe = (reg, options) => or(reg.map((re) => test(re, options)));\n\nconst test = (re, options) =>\n    reSanityCheck(\n        (str) => re.test(str),\n        options !== null && options !== void 0\n            ? options\n            : {\n                  maxLength: 5e3,\n                  minLength: 2,\n              }\n    );\n\nconst and = (tests) => (str) => tests.every((test) => test(str));\n\nconst or = (tests) => (str) => tests.some((test) => test(str));\n\nconst any = (test) => (strs) => strs.some(test);\n\nconst matchLogin = test(LOGIN_RE);\n\nconst matchRegister = test(REGISTER_RE);\n\nconst matchUsername = test(USERNAME_RE);\n\nconst matchUsernameAttr = orRe([USERNAME_ATTR_RE, USERNAME_RE]);\n\nconst matchUsernameValue = test(USERNAME_VALUE_RE);\n\nconst matchUsernameOutlier = test(USERNAME_OUTLIER_RE);\n\nconst matchEmailAttr = orRe([EMAIL_ATTR_RE, EMAIL_RE]);\n\nconst matchEmailValue = test(EMAIL_VALUE_RE, {\n    maxLength: 230,\n    minLength: 5,\n});\n\nconst matchEmail = or([test(EMAIL_RE), matchEmailValue]);\n\nconst matchTelValue = test(TEL_VALUE_RE, {\n    maxLength: 25,\n    minLength: 6,\n});\n\nconst matchRememberMe = test(REMEMBER_ACTION_RE);\n\nconst matchTOS = test(TOS_RE);\n\nconst matchTrouble = test(TROUBLE_RE);\n\nconst matchRecovery = orRe([RECOVERY_RE, TROUBLE_RE]);\n\nconst matchMultiStep = test(MULTI_STEP_RE);\n\nconst matchStepAction = orRe([STEP_ACTION_RE, MULTI_STEP_RE]);\n\nconst matchOAuth = test(OAUTH_ATTR_RE);\n\nconst matchSearchAction = test(SEARCH_ACTION_RE);\n\nconst matchPasswordReset = and([andRe([PASSWORD_RE, RESET_ACTION_RE]), notRe(CONFIRM_ACTION_RE)]);\n\nconst matchPasswordResetAttr = and([matchPasswordReset, notRe(CONFIRM_ACTION_ATTR_END_RE)]);\n\nconst matchPasswordCreate = and([andRe([PASSWORD_RE, CREATE_ACTION_RE]), notRe(CONFIRM_ACTION_RE)]);\n\nconst matchPasswordCreateAttr = and([matchPasswordCreate, notRe(CONFIRM_ACTION_ATTR_END_RE)]);\n\nconst matchPasswordConfirm = andRe([PASSWORD_RE, CONFIRM_ACTION_RE]);\n\nconst matchPasswordConfirmAttr = and([andRe([PASSWORD_RE, CONFIRM_ACTION_RE]), notRe(CREATE_ACTION_ATTR_END_RE)]);\n\nconst matchPasswordCurrent = and([andRe([PASSWORD_RE, CURRENT_VALUE_RE]), notRe(CONFIRM_ACTION_RE)]);\n\nconst matchPasswordCurrentAttr = and([matchPasswordCurrent, notRe(CONFIRM_ACTION_ATTR_END_RE)]);\n\nconst matchPasswordOutlier = test(PASSWORD_OUTLIER_RE);\n\nconst matchHidden = test(HIDDEN_ATTR_RE);\n\nconst matchMfaAction = test(MFA_ACTION_RE);\n\nconst matchMfa = test(MFA_RE);\n\nconst matchMfaAttr = test(MFA_ATTR_RE);\n\nconst matchOtpAttr = test(OTP_ATTR_RE);\n\nconst matchOtpOutlier = orRe([OTP_OUTLIER_ATTR_RE, OTP_OUTLIER_RE]);\n\nconst matchNewsletter = test(NEWSLETTER_RE);\n\norRe([NEWSLETTER_RE, NEWSLETTER_ATTR_RE]);\n\nconst cacheContext = {};\n\nconst getVisibilityCache = (key) => {\n    var _a;\n    return (cacheContext[key] = (_a = cacheContext[key]) !== null && _a !== void 0 ? _a : new WeakMap());\n};\n\nconst clearVisibilityCache = () => Object.keys(cacheContext).forEach((key) => delete cacheContext[key]);\n\nconst withCache = (cacheMap) => (els, visible) => {\n    els.forEach((el) => cacheMap.set(el, visible));\n    return visible;\n};\n\nconst isVisible = (fnodeOrElement, options) => {\n    const element = utils.toDomElement(fnodeOrElement);\n    const seen = [element];\n    const cache = getVisibilityCache(JSON.stringify(options));\n    if (cache.has(element)) return cache.get(element);\n    const check = () => {\n        const elementWindow = utils.windowForElement(element);\n        const elementRect = element.getBoundingClientRect();\n        const elementStyle = elementWindow.getComputedStyle(element);\n        if (elementRect.width === 0 && elementRect.height === 0 && elementStyle.overflow !== 'hidden') return false;\n        if (elementStyle.visibility === 'hidden') return false;\n        if (elementRect.x + elementRect.width < 0 || elementRect.y + elementRect.height < 0) return false;\n        for (const ancestor of utils.ancestors(element)) {\n            if (ancestor === elementWindow.document.documentElement) continue;\n            if (cache === null || cache === void 0 ? void 0 : cache.has(ancestor)) {\n                const cachedVisible = cache.get(ancestor);\n                if (!cachedVisible) return false;\n                else continue;\n            }\n            const isElement = ancestor === element;\n            if (!isElement) seen.push(ancestor);\n            const style = isElement ? elementStyle : elementWindow.getComputedStyle(ancestor);\n            if (style.opacity === '0' && options.opacity) return false;\n            if (style.display === 'contents') continue;\n            const rect = isElement ? elementRect : ancestor.getBoundingClientRect();\n            if ((rect.width <= 1 || rect.height <= 1) && style.overflow === 'hidden') return false;\n            if (\n                style.position === 'fixed' &&\n                (rect.x >= elementWindow.innerWidth || rect.y >= elementWindow.innerHeight)\n            )\n                return false;\n        }\n        return true;\n    };\n    const visible = check();\n    return withCache(cache)(seen, visible);\n};\n\nconst quickVisibilityCheck = (el, options) => {\n    const cache = getVisibilityCache(JSON.stringify(options));\n    if (cache.has(el)) return cache.get(el);\n    const check = () => {\n        const rect = el.getClientRects();\n        if (rect.length === 0) return false;\n        const classList = Array.from(el.classList).map(sanitizeString);\n        if (any(matchHidden)(classList)) return false;\n        const { visibility, display, maxHeight } = getComputedStyle(el);\n        if (visibility === 'hidden' || display === 'none' || maxHeight === '0px') return false;\n        if (el.offsetHeight === 0 || el.offsetWidth === 0) return false;\n        if (el.offsetHeight < options.minHeight || el.offsetWidth < options.minWidth) return false;\n        return true;\n    };\n    return withCache(cache)([el], check());\n};\n\nconst isVisibleEl = (el) =>\n    quickVisibilityCheck(el, {\n        minHeight: 0,\n        minWidth: 0,\n    });\n\nconst isVisibleForm = (form) => {\n    if (\n        form.tagName !== 'FORM' &&\n        !isVisible(form, {\n            opacity: true,\n        })\n    )\n        return false;\n    const inputs = Array.from(form.querySelectorAll(inputSelector)).filter((field) => !field.disabled);\n    return (\n        inputs.length > 0 &&\n        inputs.some((input) =>\n            isVisible(input, {\n                opacity: false,\n            })\n        )\n    );\n};\n\nconst isVisibleField = (field) => {\n    if (field instanceof HTMLInputElement) {\n        const { type, disabled, readOnly } = field;\n        if (type === 'hidden' || disabled || readOnly || field.getAttribute('aria-hidden') === 'true') return false;\n    }\n    return quickVisibilityCheck(field, {\n        minHeight: MIN_FIELD_HEIGHT,\n        minWidth: MIN_FIELD_WIDTH,\n    });\n};\n\nvar FormType;\n\n(function (FormType) {\n    FormType['LOGIN'] = 'login';\n    FormType['REGISTER'] = 'register';\n    FormType['PASSWORD_CHANGE'] = 'password-change';\n    FormType['RECOVERY'] = 'recovery';\n    FormType['MFA'] = 'mfa';\n    FormType['NOOP'] = 'noop';\n})(FormType || (FormType = {}));\n\nvar FieldType;\n\n(function (FieldType) {\n    FieldType['EMAIL'] = 'email';\n    FieldType['USERNAME'] = 'username';\n    FieldType['USERNAME_HIDDEN'] = 'username-hidden';\n    FieldType['PASSWORD_CURRENT'] = 'password';\n    FieldType['PASSWORD_NEW'] = 'new-password';\n    FieldType['OTP'] = 'otp';\n})(FieldType || (FieldType = {}));\n\nconst getFormParent = (form) =>\n    walkUpWhile(form, MAX_FORM_FIELD_WALK_UP)((el) => el.querySelectorAll('form').length <= 1);\n\nconst createInputIterator = (form) => {\n    const formEls = Array.from(form.querySelectorAll(inputSelector)).filter(isVisibleField);\n    return {\n        prev(input) {\n            var _a;\n            const idx = formEls.indexOf(input);\n            return idx === -1\n                ? null\n                : (_a = formEls === null || formEls === void 0 ? void 0 : formEls[idx - 1]) !== null && _a !== void 0\n                ? _a\n                : null;\n        },\n        next(input) {\n            var _a;\n            const idx = formEls.indexOf(input);\n            return idx === -1\n                ? null\n                : (_a = formEls === null || formEls === void 0 ? void 0 : formEls[idx + 1]) !== null && _a !== void 0\n                ? _a\n                : null;\n        },\n    };\n};\n\nconst getFormClassification = (formFnode) => {\n    const login = getFormTypeScore(formFnode, FormType.LOGIN) > 0.5;\n    const register = getFormTypeScore(formFnode, FormType.REGISTER) > 0.5;\n    const pwChange = getFormTypeScore(formFnode, FormType.PASSWORD_CHANGE) > 0.5;\n    const recovery = getFormTypeScore(formFnode, FormType.RECOVERY) > 0.5;\n    const mfa = getFormTypeScore(formFnode, FormType.MFA) > 0.5;\n    const detectionResults = [login, register, pwChange, recovery, mfa];\n    const noop = detectionResults.every((detected) => !detected);\n    return {\n        login,\n        register,\n        pwChange,\n        recovery,\n        mfa,\n        noop,\n    };\n};\n\nconst isNoopForm = (formFnode) => getFormClassification(formFnode).noop;\n\nconst getPageDescriptionText = (doc) => {\n    var _a;\n    const pageTitle = doc.title;\n    const metaDescription = doc.querySelector('meta[name=\"description\"]');\n    const descriptionContent =\n        (_a =\n            metaDescription === null || metaDescription === void 0\n                ? void 0\n                : metaDescription.getAttribute('content')) !== null && _a !== void 0\n            ? _a\n            : '';\n    return sanitizeString(`${pageTitle} ${descriptionContent}`);\n};\n\nconst getNodeText = (node) => {\n    const textAttrs = getTextAttributes(node).join('');\n    return sanitizeString(`${node.innerText}${textAttrs}`);\n};\n\nconst getNodeAttributes = (node) => sanitizeString(getBaseAttributes(node).join(''));\n\nconst getAllNodeHaystacks = (node) => [getNodeText(node), getNodeAttributes(node)];\n\nconst getFormText = (form) => {\n    const textAttrs = getTextAttributes(form).join('');\n    const fieldsets = Array.from(form.querySelectorAll('fieldset'));\n    return sanitizeString(\n        `${textAttrs}${fieldsets.reduce((text, fieldset) => text.concat(getTextAttributes(fieldset).join('')), '')}`\n    );\n};\n\nconst getFieldLabelText = (field) => {\n    const label = getLabelFor(field);\n    return label ? getNodeText(label) : '';\n};\n\nconst getFieldHaystacks = (field) => {\n    const isHiddenInput = field instanceof HTMLInputElement && field.type === 'hidden';\n    const checkLabel = field instanceof HTMLInputElement && ['text', 'email', 'tel', 'password'].includes(field.type);\n    const fieldAttrs = getFieldAttributes(field);\n    const fieldText = isHiddenInput ? '' : getNodeText(field);\n    const labelText = checkLabel && !isHiddenInput ? getFieldLabelText(field) : '';\n    return {\n        fieldAttrs,\n        fieldText,\n        labelText,\n    };\n};\n\nconst getAllFieldHaystacks = (field) => {\n    const { fieldAttrs, fieldText, labelText } = getFieldHaystacks(field);\n    return [fieldText, labelText, ...fieldAttrs];\n};\n\nconst getNearestHeadingsText = (el) => {\n    var _a, _b;\n    const originRect = el.getBoundingClientRect();\n    const parent = walkUpWhile(\n        el,\n        MAX_FORM_HEADING_WALK_UP\n    )((parentEl, candidate) => {\n        if (parentEl === document.body) return false;\n        if (candidate.matches(domGroupSelector)) return false;\n        return true;\n    });\n    const headings = Array.from(parent.querySelectorAll(headingSelector)).filter((heading) => {\n        if (el.contains(heading)) return true;\n        const headingRect = heading.getBoundingClientRect();\n        const { dx, dy } = getRectMinDistance(originRect, headingRect);\n        return dx < MAX_HEADING_HORIZONTAL_DIST && dy < MAX_HEADING_VERTICAL_DIST;\n    });\n    const textAbove =\n        (_b =\n            (_a =\n                headings.length === 0\n                    ? getSiblingWith(el, (el) => el instanceof HTMLElement && el.innerText.trim().length > 0)\n                    : null) === null || _a === void 0\n                ? void 0\n                : _a.innerText) !== null && _b !== void 0\n            ? _b\n            : '';\n    return sanitizeString(textAbove + headings.map((el) => el.innerText).join(''));\n};\n\nconst isActiveFieldFNode = (fnode) => {\n    const { visible, readonly, disabled } = fnode.noteFor('field');\n    return visible && !readonly && !disabled;\n};\n\nconst isActiveField = (el) => {\n    if (el.getAttribute(IGNORE_ELEMENT_ATTR) !== null) return false;\n    if (el.matches(`[${IGNORE_ELEMENT_ATTR}] *`)) return false;\n    return (\n        isVisibleField(el) &&\n        isVisible(el, {\n            opacity: false,\n        })\n    );\n};\n\nconst splitFieldsByVisibility = (els) =>\n    els.reduce(\n        (acc, el) => {\n            if (isVisibleField(el)) acc[0].push(el);\n            else acc[1].push(el);\n            return acc;\n        },\n        [[], []]\n    );\n\nconst fType = (fnode, types) => types.includes(fnode.element.type);\n\nconst fMatch = (fnode, selector) => fnode.element.matches(selector);\n\nconst fMode = (fnode, inputMode) => fnode.element.inputMode === inputMode;\n\nconst fActive = (fn) => (fnode) => fn(fnode) && isActiveFieldFNode(fnode);\n\nconst maybeEmail = fActive((fnode) => fType(fnode, ['email', 'text']) || fMode(fnode, 'email'));\n\nconst maybePassword = fActive((fnode) => fMatch(fnode, passwordSelector));\n\nconst maybeOTP = fActive((fnode) => fMatch(fnode, otpSelector));\n\nconst maybeUsername = fActive(\n    (fnode) => (!fMode(fnode, 'email') && fType(fnode, ['text', 'tel'])) || fMatch(fnode, kUsernameSelector)\n);\n\nconst maybeHiddenUsername = (fnode) => fMatch(fnode, hiddenUsernameSelector) && !isActiveFieldFNode(fnode);\n\nconst isUsernameCandidate = (el) => !el.matches('input[type=\"email\"]') && any(matchUsername)(getAllFieldHaystacks(el));\n\nconst isEmailCandidate = (el) => el.matches('input[type=\"email\"]') || any(matchEmail)(getAllFieldHaystacks(el));\n\nconst isOAuthCandidate = (el) => any(matchOAuth)(getAllFieldHaystacks(el));\n\nconst isSubmitBtnCandidate = (btn) => {\n    if (btn.innerText === '') return false;\n    const height = btn.offsetHeight;\n    const width = btn.offsetWidth;\n    return height * width > MIN_AREA_SUBMIT_BTN;\n};\n\nconst { linearScale: linearScale$1 } = utils;\n\nconst getFormFeatures = (fnode) => {\n    const form = fnode.element;\n    const parent = getFormParent(form);\n    const fields = Array.from(form.querySelectorAll(fieldSelector));\n    const visibleFields = fields.filter(isVisibleField);\n    const doc = form.ownerDocument;\n    const inputs = fields.filter((el) => el.matches('input:not([type=\"submit\"])'));\n    const visibleInputs = visibleFields.filter((el) => el.matches('input:not([type=\"submit\"])'));\n    const fieldsets = form.querySelectorAll('fieldset');\n    const textareas = visibleFields.filter((el) => el.matches('textarea'));\n    const selects = visibleFields.filter((el, idx, fields) => {\n        var _a;\n        return (\n            el.matches('select') &&\n            ((_a = fields === null || fields === void 0 ? void 0 : fields[idx + 1]) === null || _a === void 0\n                ? void 0\n                : _a.type) !== 'tel'\n        );\n    });\n    const optionsCount = selects.reduce((total, el) => total + el.querySelectorAll('option').length, 0);\n    const submits = visibleFields.filter((el) => el.matches('[type=\"submit\"]'));\n    const hidden = inputs.filter((el) => el.matches('[type=\"hidden\"]'));\n    const texts = visibleInputs.filter((el) => el.matches('[type=\"text\"]'));\n    const usernames = inputs.filter(isUsernameCandidate);\n    const emails = inputs.filter(isEmailCandidate);\n    const tels = inputs.filter((el) => el.matches('[type=\"tel\"]'));\n    const pws = inputs.filter((el) => el.matches(passwordSelector));\n    const [identifiers, hiddenIdentifiers] = splitFieldsByVisibility(uniqueNodes(usernames, emails, tels));\n    const [passwords, hiddenPasswords] = splitFieldsByVisibility(pws);\n    const radios = visibleInputs.filter((el) => el.matches('[type=\"radio\"]'));\n    const checkboxes = visibleInputs.filter((el) => el.matches('[type=\"checkbox\"]'));\n    const numbers = visibleInputs.filter((el) => el.matches('[type=\"number\"]'));\n    const dates = visibleInputs.filter((el) => el.matches('[type=\"date\"]'));\n    const files = visibleInputs.filter((el) => el.matches('[type=\"file\"]'));\n    const mfas = tels.concat(numbers).concat(texts);\n    const required = visibleInputs.filter((el) => el.matches('[required]'));\n    const patterns = visibleInputs.filter((el) => el.matches('[pattern]'));\n    const minMaxLengths = visibleInputs.filter((el) => el.matches('[minLength], [maxLength]'));\n    const autofocused = visibleInputs.find((el) => el.matches('input[autofocus]:first-of-type'));\n    const captchas = parent.querySelectorAll(captchaSelector);\n    const socialEls = Array.from(parent.querySelectorAll(socialSelector));\n    const btns = Array.from(form.querySelectorAll(buttonSelector));\n    const submitBtns = btns.filter(isSubmitBtnCandidate);\n    const btnCandidates = submits.concat(submitBtns);\n    const anchors = Array.from(form.querySelectorAll(anchorLinkSelector)).filter(isVisibleEl);\n    const oauths = socialEls.concat(submitBtns).filter(isOAuthCandidate);\n    const layouts = Array.from(form.querySelectorAll(layoutSelector));\n    const autofocusedIsIdentifier = Boolean(autofocused && identifiers.includes(autofocused));\n    const autofocusedIsPassword = Boolean(autofocused && passwords.includes(autofocused));\n    const pageDescriptionText = getPageDescriptionText(doc);\n    const nearestHeadingsText = getNearestHeadingsText(form);\n    const formTextAttrText = getFormText(form);\n    const formAttributes = getFormAttributes(form);\n    const pwHaystack = pws.flatMap(getAllFieldHaystacks);\n    const identifierHaystack = identifiers.flatMap(getAllFieldHaystacks);\n    const submitBtnHaystack = btnCandidates.flatMap(getAllFieldHaystacks);\n    const checkboxesHaystack = checkboxes.flatMap(getAllFieldHaystacks);\n    const anchorsHaystack = anchors.flatMap(getAllNodeHaystacks);\n    const mfaInputsHaystack = mfas.flatMap(getAllFieldHaystacks);\n    const layoutHaystack = layouts.map(getNodeAttributes);\n    const outlierHaystack = [formTextAttrText, formTextAttrText, nearestHeadingsText];\n    const pageLogin = matchLogin(pageDescriptionText);\n    const formTextLogin = matchLogin(formTextAttrText);\n    const formAttrsLogin = any(matchLogin)(formAttributes);\n    const headingsLogin = matchLogin(nearestHeadingsText);\n    const layoutLogin = any(matchLogin)(layoutHaystack);\n    const rememberMeCheckbox = any(matchRememberMe)(checkboxesHaystack);\n    const submitLogin = any(matchLogin)(submitBtnHaystack);\n    const troubleLink = any(matchTrouble)(anchorsHaystack);\n    const pageRegister = matchRegister(pageDescriptionText);\n    const formTextRegister = matchRegister(formTextAttrText);\n    const formAttrsRegister = any(matchRegister)(formAttributes);\n    const headingsRegister = matchRegister(nearestHeadingsText);\n    const layoutRegister = any(matchRegister)(layoutHaystack);\n    const TOSRef = any(matchTOS)(checkboxesHaystack.concat(anchorsHaystack));\n    const submitRegister = any(matchRegister)(submitBtnHaystack);\n    const pwNewRegister = any(matchPasswordCreateAttr)(pwHaystack);\n    const pwConfirmRegister = any(matchPasswordConfirmAttr)(pwHaystack);\n    const pagePwReset = matchPasswordReset(pageDescriptionText);\n    const formTextPwReset = matchPasswordReset(formTextAttrText);\n    const formAttrsPwReset = any(matchPasswordResetAttr)(formAttributes);\n    const headingsPwReset = matchPasswordReset(nearestHeadingsText);\n    const layoutPwReset = any(matchPasswordResetAttr)(layoutHaystack);\n    const pageRecovery = matchRecovery(pageDescriptionText);\n    const formTextRecovery = matchRecovery(formTextAttrText);\n    const formAttrsRecovery = any(matchRecovery)(formAttributes);\n    const headingsRecovery = matchRecovery(nearestHeadingsText);\n    const layoutRecovery = any(matchRecovery)(layoutHaystack);\n    const submitRecovery = any(matchRecovery)(submitBtnHaystack);\n    const identifierRecovery = any(matchRecovery)(identifierHaystack);\n    const formTextMFA = matchMfa(formTextAttrText);\n    const formAttrsMFA = any(matchMfaAttr)(formAttributes);\n    const headingsMFA = matchMfa(nearestHeadingsText);\n    const layoutMFA = any(matchMfa)(layoutHaystack);\n    const buttonVerify = any(matchMfaAction)(submitBtnHaystack);\n    const inputsMFA = any(matchMfaAttr)(mfaInputsHaystack);\n    const inputsOTP = any(matchOtpAttr)(mfaInputsHaystack);\n    const linkOTPOutlier = any(matchOtpOutlier)(anchorsHaystack.concat(submitBtnHaystack));\n    const newsletterForm = any(matchNewsletter)(outlierHaystack);\n    const searchForm = any(matchSearchAction)(outlierHaystack);\n    const buttonMultiStep = any(matchStepAction)(submitBtnHaystack);\n    const headingsMultiStep = matchMultiStep(nearestHeadingsText);\n    return {\n        fieldsCount: linearScale$1(visibleFields.length, 1, 5),\n        inputCount: linearScale$1(visibleInputs.length, 1, 5),\n        fieldsetCount: linearScale$1(fieldsets.length, 1, 5),\n        textCount: linearScale$1(texts.length, 0, 3),\n        textareaCount: linearScale$1(textareas.length, 0, 2),\n        selectCount: linearScale$1(selects.length, 0, 2),\n        optionsCount: linearScale$1(optionsCount, 0, 5),\n        checkboxCount: linearScale$1(checkboxes.length, 0, 2),\n        radioCount: linearScale$1(radios.length, 0, 5),\n        identifierCount: linearScale$1(identifiers.length, 0, 2),\n        hiddenIdentifierCount: linearScale$1(hiddenIdentifiers.length, 0, 2),\n        hiddenCount: linearScale$1(hidden.length, 0, 5),\n        passwordCount: linearScale$1(passwords.length, 0, 2),\n        hiddenPasswordCount: linearScale$1(hiddenPasswords.length, 0, 2),\n        usernameCount: linearScale$1(usernames.length, 0, 2),\n        emailCount: linearScale$1(emails.length, 0, 2),\n        submitCount: linearScale$1(submits.length, 0, 2),\n        hasTels: boolInt(tels.length > 0),\n        hasOAuth: boolInt(oauths.length > 0),\n        hasCaptchas: boolInt(captchas.length > 0),\n        hasFiles: boolInt(files.length > 0),\n        hasDate: boolInt(dates.length > 0),\n        hasNumber: boolInt(numbers.length > 0),\n        oneVisibleField: boolInt(visibleInputs.length === 1),\n        twoVisibleFields: boolInt(visibleInputs.length === 2),\n        threeOrMoreVisibleFields: boolInt(visibleInputs.length >= 3),\n        noPasswords: boolInt(passwords.length === 0),\n        onePassword: boolInt(passwords.length === 1),\n        twoPasswords: boolInt(passwords.length === 2),\n        threeOrMorePasswords: boolInt(passwords.length >= 3),\n        noIdentifiers: boolInt(identifiers.length === 0),\n        oneIdentifier: boolInt(identifiers.length === 1),\n        twoIdentifiers: boolInt(identifiers.length === 2),\n        threeOrMoreIdentifiers: boolInt(identifiers.length >= 3),\n        autofocusedIsIdentifier: boolInt(autofocusedIsIdentifier),\n        autofocusedIsPassword: boolInt(autofocusedIsPassword),\n        inputRatio: safeInt(inputs.length / fields.length),\n        hiddenRatio: safeInt(hidden.length / fields.length),\n        visibleRatio: safeInt(visibleInputs.length / fields.length),\n        identifierRatio: safeInt(identifiers.length / visibleFields.length),\n        emailRatio: safeInt(emails.length / visibleFields.length),\n        usernameRatio: safeInt(usernames.length / visibleFields.length),\n        passwordRatio: safeInt(passwords.length / visibleFields.length),\n        requiredRatio: safeInt(required.length / visibleFields.length),\n        patternRatio: safeInt(patterns.length / visibleFields.length),\n        minMaxLengthRatio: safeInt(minMaxLengths.length / visibleFields.length),\n        pageLogin: boolInt(pageLogin),\n        formTextLogin: boolInt(formTextLogin),\n        formAttrsLogin: boolInt(formAttrsLogin),\n        headingsLogin: boolInt(headingsLogin),\n        layoutLogin: boolInt(layoutLogin),\n        rememberMeCheckbox: boolInt(rememberMeCheckbox),\n        troubleLink: boolInt(troubleLink),\n        submitLogin: boolInt(submitLogin),\n        pageRegister: boolInt(pageRegister),\n        formTextRegister: boolInt(formTextRegister),\n        formAttrsRegister: boolInt(formAttrsRegister),\n        headingsRegister: boolInt(headingsRegister),\n        layoutRegister: boolInt(layoutRegister),\n        pwNewRegister: boolInt(pwNewRegister),\n        pwConfirmRegister: boolInt(pwConfirmRegister),\n        submitRegister: boolInt(submitRegister),\n        TOSRef: boolInt(TOSRef),\n        pagePwReset: boolInt(pagePwReset),\n        formTextPwReset: boolInt(formTextPwReset),\n        formAttrsPwReset: boolInt(formAttrsPwReset),\n        headingsPwReset: boolInt(headingsPwReset),\n        layoutPwReset: boolInt(layoutPwReset),\n        pageRecovery: boolInt(pageRecovery),\n        formTextRecovery: boolInt(formTextRecovery),\n        formAttrsRecovery: boolInt(formAttrsRecovery),\n        headingsRecovery: boolInt(headingsRecovery),\n        layoutRecovery: boolInt(layoutRecovery),\n        identifierRecovery: boolInt(identifierRecovery),\n        submitRecovery: boolInt(submitRecovery),\n        formTextMFA: boolInt(formTextMFA),\n        formAttrsMFA: boolInt(formAttrsMFA),\n        headingsMFA: boolInt(headingsMFA),\n        layoutMFA: boolInt(layoutMFA),\n        buttonVerify: boolInt(buttonVerify),\n        inputsMFA: boolInt(inputsMFA),\n        inputsOTP: boolInt(inputsOTP),\n        linkOTPOutlier: boolInt(linkOTPOutlier),\n        newsletterForm: boolInt(newsletterForm),\n        searchForm: boolInt(searchForm),\n        multiStepForm: boolInt(buttonMultiStep || headingsMultiStep),\n        multiAuthForm: boolInt(submitRegister && submitLogin),\n        formInputIterator: createInputIterator(form),\n    };\n};\n\nconst FORM_FEATURES = [\n    'fieldsCount',\n    'inputCount',\n    'fieldsetCount',\n    'textCount',\n    'textareaCount',\n    'selectCount',\n    'optionsCount',\n    'checkboxCount',\n    'radioCount',\n    'identifierCount',\n    'hiddenIdentifierCount',\n    'usernameCount',\n    'emailCount',\n    'hiddenCount',\n    'hiddenPasswordCount',\n    'submitCount',\n    'hasTels',\n    'hasOAuth',\n    'hasCaptchas',\n    'hasFiles',\n    'hasDate',\n    'hasNumber',\n    'oneVisibleField',\n    'twoVisibleFields',\n    'threeOrMoreVisibleFields',\n    'noPasswords',\n    'onePassword',\n    'twoPasswords',\n    'threeOrMorePasswords',\n    'noIdentifiers',\n    'oneIdentifier',\n    'twoIdentifiers',\n    'threeOrMoreIdentifiers',\n    'autofocusedIsIdentifier',\n    'autofocusedIsPassword',\n    'visibleRatio',\n    'inputRatio',\n    'hiddenRatio',\n    'identifierRatio',\n    'emailRatio',\n    'usernameRatio',\n    'passwordRatio',\n    'requiredRatio',\n    'pageLogin',\n    'formTextLogin',\n    'formAttrsLogin',\n    'headingsLogin',\n    'layoutLogin',\n    'rememberMeCheckbox',\n    'troubleLink',\n    'submitLogin',\n    'pageRegister',\n    'formTextRegister',\n    'formAttrsRegister',\n    'headingsRegister',\n    'layoutRegister',\n    'pwNewRegister',\n    'pwConfirmRegister',\n    'submitRegister',\n    'TOSRef',\n    'pagePwReset',\n    'formTextPwReset',\n    'formAttrsPwReset',\n    'headingsPwReset',\n    'layoutPwReset',\n    'pageRecovery',\n    'formTextRecovery',\n    'formAttrsRecovery',\n    'headingsRecovery',\n    'layoutRecovery',\n    'identifierRecovery',\n    'submitRecovery',\n    'formTextMFA',\n    'formAttrsMFA',\n    'headingsMFA',\n    'layoutMFA',\n    'buttonVerify',\n    'inputsMFA',\n    'inputsOTP',\n    'linkOTPOutlier',\n    'newsletterForm',\n    'searchForm',\n    'multiStepForm',\n    'multiAuthForm',\n];\n\nconst results$a = {\n    coeffs: [\n        ['login-fieldsCount', 13.520715713500977],\n        ['login-inputCount', 12.725688934326172],\n        ['login-fieldsetCount', -24.54279136657715],\n        ['login-textCount', 2.09832501411438],\n        ['login-textareaCount', -6.21756649017334],\n        ['login-selectCount', -6.445385932922363],\n        ['login-optionsCount', -6.5486602783203125],\n        ['login-checkboxCount', 36.53668975830078],\n        ['login-radioCount', -6.051115989685059],\n        ['login-identifierCount', -3.514190196990967],\n        ['login-hiddenIdentifierCount', 3.2453908920288086],\n        ['login-usernameCount', 20.155893325805664],\n        ['login-emailCount', -14.239907264709473],\n        ['login-hiddenCount', 10.857547760009766],\n        ['login-hiddenPasswordCount', 27.226978302001953],\n        ['login-submitCount', -9.303533554077148],\n        ['login-hasTels', -11.232872009277344],\n        ['login-hasOAuth', -0.4822317361831665],\n        ['login-hasCaptchas', -2.1053965091705322],\n        ['login-hasFiles', -6.078967094421387],\n        ['login-hasDate', -10.765762329101562],\n        ['login-hasNumber', -5.940359592437744],\n        ['login-oneVisibleField', 7.7487030029296875],\n        ['login-twoVisibleFields', 3.7330875396728516],\n        ['login-threeOrMoreVisibleFields', -11.078261375427246],\n        ['login-noPasswords', -17.872163772583008],\n        ['login-onePassword', 10.165416717529297],\n        ['login-twoPasswords', -20.96967887878418],\n        ['login-threeOrMorePasswords', -6.258634090423584],\n        ['login-noIdentifiers', -17.50889015197754],\n        ['login-oneIdentifier', -1.7954760789871216],\n        ['login-twoIdentifiers', -6.747107028961182],\n        ['login-threeOrMoreIdentifiers', -7.950955390930176],\n        ['login-autofocusedIsIdentifier', 11.516515731811523],\n        ['login-autofocusedIsPassword', 37.256011962890625],\n        ['login-visibleRatio', 5.025142669677734],\n        ['login-inputRatio', 7.057068347930908],\n        ['login-hiddenRatio', -17.553821563720703],\n        ['login-identifierRatio', 11.599613189697266],\n        ['login-emailRatio', 4.432715892791748],\n        ['login-usernameRatio', -28.089937210083008],\n        ['login-passwordRatio', -1.4743984937667847],\n        ['login-requiredRatio', 4.202847957611084],\n        ['login-pageLogin', 13.917525291442871],\n        ['login-formTextLogin', 8.37748908996582],\n        ['login-formAttrsLogin', 9.86680793762207],\n        ['login-headingsLogin', 18.553503036499023],\n        ['login-layoutLogin', 5.4297590255737305],\n        ['login-rememberMeCheckbox', 7.804076671600342],\n        ['login-troubleLink', 20.434768676757812],\n        ['login-submitLogin', 12.52289867401123],\n        ['login-pageRegister', -9.868453025817871],\n        ['login-formTextRegister', 0.006147749722003937],\n        ['login-formAttrsRegister', -10.30859661102295],\n        ['login-headingsRegister', -14.703168869018555],\n        ['login-layoutRegister', 5.3226189613342285],\n        ['login-pwNewRegister', -23.588655471801758],\n        ['login-pwConfirmRegister', -14.890155792236328],\n        ['login-submitRegister', -11.342576026916504],\n        ['login-TOSRef', 1.966097116470337],\n        ['login-pagePwReset', -6.160655975341797],\n        ['login-formTextPwReset', -6.085625648498535],\n        ['login-formAttrsPwReset', -8.432915687561035],\n        ['login-headingsPwReset', -11.160608291625977],\n        ['login-layoutPwReset', 1.5576483011245728],\n        ['login-pageRecovery', -4.832557201385498],\n        ['login-formTextRecovery', 0.020121850073337555],\n        ['login-formAttrsRecovery', -39.35895919799805],\n        ['login-headingsRecovery', -4.870311737060547],\n        ['login-layoutRecovery', 0.6237899661064148],\n        ['login-identifierRecovery', 0.015860458835959435],\n        ['login-submitRecovery', -4.721786975860596],\n        ['login-formTextMFA', -0.09381871670484543],\n        ['login-formAttrsMFA', -24.686214447021484],\n        ['login-headingsMFA', -22.95966339111328],\n        ['login-layoutMFA', -4.470759391784668],\n        ['login-buttonVerify', -6.738802909851074],\n        ['login-inputsMFA', -24.144336700439453],\n        ['login-inputsOTP', -24.501859664916992],\n        ['login-linkOTPOutlier', -7.004944324493408],\n        ['login-newsletterForm', -12.855938911437988],\n        ['login-searchForm', -10.001572608947754],\n        ['login-multiStepForm', 4.042037010192871],\n        ['login-multiAuthForm', 8.5010986328125],\n        ['login-visibleRatio,fieldsCount', -13.670567512512207],\n        ['login-visibleRatio,identifierCount', -19.461668014526367],\n        ['login-visibleRatio,passwordCount', 4.871696472167969],\n        ['login-visibleRatio,hiddenIdentifierCount', -7.495360374450684],\n        ['login-visibleRatio,hiddenPasswordCount', 16.615135192871094],\n        ['login-identifierRatio,fieldsCount', -23.229290008544922],\n        ['login-identifierRatio,identifierCount', 11.391852378845215],\n        ['login-identifierRatio,passwordCount', -15.544483184814453],\n        ['login-identifierRatio,hiddenIdentifierCount', -6.927156448364258],\n        ['login-identifierRatio,hiddenPasswordCount', 0.3537141680717468],\n        ['login-passwordRatio,fieldsCount', 3.1417629718780518],\n        ['login-passwordRatio,identifierCount', -15.380514144897461],\n        ['login-passwordRatio,passwordCount', -5.5665130615234375],\n        ['login-passwordRatio,hiddenIdentifierCount', 22.84058952331543],\n        ['login-passwordRatio,hiddenPasswordCount', 1.7562990188598633],\n        ['login-requiredRatio,fieldsCount', 23.31458854675293],\n        ['login-requiredRatio,identifierCount', -18.278100967407227],\n        ['login-requiredRatio,passwordCount', 12.836394309997559],\n        ['login-requiredRatio,hiddenIdentifierCount', -22.787090301513672],\n        ['login-requiredRatio,hiddenPasswordCount', 16.702131271362305],\n    ],\n    bias: -7.669419288635254,\n    cutoff: 0.5,\n};\n\nconst FORM_COMBINED_FEATURES = [\n    ...FORM_FEATURES,\n    ...combineFeatures(\n        ['visibleRatio', 'identifierRatio', 'passwordRatio', 'requiredRatio'],\n        ['fieldsCount', 'identifierCount', 'passwordCount', 'hiddenIdentifierCount', 'hiddenPasswordCount']\n    ),\n];\n\nconst login = {\n    name: FormType.LOGIN,\n    coeffs: FORM_COMBINED_FEATURES.map((feat) => {\n        var _a, _b;\n        return [\n            `login-${feat}`,\n            (_b =\n                (_a = results$a.coeffs.find(([feature]) => feature === `login-${feat}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$a.bias,\n    cutoff: results$a.cutoff,\n    getRules: () => [\n        rule(type('form'), type(FormType.LOGIN), {}),\n        ...FORM_COMBINED_FEATURES.map((feat) =>\n            rule(type(FormType.LOGIN), featureScore('form', feat), {\n                name: `login-${feat}`,\n            })\n        ),\n        ...outRuleForm(FormType.LOGIN),\n    ],\n};\n\nconst results$9 = {\n    coeffs: [\n        ['pw-change-fieldsCount', -2.7185235023498535],\n        ['pw-change-inputCount', -2.3396975994110107],\n        ['pw-change-fieldsetCount', -5.999159336090088],\n        ['pw-change-textCount', -6.034550189971924],\n        ['pw-change-textareaCount', -5.965498447418213],\n        ['pw-change-selectCount', -5.910266876220703],\n        ['pw-change-optionsCount', -5.952794075012207],\n        ['pw-change-checkboxCount', -5.99525785446167],\n        ['pw-change-radioCount', -6.009548664093018],\n        ['pw-change-identifierCount', -5.467770576477051],\n        ['pw-change-hiddenIdentifierCount', -3.7171335220336914],\n        ['pw-change-usernameCount', -6.044194221496582],\n        ['pw-change-emailCount', -4.734224319458008],\n        ['pw-change-hiddenCount', -4.075719356536865],\n        ['pw-change-hiddenPasswordCount', -6.0577168464660645],\n        ['pw-change-submitCount', -3.6188852787017822],\n        ['pw-change-hasTels', -6.062276840209961],\n        ['pw-change-hasOAuth', -6.020192623138428],\n        ['pw-change-hasCaptchas', -6.094435691833496],\n        ['pw-change-hasFiles', -6.019965648651123],\n        ['pw-change-hasDate', -6.0917510986328125],\n        ['pw-change-hasNumber', -5.9969801902771],\n        ['pw-change-oneVisibleField', -6.002415657043457],\n        ['pw-change-twoVisibleFields', -3.203550100326538],\n        ['pw-change-threeOrMoreVisibleFields', -0.3700806796550751],\n        ['pw-change-noPasswords', -6.080013751983643],\n        ['pw-change-onePassword', -6.11261510848999],\n        ['pw-change-twoPasswords', 8.676774978637695],\n        ['pw-change-threeOrMorePasswords', 21.112510681152344],\n        ['pw-change-noIdentifiers', -1.1796106100082397],\n        ['pw-change-oneIdentifier', -6.061983585357666],\n        ['pw-change-twoIdentifiers', -6.058173179626465],\n        ['pw-change-threeOrMoreIdentifiers', 5.091548442840576],\n        ['pw-change-autofocusedIsIdentifier', -6.00584077835083],\n        ['pw-change-autofocusedIsPassword', 18.818191528320312],\n        ['pw-change-visibleRatio', -3.9976882934570312],\n        ['pw-change-inputRatio', -4.135244369506836],\n        ['pw-change-hiddenRatio', -4.6928911209106445],\n        ['pw-change-identifierRatio', -5.645566940307617],\n        ['pw-change-emailRatio', -5.27990198135376],\n        ['pw-change-usernameRatio', -5.980301380157471],\n        ['pw-change-passwordRatio', 2.5697388648986816],\n        ['pw-change-requiredRatio', -4.298543930053711],\n        ['pw-change-pageLogin', -6.6545891761779785],\n        ['pw-change-formTextLogin', -6.069674015045166],\n        ['pw-change-formAttrsLogin', -6.008601665496826],\n        ['pw-change-headingsLogin', -6.104516983032227],\n        ['pw-change-layoutLogin', -6.113276481628418],\n        ['pw-change-rememberMeCheckbox', -5.98100471496582],\n        ['pw-change-troubleLink', -3.5083694458007812],\n        ['pw-change-submitLogin', -5.973944187164307],\n        ['pw-change-pageRegister', -6.042017459869385],\n        ['pw-change-formTextRegister', -0.003753170371055603],\n        ['pw-change-formAttrsRegister', -5.9885687828063965],\n        ['pw-change-headingsRegister', -5.947304725646973],\n        ['pw-change-layoutRegister', -6.022477626800537],\n        ['pw-change-pwNewRegister', 11.521875381469727],\n        ['pw-change-pwConfirmRegister', 8.078765869140625],\n        ['pw-change-submitRegister', -7.831781387329102],\n        ['pw-change-TOSRef', -7.210099697113037],\n        ['pw-change-pagePwReset', 15.57581615447998],\n        ['pw-change-formTextPwReset', 21.870664596557617],\n        ['pw-change-formAttrsPwReset', 2.309565544128418],\n        ['pw-change-headingsPwReset', 17.286724090576172],\n        ['pw-change-layoutPwReset', 17.09604263305664],\n        ['pw-change-pageRecovery', -5.921884059906006],\n        ['pw-change-formTextRecovery', 0.0042142122983932495],\n        ['pw-change-formAttrsRecovery', -6.043474197387695],\n        ['pw-change-headingsRecovery', -6.025916576385498],\n        ['pw-change-layoutRecovery', -3.7101008892059326],\n        ['pw-change-identifierRecovery', -6.074601650238037],\n        ['pw-change-submitRecovery', 0.21354593336582184],\n        ['pw-change-formTextMFA', -0.08205196261405945],\n        ['pw-change-formAttrsMFA', -6.066544532775879],\n        ['pw-change-headingsMFA', -6.087264537811279],\n        ['pw-change-layoutMFA', -6.056689262390137],\n        ['pw-change-buttonVerify', -5.951312065124512],\n        ['pw-change-inputsMFA', -5.948700904846191],\n        ['pw-change-inputsOTP', -6.0769572257995605],\n        ['pw-change-linkOTPOutlier', -6.0518364906311035],\n        ['pw-change-newsletterForm', -6.098276615142822],\n        ['pw-change-searchForm', -6.091826438903809],\n        ['pw-change-multiStepForm', -6.061645030975342],\n        ['pw-change-multiAuthForm', -5.940724849700928],\n        ['pw-change-visibleRatio,fieldsCount', -2.4180796146392822],\n        ['pw-change-visibleRatio,identifierCount', -5.571571350097656],\n        ['pw-change-visibleRatio,passwordCount', 3.2050883769989014],\n        ['pw-change-visibleRatio,hiddenIdentifierCount', -2.8612427711486816],\n        ['pw-change-visibleRatio,hiddenPasswordCount', -5.957703590393066],\n        ['pw-change-identifierRatio,fieldsCount', -4.398279666900635],\n        ['pw-change-identifierRatio,identifierCount', -5.3426947593688965],\n        ['pw-change-identifierRatio,passwordCount', -4.260673522949219],\n        ['pw-change-identifierRatio,hiddenIdentifierCount', -5.975846767425537],\n        ['pw-change-identifierRatio,hiddenPasswordCount', -6.025809288024902],\n        ['pw-change-passwordRatio,fieldsCount', 5.445197105407715],\n        ['pw-change-passwordRatio,identifierCount', -4.19246244430542],\n        ['pw-change-passwordRatio,passwordCount', 7.724081516265869],\n        ['pw-change-passwordRatio,hiddenIdentifierCount', -0.5562503933906555],\n        ['pw-change-passwordRatio,hiddenPasswordCount', -5.928243637084961],\n        ['pw-change-requiredRatio,fieldsCount', -4.557121753692627],\n        ['pw-change-requiredRatio,identifierCount', -6.004215240478516],\n        ['pw-change-requiredRatio,passwordCount', -0.4066564440727234],\n        ['pw-change-requiredRatio,hiddenIdentifierCount', 2.6814191341400146],\n        ['pw-change-requiredRatio,hiddenPasswordCount', -6.092998504638672],\n    ],\n    bias: -4.181266784667969,\n    cutoff: 1,\n};\n\nconst passwordChange = {\n    name: FormType.PASSWORD_CHANGE,\n    coeffs: FORM_COMBINED_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `pw-change-${key}`,\n            (_b =\n                (_a = results$9.coeffs.find(([feature]) => feature === `pw-change-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$9.bias,\n    cutoff: results$9.cutoff,\n    getRules: () => [\n        rule(type('form'), type(FormType.PASSWORD_CHANGE), {}),\n        ...FORM_COMBINED_FEATURES.map((key) =>\n            rule(type(FormType.PASSWORD_CHANGE), featureScore('form', key), {\n                name: `pw-change-${key}`,\n            })\n        ),\n        ...outRuleForm(FormType.PASSWORD_CHANGE),\n    ],\n};\n\nconst results$8 = {\n    coeffs: [\n        ['register-fieldsCount', 2.362370252609253],\n        ['register-inputCount', 2.837401866912842],\n        ['register-fieldsetCount', 8.765313148498535],\n        ['register-textCount', 1.9133893251419067],\n        ['register-textareaCount', 4.142133712768555],\n        ['register-selectCount', -14.224530220031738],\n        ['register-optionsCount', 6.330267906188965],\n        ['register-checkboxCount', -25.936145782470703],\n        ['register-radioCount', 8.224635124206543],\n        ['register-identifierCount', 7.2187299728393555],\n        ['register-hiddenIdentifierCount', 37.0082893371582],\n        ['register-usernameCount', -8.83796501159668],\n        ['register-emailCount', 4.869508743286133],\n        ['register-hiddenCount', -21.550113677978516],\n        ['register-hiddenPasswordCount', 5.203642845153809],\n        ['register-submitCount', 3.790332555770874],\n        ['register-hasTels', 1.5802510976791382],\n        ['register-hasOAuth', 0.8392359018325806],\n        ['register-hasCaptchas', 7.090299129486084],\n        ['register-hasFiles', -6.01978063583374],\n        ['register-hasDate', 9.183618545532227],\n        ['register-hasNumber', 17.424856185913086],\n        ['register-oneVisibleField', 1.0652649402618408],\n        ['register-twoVisibleFields', -0.014923891983926296],\n        ['register-threeOrMoreVisibleFields', -0.3994748592376709],\n        ['register-noPasswords', -5.247304916381836],\n        ['register-onePassword', 2.5430071353912354],\n        ['register-twoPasswords', 17.91921043395996],\n        ['register-threeOrMorePasswords', -12.995139122009277],\n        ['register-noIdentifiers', -9.501411437988281],\n        ['register-oneIdentifier', 1.9811484813690186],\n        ['register-twoIdentifiers', 17.65282440185547],\n        ['register-threeOrMoreIdentifiers', 9.001635551452637],\n        ['register-autofocusedIsIdentifier', 1.7433881759643555],\n        ['register-autofocusedIsPassword', 10.129890441894531],\n        ['register-visibleRatio', -3.7862579822540283],\n        ['register-inputRatio', -6.217695713043213],\n        ['register-hiddenRatio', 3.421144723892212],\n        ['register-identifierRatio', 1.7580124139785767],\n        ['register-emailRatio', -4.794466018676758],\n        ['register-usernameRatio', -5.049823760986328],\n        ['register-passwordRatio', -1.7093111276626587],\n        ['register-requiredRatio', -15.015048027038574],\n        ['register-pageLogin', -8.104620933532715],\n        ['register-formTextLogin', -6.126318454742432],\n        ['register-formAttrsLogin', -2.523662805557251],\n        ['register-headingsLogin', -20.404699325561523],\n        ['register-layoutLogin', 4.029855251312256],\n        ['register-rememberMeCheckbox', -13.76594066619873],\n        ['register-troubleLink', -14.39452075958252],\n        ['register-submitLogin', -7.199018955230713],\n        ['register-pageRegister', 3.3388426303863525],\n        ['register-formTextRegister', 0.08324933797121048],\n        ['register-formAttrsRegister', 5.551745891571045],\n        ['register-headingsRegister', 18.434162139892578],\n        ['register-layoutRegister', -7.501842498779297],\n        ['register-pwNewRegister', 13.238775253295898],\n        ['register-pwConfirmRegister', 0.9260985255241394],\n        ['register-submitRegister', 24.358577728271484],\n        ['register-TOSRef', 17.698013305664062],\n        ['register-pagePwReset', -7.533756256103516],\n        ['register-formTextPwReset', -11.096601486206055],\n        ['register-formAttrsPwReset', -6.135773658752441],\n        ['register-headingsPwReset', -19.26188850402832],\n        ['register-layoutPwReset', -50.745513916015625],\n        ['register-pageRecovery', -9.36242389678955],\n        ['register-formTextRecovery', -0.08290725201368332],\n        ['register-formAttrsRecovery', -11.68251895904541],\n        ['register-headingsRecovery', -22.864294052124023],\n        ['register-layoutRecovery', 0.5531991720199585],\n        ['register-identifierRecovery', -38.80854415893555],\n        ['register-submitRecovery', -34.05256271362305],\n        ['register-formTextMFA', -0.053467243909835815],\n        ['register-formAttrsMFA', -10.316544532775879],\n        ['register-headingsMFA', -6.048505783081055],\n        ['register-layoutMFA', 1.4168857336044312],\n        ['register-buttonVerify', -5.761650562286377],\n        ['register-inputsMFA', -5.611318588256836],\n        ['register-inputsOTP', -16.50144386291504],\n        ['register-linkOTPOutlier', 1.8946620225906372],\n        ['register-newsletterForm', -24.141237258911133],\n        ['register-searchForm', -9.003437995910645],\n        ['register-multiStepForm', 10.418683052062988],\n        ['register-multiAuthForm', 0.8877530694007874],\n        ['register-visibleRatio,fieldsCount', -4.94736909866333],\n        ['register-visibleRatio,identifierCount', 1.2236768007278442],\n        ['register-visibleRatio,passwordCount', 10.930631637573242],\n        ['register-visibleRatio,hiddenIdentifierCount', -2.8793866634368896],\n        ['register-visibleRatio,hiddenPasswordCount', -15.696733474731445],\n        ['register-identifierRatio,fieldsCount', 8.976302146911621],\n        ['register-identifierRatio,identifierCount', 3.3057174682617188],\n        ['register-identifierRatio,passwordCount', -27.75908088684082],\n        ['register-identifierRatio,hiddenIdentifierCount', -30.63140869140625],\n        ['register-identifierRatio,hiddenPasswordCount', -8.314364433288574],\n        ['register-passwordRatio,fieldsCount', 4.567010402679443],\n        ['register-passwordRatio,identifierCount', -30.78325843811035],\n        ['register-passwordRatio,passwordCount', -8.563604354858398],\n        ['register-passwordRatio,hiddenIdentifierCount', 9.453499794006348],\n        ['register-passwordRatio,hiddenPasswordCount', -21.219482421875],\n        ['register-requiredRatio,fieldsCount', 6.070632457733154],\n        ['register-requiredRatio,identifierCount', -4.97599458694458],\n        ['register-requiredRatio,passwordCount', -3.0610127449035645],\n        ['register-requiredRatio,hiddenIdentifierCount', 5.481305122375488],\n        ['register-requiredRatio,hiddenPasswordCount', -7.142623424530029],\n    ],\n    bias: -0.184351846575737,\n    cutoff: 0.46,\n};\n\nconst register = {\n    name: FormType.REGISTER,\n    coeffs: FORM_COMBINED_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `register-${key}`,\n            (_b =\n                (_a = results$8.coeffs.find(([feature]) => feature === `register-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$8.bias,\n    cutoff: results$8.cutoff,\n    getRules: () => [\n        rule(type('form'), type(FormType.REGISTER), {}),\n        ...FORM_COMBINED_FEATURES.map((key) =>\n            rule(type(FormType.REGISTER), featureScore('form', key), {\n                name: `register-${key}`,\n            })\n        ),\n        ...outRuleForm(FormType.REGISTER),\n    ],\n};\n\nconst results$7 = {\n    coeffs: [\n        ['recovery-fieldsCount', 2.9468753337860107],\n        ['recovery-inputCount', 1.3503469228744507],\n        ['recovery-fieldsetCount', -10.810975074768066],\n        ['recovery-textCount', -1.8279292583465576],\n        ['recovery-textareaCount', -21.492197036743164],\n        ['recovery-selectCount', -13.592978477478027],\n        ['recovery-optionsCount', -17.58130645751953],\n        ['recovery-checkboxCount', -6.0524983406066895],\n        ['recovery-radioCount', -5.997797012329102],\n        ['recovery-identifierCount', 0.6705901026725769],\n        ['recovery-hiddenIdentifierCount', -10.739842414855957],\n        ['recovery-usernameCount', 9.889817237854004],\n        ['recovery-emailCount', 3.0324909687042236],\n        ['recovery-hiddenCount', 2.290848970413208],\n        ['recovery-hiddenPasswordCount', -11.020482063293457],\n        ['recovery-submitCount', 10.217000961303711],\n        ['recovery-hasTels', -14.358436584472656],\n        ['recovery-hasOAuth', -13.818014144897461],\n        ['recovery-hasCaptchas', 0.8105263113975525],\n        ['recovery-hasFiles', -33.370689392089844],\n        ['recovery-hasDate', -5.96655797958374],\n        ['recovery-hasNumber', -6.0155439376831055],\n        ['recovery-oneVisibleField', -6.761075973510742],\n        ['recovery-twoVisibleFields', -2.4473540782928467],\n        ['recovery-threeOrMoreVisibleFields', 4.076838970184326],\n        ['recovery-noPasswords', 1.1535019874572754],\n        ['recovery-onePassword', -11.37360954284668],\n        ['recovery-twoPasswords', -6.176883697509766],\n        ['recovery-threeOrMorePasswords', -5.964442729949951],\n        ['recovery-noIdentifiers', -13.237776756286621],\n        ['recovery-oneIdentifier', 0.8827781677246094],\n        ['recovery-twoIdentifiers', 2.3528895378112793],\n        ['recovery-threeOrMoreIdentifiers', -7.170403480529785],\n        ['recovery-autofocusedIsIdentifier', -2.1456665992736816],\n        ['recovery-autofocusedIsPassword', -6.100790500640869],\n        ['recovery-visibleRatio', -0.2284478396177292],\n        ['recovery-inputRatio', -4.862339496612549],\n        ['recovery-hiddenRatio', 0.6300581693649292],\n        ['recovery-identifierRatio', -0.0008907365845516324],\n        ['recovery-emailRatio', 0.7129876017570496],\n        ['recovery-usernameRatio', 9.101212501525879],\n        ['recovery-passwordRatio', -10.24507999420166],\n        ['recovery-requiredRatio', 0.5008516311645508],\n        ['recovery-pageLogin', -1.9654295444488525],\n        ['recovery-formTextLogin', -6.046305179595947],\n        ['recovery-formAttrsLogin', -0.20629888772964478],\n        ['recovery-headingsLogin', 3.684687614440918],\n        ['recovery-layoutLogin', -11.729497909545898],\n        ['recovery-rememberMeCheckbox', -6.098155498504639],\n        ['recovery-troubleLink', 8.048826217651367],\n        ['recovery-submitLogin', -3.496102809906006],\n        ['recovery-pageRegister', -10.78529167175293],\n        ['recovery-formTextRegister', 0.07379800826311111],\n        ['recovery-formAttrsRegister', -10.632439613342285],\n        ['recovery-headingsRegister', -4.230288505554199],\n        ['recovery-layoutRegister', -8.162598609924316],\n        ['recovery-pwNewRegister', -5.915377616882324],\n        ['recovery-pwConfirmRegister', -6.005645275115967],\n        ['recovery-submitRegister', -7.558742523193359],\n        ['recovery-TOSRef', -13.41579818725586],\n        ['recovery-pagePwReset', 7.072674751281738],\n        ['recovery-formTextPwReset', -6.124579429626465],\n        ['recovery-formAttrsPwReset', 12.587642669677734],\n        ['recovery-headingsPwReset', 13.445631980895996],\n        ['recovery-layoutPwReset', 7.3640289306640625],\n        ['recovery-pageRecovery', 16.70408821105957],\n        ['recovery-formTextRecovery', 0.09002750366926193],\n        ['recovery-formAttrsRecovery', 20.956863403320312],\n        ['recovery-headingsRecovery', 4.639616966247559],\n        ['recovery-layoutRecovery', 1.6746588945388794],\n        ['recovery-identifierRecovery', 17.248889923095703],\n        ['recovery-submitRecovery', 17.55217933654785],\n        ['recovery-formTextMFA', 0.09250178188085556],\n        ['recovery-formAttrsMFA', 9.312702178955078],\n        ['recovery-headingsMFA', -7.346992015838623],\n        ['recovery-layoutMFA', -6.046095848083496],\n        ['recovery-buttonVerify', 2.245163679122925],\n        ['recovery-inputsMFA', 7.326199531555176],\n        ['recovery-inputsOTP', -0.3742956221103668],\n        ['recovery-linkOTPOutlier', 0.03263930603861809],\n        ['recovery-newsletterForm', -12.622711181640625],\n        ['recovery-searchForm', -12.154385566711426],\n        ['recovery-multiStepForm', 2.5059449672698975],\n        ['recovery-multiAuthForm', -7.017187595367432],\n        ['recovery-visibleRatio,fieldsCount', 2.8967862129211426],\n        ['recovery-visibleRatio,identifierCount', 0.30757084488868713],\n        ['recovery-visibleRatio,passwordCount', -9.224845886230469],\n        ['recovery-visibleRatio,hiddenIdentifierCount', -12.625198364257812],\n        ['recovery-visibleRatio,hiddenPasswordCount', -11.22750473022461],\n        ['recovery-identifierRatio,fieldsCount', 4.218894004821777],\n        ['recovery-identifierRatio,identifierCount', 1.2468029260635376],\n        ['recovery-identifierRatio,passwordCount', -11.789216041564941],\n        ['recovery-identifierRatio,hiddenIdentifierCount', -23.854400634765625],\n        ['recovery-identifierRatio,hiddenPasswordCount', -13.74135684967041],\n        ['recovery-passwordRatio,fieldsCount', -10.033166885375977],\n        ['recovery-passwordRatio,identifierCount', -11.931415557861328],\n        ['recovery-passwordRatio,passwordCount', -9.740442276000977],\n        ['recovery-passwordRatio,hiddenIdentifierCount', -6.072946071624756],\n        ['recovery-passwordRatio,hiddenPasswordCount', -5.952763080596924],\n        ['recovery-requiredRatio,fieldsCount', 7.939888954162598],\n        ['recovery-requiredRatio,identifierCount', 1.4586714506149292],\n        ['recovery-requiredRatio,passwordCount', -7.755424499511719],\n        ['recovery-requiredRatio,hiddenIdentifierCount', 8.597173690795898],\n        ['recovery-requiredRatio,hiddenPasswordCount', -10.700529098510742],\n    ],\n    bias: -4.4366536140441895,\n    cutoff: 0.5,\n};\n\nconst recovery = {\n    name: FormType.RECOVERY,\n    coeffs: FORM_COMBINED_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `recovery-${key}`,\n            (_b =\n                (_a = results$7.coeffs.find(([feature]) => feature === `recovery-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$7.bias,\n    cutoff: results$7.cutoff,\n    getRules: () => [\n        rule(type('form'), type(FormType.RECOVERY), {}),\n        ...FORM_COMBINED_FEATURES.map((key) =>\n            rule(type(FormType.RECOVERY), featureScore('form', key), {\n                name: `recovery-${key}`,\n            })\n        ),\n        ...outRuleForm(FormType.RECOVERY),\n    ],\n};\n\nconst results$6 = {\n    coeffs: [\n        ['mfa-fieldsCount', -2.5352344512939453],\n        ['mfa-inputCount', -2.2596518993377686],\n        ['mfa-fieldsetCount', 9.168499946594238],\n        ['mfa-textCount', -3.830913543701172],\n        ['mfa-textareaCount', -12.279956817626953],\n        ['mfa-selectCount', -6.029440879821777],\n        ['mfa-optionsCount', -6.103457450866699],\n        ['mfa-checkboxCount', 10.036210060119629],\n        ['mfa-radioCount', -5.925504207611084],\n        ['mfa-identifierCount', -2.5354225635528564],\n        ['mfa-hiddenIdentifierCount', -3.5855026245117188],\n        ['mfa-usernameCount', -3.0602524280548096],\n        ['mfa-emailCount', -6.215173244476318],\n        ['mfa-hiddenCount', -1.8928254842758179],\n        ['mfa-hiddenPasswordCount', -2.7605128288269043],\n        ['mfa-submitCount', -3.383518934249878],\n        ['mfa-hasTels', 14.10832405090332],\n        ['mfa-hasOAuth', -6.050330638885498],\n        ['mfa-hasCaptchas', -3.4902596473693848],\n        ['mfa-hasFiles', -6.039501190185547],\n        ['mfa-hasDate', -6.024112224578857],\n        ['mfa-hasNumber', 11.431431770324707],\n        ['mfa-oneVisibleField', -1.2681443691253662],\n        ['mfa-twoVisibleFields', -5.593074798583984],\n        ['mfa-threeOrMoreVisibleFields', -1.0365729331970215],\n        ['mfa-noPasswords', -0.1619742065668106],\n        ['mfa-onePassword', -5.395876407623291],\n        ['mfa-twoPasswords', -5.911652088165283],\n        ['mfa-threeOrMorePasswords', -5.909731864929199],\n        ['mfa-noIdentifiers', -1.5478696823120117],\n        ['mfa-oneIdentifier', -3.91365385055542],\n        ['mfa-twoIdentifiers', -0.30769965052604675],\n        ['mfa-threeOrMoreIdentifiers', 8.300286293029785],\n        ['mfa-autofocusedIsIdentifier', -5.487388610839844],\n        ['mfa-autofocusedIsPassword', 8.171111106872559],\n        ['mfa-visibleRatio', -2.219055414199829],\n        ['mfa-inputRatio', -2.4705567359924316],\n        ['mfa-hiddenRatio', -1.1380927562713623],\n        ['mfa-identifierRatio', -2.431986093521118],\n        ['mfa-emailRatio', -5.942597389221191],\n        ['mfa-usernameRatio', -3.5471761226654053],\n        ['mfa-passwordRatio', -5.7649359703063965],\n        ['mfa-requiredRatio', -0.0819646492600441],\n        ['mfa-pageLogin', 0.48778676986694336],\n        ['mfa-formTextLogin', -5.97883415222168],\n        ['mfa-formAttrsLogin', -1.8712424039840698],\n        ['mfa-headingsLogin', -5.147589683532715],\n        ['mfa-layoutLogin', 0.1822393387556076],\n        ['mfa-rememberMeCheckbox', 11.12238883972168],\n        ['mfa-troubleLink', -3.595855236053467],\n        ['mfa-submitLogin', 1.2079999446868896],\n        ['mfa-pageRegister', -4.169407844543457],\n        ['mfa-formTextRegister', 0.021801725029945374],\n        ['mfa-formAttrsRegister', -4.12054967880249],\n        ['mfa-headingsRegister', -7.482975006103516],\n        ['mfa-layoutRegister', -2.0715880393981934],\n        ['mfa-pwNewRegister', -5.980484485626221],\n        ['mfa-pwConfirmRegister', -5.922152519226074],\n        ['mfa-submitRegister', -5.999881744384766],\n        ['mfa-TOSRef', -2.3809683322906494],\n        ['mfa-pagePwReset', -6.084693431854248],\n        ['mfa-formTextPwReset', -5.964926242828369],\n        ['mfa-formAttrsPwReset', -5.9853835105896],\n        ['mfa-headingsPwReset', -5.944786548614502],\n        ['mfa-layoutPwReset', -6.026767730712891],\n        ['mfa-pageRecovery', 0.10128218680620193],\n        ['mfa-formTextRecovery', 0.03583992272615433],\n        ['mfa-formAttrsRecovery', -6.131645202636719],\n        ['mfa-headingsRecovery', -5.973701477050781],\n        ['mfa-layoutRecovery', 2.112729549407959],\n        ['mfa-identifierRecovery', -6.040597438812256],\n        ['mfa-submitRecovery', -0.5088043212890625],\n        ['mfa-formTextMFA', -0.04993769899010658],\n        ['mfa-formAttrsMFA', 16.836654663085938],\n        ['mfa-headingsMFA', 19.18885612487793],\n        ['mfa-layoutMFA', 14.88567066192627],\n        ['mfa-buttonVerify', 18.75471305847168],\n        ['mfa-inputsMFA', 18.60780143737793],\n        ['mfa-inputsOTP', 18.72716522216797],\n        ['mfa-linkOTPOutlier', -1.914113998413086],\n        ['mfa-newsletterForm', -6.049367427825928],\n        ['mfa-searchForm', -6.157653331756592],\n        ['mfa-multiStepForm', 4.077035903930664],\n        ['mfa-multiAuthForm', -6.020055770874023],\n        ['mfa-visibleRatio,fieldsCount', -0.19913317263126373],\n        ['mfa-visibleRatio,identifierCount', -2.236660957336426],\n        ['mfa-visibleRatio,passwordCount', -4.933017253875732],\n        ['mfa-visibleRatio,hiddenIdentifierCount', -7.850498199462891],\n        ['mfa-visibleRatio,hiddenPasswordCount', -2.2999541759490967],\n        ['mfa-identifierRatio,fieldsCount', 0.4287944436073303],\n        ['mfa-identifierRatio,identifierCount', -1.4442564249038696],\n        ['mfa-identifierRatio,passwordCount', -5.574307918548584],\n        ['mfa-identifierRatio,hiddenIdentifierCount', -0.8090336918830872],\n        ['mfa-identifierRatio,hiddenPasswordCount', -0.2954331636428833],\n        ['mfa-passwordRatio,fieldsCount', -5.37825870513916],\n        ['mfa-passwordRatio,identifierCount', -5.596229553222656],\n        ['mfa-passwordRatio,passwordCount', -5.733912944793701],\n        ['mfa-passwordRatio,hiddenIdentifierCount', -8.260907173156738],\n        ['mfa-passwordRatio,hiddenPasswordCount', -5.920205116271973],\n        ['mfa-requiredRatio,fieldsCount', -3.8394527435302734],\n        ['mfa-requiredRatio,identifierCount', -2.853469133377075],\n        ['mfa-requiredRatio,passwordCount', -4.214841365814209],\n        ['mfa-requiredRatio,hiddenIdentifierCount', -5.997474670410156],\n        ['mfa-requiredRatio,hiddenPasswordCount', -6.066811561584473],\n    ],\n    bias: -2.750563859939575,\n    cutoff: 0.5,\n};\n\nconst mfa = {\n    name: FormType.MFA,\n    coeffs: FORM_COMBINED_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `mfa-${key}`,\n            (_b =\n                (_a = results$6.coeffs.find(([feature]) => feature === `mfa-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$6.bias,\n    cutoff: results$6.cutoff,\n    getRules: () => [\n        rule(type('form'), type(FormType.MFA), {}),\n        ...FORM_COMBINED_FEATURES.map((key) =>\n            rule(type(FormType.MFA), featureScore('form', key), {\n                name: `mfa-${key}`,\n            })\n        ),\n        ...outRuleForm(FormType.MFA),\n    ],\n};\n\nconst getPasswordFieldFeatures = (fnode) => {\n    var _a, _b;\n    const fieldFeatures = fnode.noteFor('field');\n    const { fieldAttrs, fieldText, labelText, prevField, nextField } = fieldFeatures;\n    const attrCreate = any(matchPasswordCreateAttr)(fieldAttrs);\n    const attrCurrent = any(matchPasswordCurrentAttr)(fieldAttrs);\n    const attrConfirm = any(matchPasswordConfirmAttr)(fieldAttrs);\n    const attrReset = any(matchPasswordResetAttr)(fieldAttrs);\n    const textCreate = matchPasswordCreate(fieldText);\n    const textCurrent = matchPasswordCurrent(fieldText);\n    const textConfirm = matchPasswordConfirm(fieldText);\n    const textReset = matchPasswordReset(fieldText);\n    const labelCreate = matchPasswordCreate(labelText);\n    const labelCurrent = matchPasswordCurrent(labelText);\n    const labelConfirm = matchPasswordConfirm(labelText);\n    const labelReset = matchPasswordReset(labelText);\n    const passwordOutlier = any(matchPasswordOutlier)(fieldAttrs.concat(labelText, fieldText));\n    const prevPwHaystack =\n        prevField && prevField.getAttribute('type') === 'password' ? getAllFieldHaystacks(prevField) : [];\n    const nextPwHaystack =\n        nextField && nextField.getAttribute('type') === 'password' ? getAllFieldHaystacks(nextField) : [];\n    const prevPwCreate = any(matchPasswordCreate)(prevPwHaystack);\n    const prevPwCurrent = any(matchPasswordCurrent)(prevPwHaystack);\n    const prevPwConfirm = any(matchPasswordConfirm)(prevPwHaystack);\n    const nextPwCreate = any(matchPasswordCreate)(nextPwHaystack);\n    const nextPwCurrent = any(matchPasswordCurrent)(nextPwHaystack);\n    const nextPwConfirm = any(matchPasswordConfirm)(nextPwHaystack);\n    return {\n        loginScore: boolInt(fieldFeatures.isFormLogin),\n        registerScore: boolInt(fieldFeatures.isFormRegister),\n        pwChangeScore: boolInt(fieldFeatures.isFormPWChange),\n        exotic: boolInt(fieldFeatures.isFormNoop),\n        autocompleteNew: boolInt(fieldFeatures.autocomplete === 'new-password'),\n        autocompleteCurrent: boolInt(fieldFeatures.autocomplete === 'current-password'),\n        autocompleteOff: boolInt(fieldFeatures.autocomplete === 'off'),\n        isOnlyPassword:\n            (_b = (_a = fieldFeatures.formFeatures) === null || _a === void 0 ? void 0 : _a.onePassword) !== null &&\n            _b !== void 0\n                ? _b\n                : 0,\n        prevPwField: boolInt(prevField !== null),\n        nextPwField: boolInt(nextField !== null),\n        attrCreate: boolInt(attrCreate),\n        attrCurrent: boolInt(attrCurrent),\n        attrConfirm: boolInt(attrConfirm),\n        attrReset: boolInt(attrReset),\n        textCreate: boolInt(textCreate),\n        textCurrent: boolInt(textCurrent),\n        textConfirm: boolInt(textConfirm),\n        textReset: boolInt(textReset),\n        labelCreate: boolInt(labelCreate),\n        labelCurrent: boolInt(labelCurrent),\n        labelConfirm: boolInt(labelConfirm),\n        labelReset: boolInt(labelReset),\n        passwordOutlier: boolInt(passwordOutlier),\n        prevPwCreate: boolInt(prevPwCreate),\n        prevPwCurrent: boolInt(prevPwCurrent),\n        prevPwConfirm: boolInt(prevPwConfirm),\n        nextPwCreate: boolInt(nextPwCreate),\n        nextPwCurrent: boolInt(nextPwCurrent),\n        nextPwConfirm: boolInt(nextPwConfirm),\n    };\n};\n\nconst PW_FIELD_FEATURES = [\n    'loginScore',\n    'registerScore',\n    'pwChangeScore',\n    'exotic',\n    'autocompleteNew',\n    'autocompleteCurrent',\n    'autocompleteOff',\n    'isOnlyPassword',\n    'prevPwField',\n    'nextPwField',\n    'attrCreate',\n    'attrCurrent',\n    'attrConfirm',\n    'attrReset',\n    'textCreate',\n    'textCurrent',\n    'textConfirm',\n    'textReset',\n    'labelCreate',\n    'labelCurrent',\n    'labelConfirm',\n    'labelReset',\n    'prevPwCreate',\n    'prevPwCurrent',\n    'prevPwConfirm',\n    'passwordOutlier',\n    'nextPwCreate',\n    'nextPwCurrent',\n    'nextPwConfirm',\n];\n\nconst results$5 = {\n    coeffs: [\n        ['pw-loginScore', 12.887166023254395],\n        ['pw-registerScore', -13.405702590942383],\n        ['pw-pwChangeScore', 2.6071674823760986],\n        ['pw-exotic', -12.550917625427246],\n        ['pw-autocompleteNew', -3.408633232116699],\n        ['pw-autocompleteCurrent', 0.8965198993682861],\n        ['pw-autocompleteOff', -4.487673759460449],\n        ['pw-isOnlyPassword', 5.900580406188965],\n        ['pw-prevPwField', 5.347959041595459],\n        ['pw-nextPwField', -6.7714948654174805],\n        ['pw-attrCreate', -5.640598297119141],\n        ['pw-attrCurrent', 3.0741946697235107],\n        ['pw-attrConfirm', -6.180918216705322],\n        ['pw-attrReset', -0.07674689590930939],\n        ['pw-textCreate', -2.5166683197021484],\n        ['pw-textCurrent', 1.610274076461792],\n        ['pw-textConfirm', -6.297961235046387],\n        ['pw-textReset', 0.18272946774959564],\n        ['pw-labelCreate', -6.821840763092041],\n        ['pw-labelCurrent', 12.961837768554688],\n        ['pw-labelConfirm', -6.5445051193237305],\n        ['pw-labelReset', 0.0004947483539581299],\n        ['pw-prevPwCreate', -9.032193183898926],\n        ['pw-prevPwCurrent', -12.046880722045898],\n        ['pw-prevPwConfirm', -0.08800123631954193],\n        ['pw-passwordOutlier', -6.50806999206543],\n        ['pw-nextPwCreate', 15.495784759521484],\n        ['pw-nextPwCurrent', -7.467685699462891],\n        ['pw-nextPwConfirm', -6.764221668243408],\n    ],\n    bias: -6.981969356536865,\n    cutoff: 0.5,\n};\n\nconst password = {\n    name: FieldType.PASSWORD_CURRENT,\n    coeffs: PW_FIELD_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `pw-${key}`,\n            (_b =\n                (_a = results$5.coeffs.find(([feature]) => feature === `pw-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$5.bias,\n    cutoff: results$5.cutoff,\n    getRules: () => [\n        rule(type('password-field'), type(FieldType.PASSWORD_CURRENT), {}),\n        ...PW_FIELD_FEATURES.map((key) =>\n            rule(type(FieldType.PASSWORD_CURRENT), featureScore('password-field', key), {\n                name: `pw-${key}`,\n            })\n        ),\n        ...outRuleField(FieldType.PASSWORD_CURRENT),\n    ],\n};\n\nconst results$4 = {\n    coeffs: [\n        ['pw[new]-loginScore', -11.681303024291992],\n        ['pw[new]-registerScore', 13.370966911315918],\n        ['pw[new]-pwChangeScore', 1.0602260828018188],\n        ['pw[new]-exotic', 15.827722549438477],\n        ['pw[new]-autocompleteNew', 1.470073938369751],\n        ['pw[new]-autocompleteCurrent', -0.4377177059650421],\n        ['pw[new]-autocompleteOff', -1.1774088144302368],\n        ['pw[new]-isOnlyPassword', -1.915258765220642],\n        ['pw[new]-prevPwField', 0.9167068004608154],\n        ['pw[new]-nextPwField', 9.527260780334473],\n        ['pw[new]-attrCreate', 3.7244374752044678],\n        ['pw[new]-attrCurrent', 2.8675432205200195],\n        ['pw[new]-attrConfirm', 7.626920223236084],\n        ['pw[new]-attrReset', -0.023226246237754822],\n        ['pw[new]-textCreate', 1.429916262626648],\n        ['pw[new]-textCurrent', -1.461758017539978],\n        ['pw[new]-textConfirm', -15.714858055114746],\n        ['pw[new]-textReset', 0.1688387244939804],\n        ['pw[new]-labelCreate', 7.77410888671875],\n        ['pw[new]-labelCurrent', -13.488378524780273],\n        ['pw[new]-labelConfirm', 7.817841529846191],\n        ['pw[new]-labelReset', -0.014650598168373108],\n        ['pw[new]-prevPwCreate', 10.933138847351074],\n        ['pw[new]-prevPwCurrent', 9.294036865234375],\n        ['pw[new]-prevPwConfirm', 0.04368200898170471],\n        ['pw[new]-passwordOutlier', -28.666568756103516],\n        ['pw[new]-nextPwCreate', -12.405623435974121],\n        ['pw[new]-nextPwCurrent', 8.7117919921875],\n        ['pw[new]-nextPwConfirm', 9.800070762634277],\n    ],\n    bias: -3.2627315521240234,\n    cutoff: 0.5,\n};\n\nconst newPassword = {\n    name: FieldType.PASSWORD_NEW,\n    coeffs: PW_FIELD_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `pw[new]-${key}`,\n            (_b =\n                (_a = results$4.coeffs.find(([feature]) => feature === `pw[new]-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$4.bias,\n    cutoff: results$4.cutoff,\n    getRules: () => [\n        rule(type('password-field'), type(FieldType.PASSWORD_NEW), {}),\n        ...PW_FIELD_FEATURES.map((key) =>\n            rule(type(FieldType.PASSWORD_NEW), featureScore('password-field', key), {\n                name: `pw[new]-${key}`,\n            })\n        ),\n        ...outRuleField(FieldType.PASSWORD_NEW),\n    ],\n};\n\nconst getUsernameFieldFeatures = (fnode) => {\n    const fieldFeatures = fnode.noteFor('field');\n    const { fieldAttrs, fieldText, labelText, prevField } = fieldFeatures;\n    const attrUsername = any(matchUsernameAttr)(fieldAttrs);\n    const textUsername = matchUsername(fieldText);\n    const labelUsername = matchUsername(labelText);\n    const outlierUsername = any(matchUsernameOutlier)(fieldAttrs.concat(fieldText, labelText));\n    const haystack = fieldAttrs.concat(fieldText).concat(labelText);\n    const outlier = outlierUsername || any(matchEmailAttr)(haystack);\n    const loginForm = fieldFeatures.isFormLogin;\n    const isFirstField = prevField === null;\n    const loginUsername = loginForm && isFirstField && !outlier;\n    return {\n        autocompleteUsername: boolInt(fieldFeatures.autocomplete === 'username'),\n        autocompleteNickname: boolInt(fieldFeatures.autocomplete === 'nickname'),\n        autocompleteEmail: boolInt(fieldFeatures.autocomplete === 'email'),\n        autocompleteOff: boolInt(fieldFeatures.autocomplete === 'off'),\n        attrUsername: boolInt(attrUsername),\n        textUsername: boolInt(textUsername),\n        labelUsername: boolInt(labelUsername),\n        outlierUsername: boolInt(outlier),\n        loginUsername: boolInt(loginUsername),\n        searchField: boolInt(fieldFeatures.searchField),\n    };\n};\n\nconst USERNAME_FIELD_FEATURES = [\n    'autocompleteUsername',\n    'autocompleteNickname',\n    'autocompleteEmail',\n    'autocompleteOff',\n    'attrUsername',\n    'textUsername',\n    'labelUsername',\n    'outlierUsername',\n    'loginUsername',\n    'searchField',\n];\n\nconst results$3 = {\n    coeffs: [\n        ['username-autocompleteUsername', 8.453776359558105],\n        ['username-autocompleteNickname', 0.15657112002372742],\n        ['username-autocompleteEmail', -6.43278169631958],\n        ['username-autocompleteOff', -0.3063298761844635],\n        ['username-attrUsername', 18.27342414855957],\n        ['username-textUsername', 15.821564674377441],\n        ['username-labelUsername', 17.645084381103516],\n        ['username-outlierUsername', -0.060660842806100845],\n        ['username-loginUsername', 18.617919921875],\n        ['username-searchField', -7.105180740356445],\n    ],\n    bias: -9.840888977050781,\n    cutoff: 0.5,\n};\n\nconst username = {\n    name: FieldType.USERNAME,\n    coeffs: USERNAME_FIELD_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `username-${key}`,\n            (_b =\n                (_a = results$3.coeffs.find(([feature]) => feature === `username-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$3.bias,\n    cutoff: results$3.cutoff,\n    getRules: () => [\n        rule(type('username-field'), type(FieldType.USERNAME), {}),\n        ...USERNAME_FIELD_FEATURES.map((key) =>\n            rule(type(FieldType.USERNAME), featureScore('username-field', key), {\n                name: `username-${key}`,\n            })\n        ),\n        ...outRuleField(FieldType.USERNAME),\n    ],\n};\n\nconst getHiddenUserFieldFeatures = (fnode) => {\n    const field = fnode.element;\n    const fieldFeatures = fnode.noteFor('field');\n    const { fieldAttrs, autocomplete } = fieldFeatures;\n    const attrUsername = any(matchUsernameAttr)(fieldAttrs);\n    const attrEmail = any(matchEmailAttr)(fieldAttrs);\n    const usernameAttr = field.matches('[name=\"username\"],[id=\"username\"]');\n    const autocompleteUsername = autocomplete === 'username';\n    const visibleReadonly =\n        field.readOnly &&\n        isVisible(field, {\n            opacity: true,\n        }) &&\n        field.type !== 'hidden';\n    const valueEmail = matchEmailValue(fieldFeatures.value);\n    const valueTel = matchTelValue(fieldFeatures.value);\n    const valueUsername = matchUsernameValue(fieldFeatures.value);\n    return {\n        exotic: boolInt(fieldFeatures.isFormNoop),\n        attrUsername: boolInt(attrUsername),\n        attrEmail: boolInt(attrEmail),\n        usernameAttr: boolInt(usernameAttr),\n        autocompleteUsername: boolInt(autocompleteUsername),\n        visibleReadonly: boolInt(visibleReadonly),\n        hiddenEmailValue: boolInt(valueEmail),\n        hiddenTelValue: boolInt(valueTel),\n        hiddenUsernameValue: boolInt(valueUsername),\n    };\n};\n\nconst HIDDEN_USER_FIELD_FEATURES = [\n    'exotic',\n    'attrUsername',\n    'attrEmail',\n    'usernameAttr',\n    'autocompleteUsername',\n    'visibleReadonly',\n    'hiddenEmailValue',\n    'hiddenTelValue',\n    'hiddenUsernameValue',\n];\n\nconst results$2 = {\n    coeffs: [\n        ['username[hidden]-exotic', -7.471665382385254],\n        ['username[hidden]-attrUsername', 14.034014701843262],\n        ['username[hidden]-attrEmail', 12.979315757751465],\n        ['username[hidden]-usernameAttr', 16.11762046813965],\n        ['username[hidden]-autocompleteUsername', 1.2201379537582397],\n        ['username[hidden]-visibleReadonly', 13.086629867553711],\n        ['username[hidden]-hiddenEmailValue', 14.759063720703125],\n        ['username[hidden]-hiddenTelValue', 6.474707126617432],\n        ['username[hidden]-hiddenUsernameValue', -0.821063220500946],\n    ],\n    bias: -20.621335983276367,\n    cutoff: 0.5,\n};\n\nconst usernameHidden = {\n    name: FieldType.USERNAME_HIDDEN,\n    coeffs: HIDDEN_USER_FIELD_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `username[hidden]-${key}`,\n            (_b =\n                (_a = results$2.coeffs.find(([feature]) => feature === `username[hidden]-${key}`)) === null ||\n                _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$2.bias,\n    cutoff: results$2.cutoff,\n    getRules: () => [\n        rule(type('username-hidden-field'), type(FieldType.USERNAME_HIDDEN), {}),\n        ...HIDDEN_USER_FIELD_FEATURES.map((key) =>\n            rule(type(FieldType.USERNAME_HIDDEN), featureScore('username-hidden-field', key), {\n                name: `username[hidden]-${key}`,\n            })\n        ),\n        ...outRuleField(FieldType.USERNAME_HIDDEN),\n    ],\n};\n\nconst getEmailFieldFeatures = (fnode) => {\n    const field = fnode.element;\n    const fieldFeatures = fnode.noteFor('field');\n    const { fieldAttrs, fieldText, labelText } = fieldFeatures;\n    const typeEmail = fieldFeatures.type === 'email';\n    const exactAttrEmail = field.matches(kEmailSelector);\n    const attrEmail = any(matchEmailAttr)(fieldAttrs);\n    const textEmail = matchEmail(fieldText);\n    const labelEmail = matchEmail(labelText);\n    const placeholderEmail = any(or([matchEmailValue, matchEmail]))(field.placeholder.split(' '));\n    return {\n        autocompleteUsername: boolInt(fieldFeatures.autocomplete === 'username'),\n        autocompleteNickname: boolInt(fieldFeatures.autocomplete === 'nickname'),\n        autocompleteEmail: boolInt(fieldFeatures.autocomplete === 'email'),\n        autocompleteOff: boolInt(fieldFeatures.autocomplete === 'off'),\n        typeEmail: boolInt(typeEmail),\n        exactAttrEmail: boolInt(exactAttrEmail),\n        attrEmail: boolInt(attrEmail),\n        textEmail: boolInt(textEmail),\n        labelEmail: boolInt(labelEmail),\n        placeholderEmail: boolInt(placeholderEmail),\n        searchField: boolInt(fieldFeatures.searchField),\n    };\n};\n\nconst EMAIL_FIELD_FEATURES = [\n    'autocompleteUsername',\n    'autocompleteNickname',\n    'autocompleteEmail',\n    'typeEmail',\n    'exactAttrEmail',\n    'attrEmail',\n    'textEmail',\n    'labelEmail',\n    'placeholderEmail',\n    'searchField',\n];\n\nconst results$1 = {\n    coeffs: [\n        ['email-autocompleteUsername', 1.0545445680618286],\n        ['email-autocompleteNickname', 0.07911506295204163],\n        ['email-autocompleteEmail', 6.347902774810791],\n        ['email-typeEmail', 14.962794303894043],\n        ['email-exactAttrEmail', 13.265423774719238],\n        ['email-attrEmail', 2.3036444187164307],\n        ['email-textEmail', 14.076379776000977],\n        ['email-labelEmail', 17.22669792175293],\n        ['email-placeholderEmail', 14.27724838256836],\n        ['email-searchField', -24.477981567382812],\n    ],\n    bias: -9.442915916442871,\n    cutoff: 0.99,\n};\n\nconst email = {\n    name: FieldType.EMAIL,\n    coeffs: EMAIL_FIELD_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `email-${key}`,\n            (_b =\n                (_a = results$1.coeffs.find(([feature]) => feature === `email-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results$1.bias,\n    cutoff: results$1.cutoff,\n    getRules: () => [\n        rule(type('email-field'), type(FieldType.EMAIL), {}),\n        ...EMAIL_FIELD_FEATURES.map((key) =>\n            rule(type(FieldType.EMAIL), featureScore('email-field', key), {\n                name: `email-${key}`,\n            })\n        ),\n        ...outRuleField(FieldType.EMAIL),\n    ],\n};\n\nconst { linearScale } = utils;\n\nconst getOTPFieldFeatures = (fnode) => {\n    var _a, _b, _c, _d;\n    const field = fnode.element;\n    const fieldFeatures = fnode.noteFor('field');\n    const { fieldAttrs, fieldText, labelText, prevField, nextField, type, minLength, maxLength } = fieldFeatures;\n    const form = (_a = fieldFeatures.formFnode) === null || _a === void 0 ? void 0 : _a.element;\n    const formMfa = fieldFeatures.isFormMFA;\n    const linkOTPOutlier = Boolean(\n        (_b = fieldFeatures === null || fieldFeatures === void 0 ? void 0 : fieldFeatures.formFeatures) === null ||\n            _b === void 0\n            ? void 0\n            : _b.linkOTPOutlier\n    );\n    const formCheckboxCount =\n        (_d =\n            (_c = fieldFeatures === null || fieldFeatures === void 0 ? void 0 : fieldFeatures.formFeatures) === null ||\n            _c === void 0\n                ? void 0\n                : _c.checkboxCount) !== null && _d !== void 0\n            ? _d\n            : 0;\n    const formInnerText = form && formMfa ? form.innerText : '';\n    const patternOTP = OTP_PATTERNS.some(\n        ([maxLength, pattern]) => field.pattern.includes(pattern) && maxLength === field.maxLength\n    );\n    const exactAttr = ['code', 'token', 'otp', 'otc', 'totp'];\n    const nameMatch = exactAttr.some((match) => field.name === match);\n    const idMatch = exactAttr.some((match) => field.id === match);\n    const { area, top, bottom, width } = getNodeRect(field);\n    const maybeGroup = width < 100;\n    const prevRect = prevField ? getNodeRect(prevField) : null;\n    const nextRect = nextField ? getNodeRect(nextField) : null;\n    const prevCheck =\n        maybeGroup &&\n        prevField &&\n        (prevField === null || prevField === void 0 ? void 0 : prevField.getAttribute('type')) === type;\n    const nextCheck =\n        maybeGroup &&\n        nextField &&\n        (nextField === null || nextField === void 0 ? void 0 : nextField.getAttribute('type')) === type;\n    const prevAligned = prevCheck\n        ? top === (prevRect === null || prevRect === void 0 ? void 0 : prevRect.top) &&\n          bottom === (prevRect === null || prevRect === void 0 ? void 0 : prevRect.bottom)\n        : false;\n    const prevArea = prevCheck ? area === (prevRect === null || prevRect === void 0 ? void 0 : prevRect.area) : false;\n    const nextAligned = nextCheck\n        ? top === (nextRect === null || nextRect === void 0 ? void 0 : nextRect.top) &&\n          bottom === (nextRect === null || nextRect === void 0 ? void 0 : nextRect.top)\n        : false;\n    const nextArea = nextCheck ? area === (nextRect === null || nextRect === void 0 ? void 0 : nextRect.area) : false;\n    const attrOTP = any(matchOtpAttr)(fieldAttrs);\n    const attrMFA = any(matchMfaAttr)(fieldAttrs);\n    const attrOutlier = any(matchOtpOutlier)(fieldAttrs);\n    const textOTP = matchOtpAttr(fieldText);\n    const textMFA = matchMfa(fieldText);\n    const labelOTP = matchOtpAttr(labelText);\n    const labelMFA = matchMfa(labelText);\n    const labelOutlier = matchOtpOutlier(labelText);\n    const parents = [getNthParent(field)(1), getNthParent(field)(2)];\n    const wrapperAttrs = parents.flatMap(getBaseAttributes);\n    const wrapperOTP = any(matchOtpAttr)(wrapperAttrs);\n    const wrapperOutlier = any(matchOtpOutlier)(wrapperAttrs);\n    const emailOutlierCount = (formInnerText.match(/@/g) || []).length;\n    return {\n        mfaScore: boolInt(formMfa),\n        exotic: boolInt(fieldFeatures.isFormNoop),\n        linkOTPOutlier: boolInt(formMfa && linkOTPOutlier),\n        hasCheckboxes: boolInt(formMfa && formCheckboxCount > 0),\n        hidden: boolInt(!fieldFeatures.visible),\n        required: boolInt(fieldFeatures.required),\n        nameMatch: boolInt(nameMatch),\n        idMatch: boolInt(idMatch),\n        numericMode: boolInt(field.inputMode === 'numeric'),\n        autofocused: boolInt(field.autofocus),\n        tabIndex1: boolInt(field.tabIndex === 1),\n        patternOTP: boolInt(patternOTP),\n        maxLength1: boolInt(maxLength === 1),\n        maxLength5: boolInt(maxLength === 5),\n        minLength6: boolInt(minLength === 6),\n        maxLength6: boolInt(maxLength === 6),\n        maxLength20: boolInt(maxLength === 20),\n        autocompleteOTC: boolInt(fieldFeatures.autocomplete === 'one-time-code'),\n        autocompleteOff: boolInt(fieldFeatures.autocomplete === 'off'),\n        prevAligned: boolInt(prevAligned),\n        prevArea: boolInt(prevArea),\n        nextAligned: boolInt(nextAligned),\n        nextArea: boolInt(nextArea),\n        attrMFA: boolInt(attrMFA),\n        attrOTP: boolInt(attrOTP),\n        attrOutlier: boolInt(attrOutlier),\n        textMFA: boolInt(textMFA),\n        textOTP: boolInt(textOTP),\n        labelMFA: boolInt(labelMFA),\n        labelOTP: boolInt(labelOTP),\n        labelOutlier: boolInt(labelOutlier),\n        wrapperOTP: boolInt(wrapperOTP),\n        wrapperOutlier: boolInt(wrapperOutlier),\n        emailOutlierCount: linearScale(emailOutlierCount, 0, 2),\n    };\n};\n\nconst OTP_FIELD_FEATURES = [\n    'mfaScore',\n    'exotic',\n    'linkOTPOutlier',\n    'hasCheckboxes',\n    'hidden',\n    'required',\n    'nameMatch',\n    'idMatch',\n    'numericMode',\n    'autofocused',\n    'tabIndex1',\n    'patternOTP',\n    'maxLength1',\n    'maxLength5',\n    'minLength6',\n    'maxLength6',\n    'maxLength20',\n    'autocompleteOTC',\n    'autocompleteOff',\n    'prevAligned',\n    'prevArea',\n    'nextAligned',\n    'nextArea',\n    'attrMFA',\n    'attrOTP',\n    'attrOutlier',\n    'textMFA',\n    'textOTP',\n    'labelMFA',\n    'labelOTP',\n    'labelOutlier',\n    'wrapperOTP',\n    'wrapperOutlier',\n    'emailOutlierCount',\n];\n\nconst results = {\n    coeffs: [\n        ['otp-mfaScore', 30.561687469482422],\n        ['otp-exotic', -7.120991230010986],\n        ['otp-linkOTPOutlier', -21.506916046142578],\n        ['otp-hasCheckboxes', 7.534667491912842],\n        ['otp-hidden', 0.1000768393278122],\n        ['otp-required', 2.338167667388916],\n        ['otp-nameMatch', -13.208819389343262],\n        ['otp-idMatch', 10.627521514892578],\n        ['otp-numericMode', -3.8777897357940674],\n        ['otp-autofocused', 6.799271106719971],\n        ['otp-tabIndex1', -1.445034384727478],\n        ['otp-patternOTP', 6.559115409851074],\n        ['otp-maxLength1', 5.732285022735596],\n        ['otp-maxLength5', -8.417411804199219],\n        ['otp-minLength6', 16.015207290649414],\n        ['otp-maxLength6', 7.036752700805664],\n        ['otp-maxLength20', 3.289212703704834],\n        ['otp-autocompleteOTC', -0.04099671542644501],\n        ['otp-autocompleteOff', -3.2142837047576904],\n        ['otp-prevAligned', 1.851654291152954],\n        ['otp-prevArea', 1.9150481224060059],\n        ['otp-nextAligned', -0.10469051450490952],\n        ['otp-nextArea', 3.397153615951538],\n        ['otp-attrMFA', 8.215556144714355],\n        ['otp-attrOTP', 2.3986175060272217],\n        ['otp-attrOutlier', -8.661820411682129],\n        ['otp-textMFA', 17.283239364624023],\n        ['otp-textOTP', -9.357173919677734],\n        ['otp-labelMFA', 0.8944563865661621],\n        ['otp-labelOTP', 0.17145930230617523],\n        ['otp-labelOutlier', -7.198430061340332],\n        ['otp-wrapperOTP', 19.489887237548828],\n        ['otp-wrapperOutlier', -6.286083698272705],\n        ['otp-emailOutlierCount', -9.156597137451172],\n    ],\n    bias: -19.804664611816406,\n    cutoff: 0.54,\n};\n\nconst otp = {\n    name: FieldType.OTP,\n    coeffs: OTP_FIELD_FEATURES.map((key) => {\n        var _a, _b;\n        return [\n            `otp-${key}`,\n            (_b =\n                (_a = results.coeffs.find(([feature]) => feature === `otp-${key}`)) === null || _a === void 0\n                    ? void 0\n                    : _a[1]) !== null && _b !== void 0\n                ? _b\n                : 0,\n        ];\n    }),\n    bias: results.bias,\n    cutoff: results.cutoff,\n    getRules: () => [\n        rule(type('otp-field'), type(FieldType.OTP), {}),\n        ...OTP_FIELD_FEATURES.map((key) =>\n            rule(type(FieldType.OTP), featureScore('otp-field', key), {\n                name: `otp-${key}`,\n            })\n        ),\n        ...outRuleField(FieldType.OTP),\n    ],\n};\n\nconst { clusters } = clusters$1;\n\nconst CLUSTER_MAX_X_DIST = 50;\n\nconst CLUSTER_MAX_Y_DIST = 275;\n\nconst CLUSTER_ALIGNMENT_TOLERANCE = 0.05;\n\nconst CLUSTER_TABLE_MAX_COLS = 3;\n\nconst CLUSTER_TABLE_MAX_AREA = 15e4;\n\nconst CLUSTER_MAX_ELEMENTS = 50;\n\nconst context = {\n    cache: new WeakMap(),\n};\n\nconst getElementData = (el) => {\n    var _a;\n    const data =\n        (_a = context.cache.get(el)) !== null && _a !== void 0\n            ? _a\n            : {\n                  isField: el.matches(fieldSelector) && el.matches(':not([type=\"submit\"])'),\n                  rect: el.getBoundingClientRect(),\n              };\n    context.cache.set(el, data);\n    return data;\n};\n\nconst compare = (elA, elB) => {\n    const a = getElementData(elA);\n    const b = getElementData(elB);\n    const maxDx = CLUSTER_MAX_X_DIST;\n    const maxDy = CLUSTER_MAX_Y_DIST / (a.isField && b.isField ? 2 : 1);\n    const { dx, dy } = getRectMinDistance(a.rect, b.rect);\n    const leftRatio = Math.abs(a.rect.left / b.rect.left);\n    const topRatio = Math.abs(a.rect.top / b.rect.top);\n    const xAlign = leftRatio > 1 - CLUSTER_ALIGNMENT_TOLERANCE && leftRatio < 1 + CLUSTER_ALIGNMENT_TOLERANCE;\n    const yAlign = topRatio > 1 - CLUSTER_ALIGNMENT_TOLERANCE && topRatio < 1 + CLUSTER_ALIGNMENT_TOLERANCE;\n    if (xAlign && yAlign) return true;\n    if (xAlign && dy < maxDy) return true;\n    if (yAlign && dx < maxDx) return true;\n    if (dx < maxDx && dy < maxDy) return true;\n    return false;\n};\n\nconst clusterExclusions = (doc) => {\n    const forms = selectForms(doc);\n    const predetected = Array.from(\n        doc.querySelectorAll(`[${DETECTED_FORM_TYPE_ATTR}], [${DETECTED_CLUSTER_ATTR}], [${IGNORE_ELEMENT_ATTR}]`)\n    );\n    const tables = Array.from(doc.querySelectorAll('table')).filter(\n        withIgnoreFlag((table) => {\n            if (forms.some((form) => form.contains(table) || table.contains(form))) return false;\n            if (table.querySelector('thead') !== null) return true;\n            if (table.querySelector('table')) return false;\n            const cellCount = Math.max(...Array.from(table.rows).map((row) => row.cells.length));\n            if (cellCount > CLUSTER_TABLE_MAX_COLS) return true;\n            return getNodeRect(table).area > CLUSTER_TABLE_MAX_AREA;\n        })\n    );\n    return predetected.concat(forms, tables);\n};\n\nconst handleSingletonCluster = (cluster) => {\n    const node = cluster[0];\n    return walkUpWhile(\n        node,\n        5\n    )((_, candidate) => candidate === node || candidate.querySelectorAll(buttonSelector).length === 0);\n};\n\nconst getFormLikeClusters = (doc) => {\n    const excluded = clusterExclusions(doc);\n    const clusterable = (els) => els.filter((el) => !excluded.some((ex) => ex.contains(el)) && isVisibleField(el));\n    const fields = clusterable(\n        Array.from(doc.querySelectorAll(fieldSelector)).filter((el) => el.getAttribute('type') !== 'hidden')\n    );\n    const inputs = fields.filter((el) => el.matches(inputSelector));\n    if (inputs.length === 0 || inputs.length > CLUSTER_MAX_ELEMENTS) return [];\n    const domGroups = Array.from(doc.querySelectorAll(domGroupSelector)).filter((el) => el !== document.body);\n    const positionedEls = findStackedParents(inputs, 20);\n    const groups = pruneNested(\n        domGroups.filter((el) => !positionedEls.some((stack) => el.contains(stack))).concat(positionedEls)\n    );\n    const buttons = clusterable(\n        Array.from(document.querySelectorAll(buttonSubmitSelector)).filter(isSubmitBtnCandidate)\n    );\n    const candidates = uniqueNodes(fields, buttons);\n    if (candidates.length > CLUSTER_MAX_ELEMENTS) return [];\n    const groupByInput = new WeakMap(candidates.map((el) => [el, groups.find((group) => group.contains(el))]));\n    const theClusters = clusters(candidates, 1, (a, b) => {\n        if (a.parentElement === b.parentElement) return 0;\n        const groupA = groupByInput.get(a);\n        const groupB = groupByInput.get(b);\n        if (groupA !== groupB) return Number.MAX_SAFE_INTEGER;\n        if (groupA && groupA === groupB) return 0;\n        return compare(a, b) ? 0 : Number.MAX_SAFE_INTEGER;\n    });\n    const ancestors = theClusters\n        .map((cluster) => (cluster.length === 1 ? handleSingletonCluster(cluster) : cluster.reduce(getCommonAncestor)))\n        .filter((ancestor) => document.body !== ancestor && ancestor.querySelectorAll(inputSelector).length > 0);\n    const result = pruneNested(ancestors);\n    result.forEach(setClusterFlag);\n    context.cache = new WeakMap();\n    return result;\n};\n\nconst formLikeDom = () => domQuery(getFormLikeClusters);\n\nconst getFieldFeature = (fnode) => {\n    var _a, _b;\n    const field = fnode.element;\n    const fieldHaystacks = getFieldHaystacks(field);\n    const formFnode = getParentFnodeVisibleForm(fnode);\n    if (formFnode !== null && !formFnode.hasNoteFor('form')) formFnode.setNoteFor('form', getFormFeatures(formFnode));\n    const formFeatures = formFnode === null || formFnode === void 0 ? void 0 : formFnode.noteFor('form');\n    const formClassification = getFormClassification(formFnode);\n    const value = field.value;\n    const type = field.getAttribute('type');\n    const readonly = field.readOnly;\n    const required = field.required;\n    const minLength = safeInt(field.minLength, 0);\n    const maxLength = safeInt(field.maxLength, 250);\n    const pattern = field.pattern;\n    const autocomplete = field.autocomplete;\n    const disabled = field.disabled;\n    const typeValid = type !== 'hidden';\n    const tabIndex = field.tabIndex;\n    const visible = typeValid\n        ? isVisibleField(field) &&\n          isVisible(field, {\n              opacity: false,\n          })\n        : false;\n    const searchField = visible && any(matchSearchAction)(fieldHaystacks.fieldAttrs.concat(fieldHaystacks.fieldText));\n    const prevField = typeValid\n        ? (_a =\n              formFeatures === null || formFeatures === void 0\n                  ? void 0\n                  : formFeatures.formInputIterator.prev(field)) !== null && _a !== void 0\n            ? _a\n            : null\n        : null;\n    const nextField = typeValid\n        ? (_b =\n              formFeatures === null || formFeatures === void 0\n                  ? void 0\n                  : formFeatures.formInputIterator.next(field)) !== null && _b !== void 0\n            ? _b\n            : null\n        : null;\n    return Object.assign(\n        {\n            formFnode,\n            formFeatures,\n            isFormLogin: formClassification.login,\n            isFormRegister: formClassification.register,\n            isFormPWChange: formClassification.pwChange,\n            isFormRecovery: formClassification.recovery,\n            isFormMFA: formClassification.mfa,\n            isFormNoop: formClassification.noop,\n            value,\n            visible,\n            type,\n            readonly,\n            required,\n            disabled,\n            pattern,\n            autocomplete,\n            minLength,\n            maxLength,\n            tabIndex,\n            prevField,\n            nextField,\n            searchField,\n        },\n        fieldHaystacks\n    );\n};\n\nconst definitions = [\n    login,\n    register,\n    passwordChange,\n    recovery,\n    mfa,\n    username,\n    usernameHidden,\n    email,\n    password,\n    newPassword,\n    otp,\n];\n\nconst trainees = {\n    forms: {\n        login,\n        register,\n        passwordChange,\n        recovery,\n        mfa,\n    },\n    fields: {\n        username,\n        usernameHidden,\n        email,\n        password,\n        newPassword,\n        otp,\n    },\n};\n\nconst rulesetMaker = () => {\n    const aggregation = definitions.reduce(\n        (acc, curr) => ({\n            rules: [...acc.rules, ...curr.getRules()],\n            coeffs: [...acc.coeffs, ...curr.coeffs],\n            biases: [...acc.biases, [curr.name, curr.bias]],\n        }),\n        {\n            rules: [\n                rule(dom('form').when(withFnodeEl(formFilter)), type('form-element'), {}),\n                rule(formLikeDom(), type('form-element'), {}),\n                rule(dom(preDetectedClusterSelector), type('form-element'), {}),\n                rule(type('form-element').when(withFnodeEl(isVisibleForm)), type('form').note(getFormFeatures), {}),\n                rule(type('form-element'), out('form').through(processFormEffect), {}),\n                rule(type('form').when(isNoopForm), type(FormType.NOOP), {}),\n                rule(type(FormType.NOOP), out(FormType.NOOP), {}),\n                rule(dom('input').when(fieldFilter), type('field').note(getFieldFeature), {}),\n                rule(type('field').when(maybeUsername), type('username-field').note(getUsernameFieldFeatures), {}),\n                rule(\n                    type('field').when(maybeHiddenUsername),\n                    type('username-hidden-field').note(getHiddenUserFieldFeatures),\n                    {}\n                ),\n                rule(type('field').when(maybeEmail), type('email-field').note(getEmailFieldFeatures), {}),\n                rule(type('field').when(maybePassword), type('password-field').note(getPasswordFieldFeatures), {}),\n                rule(type('field').when(maybeOTP), type('otp-field').note(getOTPFieldFeatures), {}),\n                rule(type('field'), out('field').through(processFieldEffect), {}),\n            ],\n            coeffs: [],\n            biases: [],\n        }\n    );\n    const rules = ruleset(aggregation.rules, aggregation.coeffs, aggregation.biases);\n    return rules;\n};\n\nconst clearDetectionCache = () => {\n    clearVisibilityCache();\n    selectForms.clearCache();\n    selectInputs.clearCache();\n};\n\nexport {\n    DETECTED_CLUSTER_ATTR,\n    DETECTED_FIELD_TYPE_ATTR,\n    DETECTED_FORM_TYPE_ATTR,\n    EL_ATTRIBUTES,\n    FIELD_ATTRIBUTES,\n    FORM_ATTRIBUTES,\n    FieldType,\n    FormType,\n    IGNORE_ELEMENT_ATTR,\n    PROCESSED_FIELD_ATTR,\n    PROCESSED_FORM_ATTR,\n    TEXT_ATTRIBUTES,\n    anchorLinkSelector,\n    buttonSelector,\n    buttonSubmitSelector,\n    cacheContext,\n    captchaSelector,\n    clearDetectionCache,\n    clearVisibilityCache,\n    createInputIterator,\n    danglingFieldFilter,\n    detectedFormSelector,\n    detectedSelector,\n    domGroupSelector,\n    fieldFilter,\n    fieldSelector,\n    formFilter,\n    getAttributes,\n    getBaseAttributes,\n    getDetectedFormParent,\n    getFieldAttributes,\n    getFormAttributes,\n    getFormClassification,\n    getFormParent,\n    getIgnoredParent,\n    getTextAttributes,\n    getVisibilityCache,\n    headingSelector,\n    hiddenUsernameSelector,\n    ignoredSelector,\n    inputFilter,\n    inputSelector,\n    isActiveField,\n    isEmailCandidate,\n    isFieldProcessed,\n    isFormProcessed,\n    isNoopForm,\n    isOAuthCandidate,\n    isSubmitBtnCandidate,\n    isUsernameCandidate,\n    isVisible,\n    isVisibleEl,\n    isVisibleField,\n    isVisibleForm,\n    layoutSelector,\n    maybeEmail,\n    maybeHiddenUsername,\n    maybeOTP,\n    maybePassword,\n    maybeUsername,\n    otpSelector,\n    passwordSelector,\n    preDetectedClusterSelector,\n    processFieldEffect,\n    processFormEffect,\n    resetFieldFlags,\n    resetFormFlags,\n    rulesetMaker,\n    selectAllForms,\n    selectDanglingInputs,\n    selectForms,\n    selectInputs,\n    selectUnprocessedForms,\n    selectUnprocessedInputs,\n    setClusterFlag,\n    setFieldProcessable,\n    setFieldProcessed,\n    setFieldType,\n    setFormProcessable,\n    setFormProcessed,\n    setFormType,\n    setIgnoreFlag,\n    socialSelector,\n    splitFieldsByVisibility,\n    trainees,\n    typeFieldEffect,\n    typeFormEffect,\n    unprocessedFieldFilter,\n    unprocessedFormFilter,\n    withIgnoreFlag,\n};\n","import type { MaybeNull, SafeLoginItem } from '@proton/pass/types';\n\nimport type { FieldHandle } from './form';\nimport type { IFrameAppService } from './iframe';\n\nexport enum DropdownAction {\n    AUTOFILL = 'AUTOFILL',\n    AUTOSUGGEST_PASSWORD = 'AUTOSUGGEST_PASSWORD',\n    AUTOSUGGEST_ALIAS = 'AUTOSUGGEST_ALIAS',\n}\n\nexport type DropdownActions =\n    | { action: DropdownAction.AUTOFILL; items: SafeLoginItem[]; needsUpgrade: boolean }\n    | { action: DropdownAction.AUTOSUGGEST_PASSWORD }\n    | { action: DropdownAction.AUTOSUGGEST_ALIAS; domain: string; prefix: string };\n\nexport type DropdownOpenOptions = {\n    action: DropdownAction;\n    field: FieldHandle;\n    autofocused?: boolean;\n};\n\nexport interface InjectedDropdown extends IFrameAppService<DropdownOpenOptions> {\n    getCurrentField: () => MaybeNull<FieldHandle>;\n}\n","import type { FieldType, FormType } from '@proton/pass/fathom';\nimport type { MaybeNull } from '@proton/pass/types';\n\nimport type { AutofillOptions } from '../../shared/form';\nimport type { DropdownAction } from './dropdown';\nimport type { FieldIconHandle } from './icon';\n\nexport type DetectedForm = { formType: FormType; form: HTMLElement; fields: DetectedField[] };\nexport type DetectedField = { fieldType: FieldType; field: HTMLInputElement };\nexport interface FormHandle {\n    id: string;\n    formType: FormType;\n    element: HTMLElement;\n    fields: Map<HTMLInputElement, FieldHandle>;\n    tracker?: FormTracker;\n    detachField: (field: HTMLInputElement) => void;\n    getFieldsFor: (type: FieldType, predicate?: (handle: FieldHandle) => boolean) => FieldHandle[];\n    getFields: (predicate?: (handle: FieldHandle) => boolean) => FieldHandle[];\n    reconciliate: (type: FormType, fields: DetectedField[]) => void;\n    shouldRemove: () => boolean;\n    attach: () => void;\n    detach: () => void;\n}\n\nexport type HTMLElementWithActionTrap = HTMLInputElement & { preventAction?: boolean };\nexport interface FieldHandle {\n    formType: FormType;\n    fieldType: FieldType;\n    element: HTMLInputElement;\n    boxElement: HTMLElement;\n    icon: FieldIconHandle | null;\n    action: MaybeNull<DropdownAction>;\n    value: string;\n    tracked: boolean;\n    zIndex: number;\n    getFormHandle: () => FormHandle;\n    getBoxElement: (options?: { revalidate: boolean }) => HTMLElement;\n    setValue: (value: string) => void;\n    setAction: (action: MaybeNull<DropdownAction>) => void;\n    autofill: (value: string, options?: AutofillOptions) => void;\n    focus: (options?: { preventAction?: boolean }) => void;\n    attachIcon: () => FieldIconHandle;\n    detachIcon: () => void;\n    attach: (onSubmit: () => void) => void;\n    detach: () => void;\n}\n\nexport enum FieldInjectionRule {\n    ALWAYS /* always inject */,\n    FIRST_OF_TYPE /* first field for field type */,\n    FIRST_OF_FORM /* first field in form */,\n    NEVER /* never inject */,\n}\n\nexport type FormTrackerFieldConfig = {\n    type: FieldType;\n    injection: FieldInjectionRule;\n    action?: DropdownAction;\n};\n\nexport interface FormTracker {\n    detach: () => void;\n    reconciliate: () => void;\n}\n","import { FieldType, FormType } from '@proton/pass/fathom';\nimport browser from '@proton/pass/globals/browser';\n\nimport type { FormTrackerFieldConfig } from './types';\nimport { DropdownAction, FieldInjectionRule } from './types';\n\nexport const INPUT_BASE_STYLES_ATTR = `data-protonpass-base-css`;\n\nexport const ICON_MAX_HEIGHT = 28;\nexport const ICON_MIN_HEIGHT = 16;\nexport const ICON_PADDING = 8;\nexport const DROPDOWN_WIDTH = 250;\nexport const MIN_DROPDOWN_HEIGHT = 60;\nexport const NOTIFICATION_HEIGHT = 335;\nexport const NOTIFICATION_HEIGHT_SM = 220;\nexport const NOTIFICATION_WIDTH = 320;\n\nexport const ACTIVE_ICON_SRC = browser.runtime.getURL('/assets/protonpass-icon-active.svg');\nexport const LOCKED_ICON_SRC = browser.runtime.getURL('/assets/protonpass-icon-locked.svg');\nexport const DISABLED_ICON_SRC = browser.runtime.getURL('/assets/protonpass-icon-disabled.svg');\nexport const COUNTER_ICON_SRC = browser.runtime.getURL('/assets/protonpass-icon-counter.svg');\nexport const DROPDOWN_IFRAME_SRC = browser.runtime.getURL('/dropdown.html');\nexport const NOTIFICATION_IFRAME_SRC = browser.runtime.getURL('/notification.html');\n\n/* heuristic max detection time duration in ms for sanity checking */\nexport const MIN_MAX_DETECTION_TIME = 250;\nexport const MAX_MAX_DETECTION_TIME = 1_000;\n\n/* ⚠️ WIP ⚠️\n * This list should be actively maintained\n * to list all top-level domains of email\n * providers. On sign-up forms for these\n * domains, we want to avoid prompting the\n * user for an alias creation on the email\n * field (if any). In some cases  we might\n * still permit it - ie in the case of google.com,\n * you can actually sign up with an email */\nexport const EMAIL_PROVIDERS = [\n    'proton.me',\n    'protonmail.com',\n    'protonvpn.com',\n    'proton.black',\n    'proton.pink',\n    'proton.local',\n];\n\nexport const FORM_TRACKER_CONFIG: Record<FormType, FormTrackerFieldConfig[]> = {\n    [FormType.LOGIN]: [\n        {\n            type: FieldType.USERNAME,\n            injection: FieldInjectionRule.FIRST_OF_FORM,\n            action: DropdownAction.AUTOFILL,\n        },\n        {\n            type: FieldType.USERNAME_HIDDEN,\n            injection: FieldInjectionRule.NEVER,\n        },\n        {\n            type: FieldType.EMAIL,\n            injection: FieldInjectionRule.FIRST_OF_FORM,\n            action: DropdownAction.AUTOFILL,\n        },\n        {\n            type: FieldType.PASSWORD_CURRENT,\n            injection: FieldInjectionRule.FIRST_OF_FORM,\n            action: DropdownAction.AUTOFILL,\n        },\n    ],\n    [FormType.REGISTER]: [\n        {\n            type: FieldType.USERNAME,\n            injection: FieldInjectionRule.NEVER,\n        },\n        {\n            type: FieldType.USERNAME_HIDDEN,\n            injection: FieldInjectionRule.NEVER,\n        },\n        {\n            type: FieldType.EMAIL,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOSUGGEST_ALIAS,\n        },\n        {\n            type: FieldType.PASSWORD_NEW,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOSUGGEST_PASSWORD,\n        },\n    ],\n    [FormType.RECOVERY]: [\n        {\n            type: FieldType.EMAIL,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOFILL,\n        },\n    ],\n    [FormType.PASSWORD_CHANGE]: [\n        {\n            type: FieldType.PASSWORD_CURRENT,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOFILL,\n        },\n        {\n            type: FieldType.PASSWORD_NEW,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOSUGGEST_PASSWORD,\n        },\n    ],\n    [FormType.MFA]: [],\n    /* NOOP forms are forms that were not classified into\n     * one of our form types. This can either be a detection\n     * error - in that case, if we match any fields of interest\n     * we should still add some actions - OR due to exotic\n     * forms (newsletters etc..) */\n    [FormType.NOOP]: [\n        {\n            type: FieldType.EMAIL,\n            injection: FieldInjectionRule.ALWAYS,\n            action: DropdownAction.AUTOSUGGEST_ALIAS,\n        },\n        {\n            type: FieldType.PASSWORD_CURRENT,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOFILL,\n        },\n        {\n            type: FieldType.PASSWORD_NEW,\n            injection: FieldInjectionRule.FIRST_OF_TYPE,\n            action: DropdownAction.AUTOSUGGEST_PASSWORD,\n        },\n    ],\n};\n","import type { MaybeNull } from '@proton/pass/types';\nimport type { BoundComputeStyles } from '@proton/pass/utils/dom';\nimport {\n    createElement,\n    createStyleCompute,\n    getComputedHeight,\n    pixelEncoder,\n    pixelParser,\n    repaint,\n} from '@proton/pass/utils/dom';\n\nimport { ICON_MAX_HEIGHT, ICON_MIN_HEIGHT, ICON_PADDING, INPUT_BASE_STYLES_ATTR } from '../../constants';\nimport type { FieldHandle } from '../../types';\nimport type { ProtonPassControl } from '../custom-elements/ProtonPassControl';\n\ntype InjectionElements = {\n    form: HTMLElement;\n    input: HTMLInputElement;\n    inputBox: HTMLElement;\n    icon: HTMLButtonElement;\n    control: ProtonPassControl;\n};\n\ntype SharedInjectionOptions = {\n    inputBox: HTMLElement;\n    getInputStyle: BoundComputeStyles;\n    getBoxStyle: BoundComputeStyles;\n};\n\n/* input styles we may override */\ntype InputInitialStyles = { ['padding-right']?: string };\n\nconst getOverlayedElement = (options: {\n    x: number;\n    y: number;\n    inputBox: HTMLElement;\n    form: HTMLElement;\n}): MaybeNull<HTMLElement> => {\n    try {\n        const { x, y, form, inputBox } = options;\n        const maxWidth = inputBox.offsetWidth;\n\n        if (Number.isNaN(x) || Number.isNaN(y)) return null;\n        const overlays = Array.from(document.elementsFromPoint(x, y));\n\n        return (\n            overlays.find((el): el is HTMLElement => {\n                /* exclude non-html elements */\n                if (!(el instanceof HTMLElement)) return false;\n                /* exclude svg elements */\n                if (el.matches('svg *')) return false;\n                /* exclude our own injected elements */\n                if (el.matches('protonpass-control')) return false;\n                /* exclude elements not in the current form stack */\n                if (!form.contains(el)) return false;\n                /* exclude \"placeholder\" overlays */\n                if (el.innerText.length > 0 && el.offsetWidth >= maxWidth * 0.85) return false;\n\n                return true;\n            }) ?? null\n        );\n    } catch (e) {\n        return null;\n    }\n};\n\n/* Force re-render/re-paint of the input element\n * before computing the icon injection styles in\n * order to avoid certain browser rendering optimisations\n * which cause incorrect DOMRect / styles to be resolved.\n * ie: check amazon sign-in page without repaint to\n * reproduce issue */\nconst computeIconInjectionStyles = (\n    { input, control, form }: Omit<InjectionElements, 'icon'>,\n    { getInputStyle, getBoxStyle, inputBox }: SharedInjectionOptions\n) => {\n    repaint(input);\n\n    const { right: inputRight, top: inputTop, height: inputHeight } = input.getBoundingClientRect();\n    const { top: boxTop, height: boxMaxHeight } = inputBox.getBoundingClientRect();\n    const { top: controlTop, right: controlRight } = control.getBoundingClientRect();\n\n    /* If inputBox is not the input element in the case we\n     * resolved a bounding element : compute inner height\n     * without offsets in order to correctly position icon\n     * if bounding element has some padding-top/border-top */\n    const boxed = inputBox !== input;\n    const { value: boxHeight, offset: boxOffset } = getComputedHeight(getBoxStyle, {\n        node: inputBox,\n        mode: boxed ? 'inner' : 'outer',\n    });\n\n    const size = Math.max(Math.min(boxMaxHeight - ICON_PADDING, ICON_MAX_HEIGHT), ICON_MIN_HEIGHT);\n    const pl = getInputStyle('padding-left', pixelParser);\n    const pr = getInputStyle('padding-right', pixelParser);\n    const iconPaddingLeft = size / 5; /* dynamic \"responsive\" padding */\n    const iconPaddingRight = Math.max(Math.min(pl, pr) / 1.5, iconPaddingLeft);\n\n    /* look for any overlayed elements if we were to inject\n     * the icon on the right hand-side of the input element\n     * accounting for icon size and padding  */\n    const overlayEl = getOverlayedElement({\n        x: inputRight - (iconPaddingRight + size / 2),\n        y: inputTop + inputHeight / 2,\n        inputBox,\n        form,\n    });\n\n    const overlayWidth = overlayEl?.clientWidth ?? 0;\n    const overlayDx = overlayEl !== input && overlayWidth !== 0 ? overlayWidth + iconPaddingLeft : 0;\n\n    /* Compute the new input padding :\n     * Take into account the input element's current padding as it\n     * may already cover the necessary space to inject the icon without\n     * the need to mutate the input's padding style. Account for potential\n     * overlayed element offset */\n    const newPaddingRight = Math.max(pr, size + iconPaddingLeft + iconPaddingRight + overlayDx);\n\n    /* `mt` represents the vertical offset needed to align the\n     * center of the injected icon with the top-most part of\n     * the bounding box :\n     * mt = boxTop - boxOffset.top - controlTop - size / 2\n     * top = mt + boxHeight / 2 */\n    const top = boxTop - controlTop + boxOffset.top + (boxHeight - size) / 2;\n    const right = controlRight - inputRight + iconPaddingRight + overlayDx;\n\n    return {\n        input: {\n            paddingRight: pixelEncoder(newPaddingRight),\n        },\n        icon: {\n            top: pixelEncoder(top),\n            right: pixelEncoder(right),\n            size: pixelEncoder(size),\n            fontSize: size / 2.5,\n        },\n    };\n};\n\nexport const getInputInitialStyles = (el: HTMLElement): InputInitialStyles => {\n    const initialStyles = el.getAttribute(INPUT_BASE_STYLES_ATTR);\n    return initialStyles ? JSON.parse(initialStyles) : {};\n};\n\nexport const cleanupInputInjectedStyles = (input: HTMLInputElement) => {\n    Object.entries(getInputInitialStyles(input)).forEach(\n        ([prop, value]) =>\n            Boolean(value)\n                ? input.style.setProperty(prop, value) /* if has initial style -> reset */\n                : input.style.removeProperty(prop) /* else remove override */\n    );\n\n    input.removeAttribute(INPUT_BASE_STYLES_ATTR);\n};\n\nexport const cleanupInjectionStyles = ({ control, input }: Pick<InjectionElements, 'control' | 'input'>) => {\n    control.style.removeProperty('float');\n    control.style.removeProperty('max-width');\n    control.style.removeProperty('margin-left');\n    cleanupInputInjectedStyles(input);\n};\n\nconst applyIconInjectionStyles = (elements: InjectionElements, shared: SharedInjectionOptions) => {\n    const { icon, input } = elements;\n    const styles = computeIconInjectionStyles(elements, shared);\n    const widthBefore = input.getBoundingClientRect().width;\n\n    icon.style.top = styles.icon.top;\n    icon.style.right = styles.icon.right;\n    icon.style.width = styles.icon.size;\n    icon.style.height = styles.icon.size;\n    icon.style.setProperty(`--control-lineheight`, styles.icon.size);\n    icon.style.setProperty(`--control-fontsize`, pixelEncoder(styles.icon.fontSize));\n\n    /* Content-script may be destroyed and re-injected\n     * on extension update or on code hot-reload. Keep\n     * track of the previous input styles for clean-up */\n    input.setAttribute(INPUT_BASE_STYLES_ATTR, JSON.stringify({ 'padding-right': input.style.paddingRight }));\n    input.style.setProperty('padding-right', styles.input.paddingRight, 'important');\n    const widthAfter = input.getBoundingClientRect().width;\n\n    /* when dealing with `content-box` box-sized elements or certain\n     * flexbox edge-cases : adapting the padding may lead to input width\n     * growing - if we detect this: remove the padding override. */\n    if (widthAfter !== widthBefore) {\n        input.style.removeProperty('padding-right');\n        input.style.setProperty('padding-right', input.style.paddingRight);\n    }\n};\n\n/* The injection styles application is a two pass process :\n * - First correctly position the control element by computing\n *   its possible margin left offset + max width\n * - Use the re-renderer control element for positioning the icon\n * + Pre-compute shared styles and DOMRects between two passes */\nexport const applyInjectionStyles = (elements: InjectionElements) => {\n    const { input, inputBox } = elements;\n    cleanupInputInjectedStyles(input);\n\n    const sharedOptions = {\n        inputBox,\n        getInputStyle: createStyleCompute(input),\n        getBoxStyle: createStyleCompute(inputBox),\n    };\n\n    applyIconInjectionStyles(elements, sharedOptions);\n};\n\nexport const createIcon = (field: FieldHandle): InjectionElements => {\n    const input = field.element as HTMLInputElement;\n    const inputBox = field.boxElement;\n\n    const control = createElement<ProtonPassControl>({ type: 'protonpass-control' });\n\n    /* overridden by `injection.scss` in order to properly handle\n     * content-script re-injection flickering glitch */\n    control.style.display = 'none';\n\n    const icon = createElement<HTMLButtonElement>({\n        type: 'button',\n        classNames: [],\n    });\n\n    icon.tabIndex = -1;\n    icon.style.zIndex = field.zIndex.toString();\n    icon.setAttribute('type', 'button');\n\n    const elements = { icon, control, input, inputBox, form: field.getFormHandle().element };\n    const boxed = input !== inputBox;\n\n    if (boxed) inputBox.insertBefore(control, inputBox.firstElementChild);\n    else input.parentElement!.insertBefore(control, input);\n\n    control.shadowRoot?.appendChild(icon);\n    applyInjectionStyles(elements);\n\n    return elements;\n};\n","import { createElement } from '@proton/pass/utils/dom';\n\nimport type { ProtonPassRoot } from '../custom-elements/ProtonPassRoot';\n\nexport const getIFrameRoot = () => document.querySelector<ProtonPassRoot>('protonpass-root');\nexport const isIFrameRootAttached = () => getIFrameRoot() !== null;\n\nexport const createIframeRoot = (): ProtonPassRoot => {\n    const root = getIFrameRoot();\n    if (root !== null) return root;\n\n    const iframeRoot = createElement<ProtonPassRoot>({ type: 'protonpass-root', parent: document.body });\n\n    /* we may hit a case where the content-script is reloaded - on\n     * firefox, this will cause our injected stylesheets to be removed\n     * from the DOM and induce a small flickering glitch. To be safe\n     * hide the iframe root by default, this value is override in the\n     * `iframe.scss` */\n    iframeRoot.style.display = 'none';\n\n    return iframeRoot;\n};\n","/* Handling multiple instances of the orchestrator being injected is\n * necessary to ensure that the content-scripts are properly loaded\n * and unloaded as needed. This can be particularly important during\n * updates or hot-reload scenarios, where multiple instances of the\n * orchestrator may be living simultaneously. By unloading the client\n * content-script when the frame becomes hidden, we can free up resources\n * on inactive tabs, further improving performance and minimizing the\n * impact on the user's experience */\nimport { contentScriptMessage, sendMessage } from '@proton/pass/extension/message';\nimport { WorkerMessageType } from '@proton/pass/types';\nimport { isMainFrame } from '@proton/pass/utils/dom';\nimport { createListenerStore } from '@proton/pass/utils/listener';\nimport { logger } from '@proton/pass/utils/logger';\n\nimport { DOMCleanUp } from './injections/cleanup';\n\nconst listeners = createListenerStore();\nlet clientLoaded: boolean = false;\n\n/* The `unregister` function is responsible for removing all event listeners\n * that are associated with the orchestrator. This may occur when the extension\n * context is invalidated, such as when the registration or unregistration of the\n * client fails */\nconst unregister = (err: unknown) => {\n    logger.warn(`[ContentScript::orchestrator] invalidation error`, err);\n    listeners.removeAll();\n};\n\n/* The `registerClient` function is responsible for ensuring that the client\n * content-script is loaded and started if it hasn't already been loaded in the\n * current frame. Once the client has been loaded, a `START_CONTENT_SCRIPT`\n * message is sent to the worker to start the script (used on visibilitychange) */\nconst registerClient = async () => {\n    clientLoaded = await Promise.resolve(\n        clientLoaded ||\n            sendMessage(contentScriptMessage({ type: WorkerMessageType.LOAD_CONTENT_SCRIPT }))\n                .then((res) => res.type === 'success')\n                .catch(() => false)\n    );\n\n    await sendMessage(contentScriptMessage({ type: WorkerMessageType.START_CONTENT_SCRIPT }));\n};\n\n/* The `UNLOAD_CONTENT_SCRIPT` message is broadcasted to any client content-scripts\n * that may be running, instructing them to properly destroy themselves and free up\n * any resources they are using */\nconst unloadClient = () => sendMessage(contentScriptMessage({ type: WorkerMessageType.UNLOAD_CONTENT_SCRIPT }));\n\n/* The `handleFrameVisibilityChange` function is registered as a listener for\n * the `visibilitychange` event on the `document` object. This ensures that resources\n * are freed up on inactive tabs, and that the content-script is properly re-registered\n * and initialized when the tab becomes active again */\nconst handleFrameVisibilityChange = () => {\n    try {\n        switch (document.visibilityState) {\n            case 'visible':\n                return registerClient();\n            case 'hidden':\n                return unloadClient();\n        }\n    } catch (err: unknown) {\n        unregister(err);\n    }\n};\n\nconst loadCustomElements = async () =>\n    new Promise<void>((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = chrome.runtime.getURL('elements.js');\n\n        script.addEventListener('load', () => {\n            script.remove();\n            resolve();\n        });\n\n        script.addEventListener('error', () => reject('Could not load custom elements'));\n\n        (document.head || document.documentElement).appendChild(script);\n    });\n\n/* This IIFE is responsible for handling every new content-script injection. It starts\n * by cleaning up the DOM (in case of concurrent scripts running) and unloading any client\n * content-scripts. Depending on the current visibility state, either the client content\n * script is registered again or unloaded. TODO: add extra heuristics steps before actually\n * loading the client content-script : This would allows us to perform additional checks to\n * determine whether or not the client should be injected, potentially saving resources and\n * improving performance (ie: run the form detection assessment here) */\nvoid (async () => {\n    try {\n        DOMCleanUp();\n        await loadCustomElements();\n        await unloadClient();\n\n        if (!isMainFrame()) {\n            /* FIXME: apply iframe specific heuristics here :\n             * we want to avoid injecting into frames that have\n             * an src element starting with \"about:\" or \"javascript:\"\n             * + only one \"iframe depth\" should be supported */\n        }\n        listeners.addListener(document, 'visibilitychange', handleFrameVisibilityChange);\n        await (document.visibilityState === 'visible' && registerClient());\n    } catch (err) {\n        unregister(err);\n    }\n})();\n","import type { Callback, Maybe } from '@proton/pass/types';\n\n/**\n * Removing every listener from a DOM node\n * can be achieved by cloning the node and\n * replacing it in-place\n */\nexport const removeListeners = (el: HTMLElement): void => {\n    el.replaceWith(el.cloneNode(true));\n};\n\ntype EventSource = Window | Document | HTMLElement;\n\ntype EventMap<T extends EventSource> = T extends Window\n    ? WindowEventMap\n    : T extends Document\n    ? DocumentEventMap\n    : T extends HTMLElement\n    ? HTMLElementEventMap\n    : never;\n\ntype EventType<T extends EventSource, E extends keyof EventMap<T>> = EventMap<T>[E];\n\nexport type Listener<T extends EventSource = any, E extends keyof EventMap<T> = any> =\n    | {\n          kind: 'listener';\n          fn: (e: EventType<T, E>) => void;\n          element: T;\n          type: E;\n      }\n    | {\n          kind: 'observer';\n          observer: MutationObserver;\n      }\n    | {\n          kind: 'resizeObserver';\n          observer: ResizeObserver;\n      };\n\nexport type ListenerStore = ReturnType<typeof createListenerStore>;\n\nexport const createListenerStore = () => {\n    const listeners: Listener[] = [];\n\n    const cancelDebounce = (fn: Callback) => (fn as any)?.cancel?.();\n\n    const addListener = <T extends EventSource, E extends keyof EventMap<T>>(\n        element: Maybe<T>,\n        type: E,\n        fn: (e: EventType<T, E>) => void\n    ) => {\n        if (element !== undefined) {\n            listeners.push({ kind: 'listener', element, type, fn });\n            (element as any).addEventListener(type, fn);\n        }\n    };\n\n    const addObserver = (target: Node, mutationCb: MutationCallback, options?: MutationObserverInit) => {\n        const observer = new MutationObserver(mutationCb);\n\n        const disconnect = observer.disconnect;\n\n        observer.disconnect = () => {\n            cancelDebounce(mutationCb);\n            disconnect.bind(observer)();\n        };\n\n        listeners.push({ kind: 'observer', observer });\n        observer.observe(target, options);\n    };\n\n    const addResizeObserver = (target: Element, resizeCb: ResizeObserverCallback) => {\n        const observer = new ResizeObserver(resizeCb);\n        const disconnect = observer.disconnect;\n\n        observer.disconnect = () => {\n            cancelDebounce(resizeCb);\n            disconnect.bind(observer)();\n        };\n\n        listeners.push({ kind: 'resizeObserver', observer });\n        observer.observe(target);\n    };\n\n    const removeAll = () => {\n        listeners.forEach((listener) => {\n            switch (listener.kind) {\n                case 'observer':\n                case 'resizeObserver':\n                    return listener.observer.disconnect();\n                case 'listener': {\n                    cancelDebounce(listener.fn);\n                    return listener.element.removeEventListener(listener.type, listener.fn);\n                }\n            }\n        });\n\n        listeners.length = 0;\n    };\n\n    return {\n        addListener,\n        addObserver,\n        addResizeObserver,\n        removeAll,\n    };\n};\n","import { PROCESSED_FIELD_ATTR, PROCESSED_FORM_ATTR } from '@proton/pass/fathom';\n\nimport { INPUT_BASE_STYLES_ATTR } from '../constants';\nimport { cleanupInputInjectedStyles } from './icon';\nimport { getIFrameRoot } from './iframe/create-iframe-root';\n\nexport const DOMCleanUp = () => {\n    /* remove all injected iframes */\n    const root = getIFrameRoot();\n    root?.parentElement?.removeChild(root);\n\n    /* remove all injected DOM nodes */\n    const injectedNodes = document.querySelectorAll('protonpass-control, protonpass-root');\n    injectedNodes.forEach((node) => node.remove());\n\n    /* reset input field styles */\n    const inputs = document.querySelectorAll<HTMLInputElement>(`input[${INPUT_BASE_STYLES_ATTR}]`);\n    inputs.forEach((input) => cleanupInputInjectedStyles(input));\n\n    /* remove extension attributes */\n    [PROCESSED_FIELD_ATTR, PROCESSED_FORM_ATTR].forEach((attr) => {\n        document.querySelectorAll(`[${attr}]`).forEach((node) => node.removeAttribute(attr));\n    });\n};\n","export const isMainFrame = (): boolean => {\n    try {\n        return window.self === window.top;\n    } catch (e) {\n        return false;\n    }\n};\n","import { disableBrowserProxyTrap } from '@proton/pass/globals/browser';\n\n/* Since content-scripts cannot be inspected, it is safe to disable the\n * browser API trap in this context. Additionally, content-scripts have\n * access to a dedicated execution context with a proxy to the window object,\n * so even if this flag is set, it won't be inspectable in the console where\n * this script is running. See `@pass/globals/browser.ts` */\ndisableBrowserProxyTrap();\n"],"names":["self","globalThis","context","allowProxy","globals","chrome","browser","disableBrowserProxyTrap","polyfill","setTimeout","Object","entries","filter","value","forEach","key","Proxy","get","target","prop","receiver","logger","error","set","log","withLoggerOptions","fn","options","args","onLog","join","info","debug","warn","setLogOptions","opts","isCallable","tryToString","$TypeError","TypeError","module","exports","argument","isObject","$String","String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","O","length","index","includes","indexOf","DESCRIPTORS","isArray","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","this","defineProperty","writable","uncurryThis","toString","stringSlice","slice","it","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","source","exceptions","keys","f","i","createPropertyDescriptor","object","bitmap","enumerable","configurable","makeBuiltIn","name","descriptor","getter","setter","defineGlobalProperty","simple","global","unsafe","nonConfigurable","nonWritable","fails","documentAll","document","all","IS_HTMLDDA","EXISTS","createElement","navigator","userAgent","match","version","process","Deno","versions","v8","split","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","prototype","dontCallGetSet","forced","sham","exec","test","bind","hasOwnProperty","NATIVE_BIND","call","Function","apply","arguments","FunctionPrototype","getDescriptor","PROPER","something","CONFIGURABLE","uncurryThisWithBind","namespace","method","aCallable","isNullOrUndefined","V","P","func","check","Math","window","g","toObject","a","classof","$Object","propertyIsEnumerable","store","functionToString","inspectSource","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","metadata","facade","STATE","enforce","getterFor","TYPE","type","Array","$documentAll","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","getBuiltIn","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","obj","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","arity","constructor","ceil","floor","trunc","x","n","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","concat","getOwnPropertyNames","getOwnPropertySymbols","push","names","result","$propertyIsEnumerable","NASHORN_BUG","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","uid","SHARED","IS_PURE","mode","copyright","license","V8_VERSION","symbol","Symbol","toIntegerOrInfinity","max","min","integer","IndexedObject","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","setArrayLength","doesNotExceedSafeInteger","proto","properErrorOnNonWritableLength","item","len","argCount","defineBuiltInAccessor","URLSearchParamsPrototype","URLSearchParams","size","count","baseCreate","baseLodash","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","LodashWrapper","chainAll","__chain__","__index__","__values__","getNative","thisArg","arrayPush","array","values","offset","objectCreate","create","isFlattenable","baseFlatten","depth","predicate","isStrict","getRawTag","objectToString","symToStringTag","toStringTag","baseGetTag","isObjectLike","baseIsArguments","isFunction","isMasked","toSource","reIsHostCtor","funcProto","objectProto","funcToString","reIsNative","RegExp","baseIsNative","constant","identity","baseSetToString","copyArray","coreJsData","flatRest","getData","getFuncName","isLaziable","createFlow","fromRight","funcs","prereq","thru","reverse","wrapper","funcName","plant","e","flatten","overRest","setToString","freeGlobal","metaMap","noop","realNames","otherFunc","getValue","nativeObjectToString","isOwn","tag","unmasked","isArguments","spreadableSymbol","isConcatSpreadable","lodash","other","maskSrcKey","IE_PROTO","nativeMax","start","transform","otherArgs","freeSelf","root","shortOut","nativeNow","Date","now","lastCalled","stamp","remaining","wrapperClone","clone","flow","definition","undefinedType","isIE","logMethods","bindMethod","methodName","traceForIE","console","trace","realMethod","replaceLoggingMethods","level","loggerName","methodFactory","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","defaultLevel","factory","currentLevel","storageKey","persistLevelIfPossible","levelNum","levelName","toUpperCase","localStorage","ignore","cookie","encodeURIComponent","getPersistedLevel","storedLevel","location","levels","clearPersistedLevel","removeItem","getLevel","setLevel","persist","SILENT","setDefaultLevel","resetLevel","enableAll","TRACE","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","_log","noConflict","getLoggers","runtime","Error","getPrototypeOf","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","wrapAPIs","extensionAPIs","apiMetadata","DefaultWeakMap","createItem","items","super","isThenable","then","makeCallback","promise","callbackArgs","lastError","reject","message","singleCallbackArg","resolve","pluralizeArguments","numArgs","wrapAsyncFunction","asyncFunctionWrapper","minArgs","maxArgs","Promise","fallbackToNoCallback","cbError","noCallback","wrapMethod","targetMethod","thisObj","wrapObject","wrappers","cache","handlers","proxyTarget","desc","Reflect","deleteProperty","wrapEvent","wrapperMap","addListener","listener","hasListener","removeListener","onRequestFinishedWrappers","onRequestFinished","req","wrappedReq","getContent","onMessageWrappers","onMessage","sender","sendResponse","wrappedSendResponse","didCallSendResponse","sendResponsePromise","response","err","isResultThenable","sendPromisedResult","msg","__mozWebExtensionPolyfillReject__","catch","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","sendMessage","staticWrappers","devtools","network","onMessageExternal","tabs","settingMetadata","clear","privacy","services","websites","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","d","o","UnknownFieldHandler","WireType","reflectionMergePartial","fieldValue","output","field","fields","localName","oneof","group","oneofKind","repeat","kind","T","mergePartial","assign","k","for","onRead","typeName","fieldNo","wireType","is","no","onWrite","writer","list","raw","uf","last","MESSAGE_TYPE","lowerCamelCase","snakeCase","capNext","sb","next","charAt","ScalarType","LongType","RepeatType","normalizeFieldInfo","_a","_b","_c","_d","jsonName","NO","opt","isOneofGroup","any","ReflectionTypeCheck","prepare","known","oneofs","allowExcessProperties","some","find","arg","repeated","scalars","L","scalar","INT32","messages","mapKeys","K","isAssignable","longType","argType","UINT64","FIXED64","INT64","SFIXED64","SINT64","BIGINT","NUMBER","isNaN","BOOL","STRING","BYTES","Uint8Array","DOUBLE","FLOAT","Number","isInteger","map","FIXED32","SFIXED32","SINT32","UINT32","parseInt","typeofJsonValue","t","encTable","decTable","charCodeAt","varint64read","lowBits","highBits","shift","b","buf","pos","assertBounds","middleByte","varint64write","lo","hi","bytes","hasNext","byte","splitBits","hasMoreBits","TWO_PWR_32_DBL","int64fromString","dec","minus","base","add1e6digit","begin","end","digit1e6","int64toString","bitsLow","bitsHigh","mid","high","digitA","digitB","digitC","decimalFrom1e7","digit1e7","needLeadingZeros","partial","varint32write","varint32read","readBytes","BI","detectBi","dv","DataView","ArrayBuffer","BigInt","getBigInt64","getBigUint64","setBigInt64","setBigUint64","MIN","MAX","UMIN","UMAX","C","assertBi","bi","RE_DECIMAL_STR","SharedPbLong","isZero","toNumber","isSafeInteger","PbULong","static","ZERO","getInt32","trim","toBigInt","setInt32","PbLong","pbl","negate","isNegative","assert","condition","assertInt32","assertUInt32","assertFloat32","isFinite","reflectionLongConvert","long","ReflectionJsonReader","fMap","fieldsInput","fieldName","jsonValue","what","read","oneofsHandled","jsonKey","ignoreUnknownFields","fieldObj","jsonObjKey","jsonObjValue","internalJsonRead","enum","fieldArr","jsonItem","json","localEnumName","substring","enumNumber","NaN","POSITIVE_INFINITY","NEGATIVE_INFINITY","float","int32","from","base64decode","base64Str","es","bytePos","groupPos","p","subarray","ReflectionJsonWriter","write","useProtoFieldName","emitDefaultValues","jsonObj","entryKey","entryValue","messageType","enumInfo","enumAsInteger","jsonArr","optional","internalJsonWrite","ed","ulong","byteLength","base64encode","base64","reflectionScalarDefault","ReflectionBinaryReader","fieldNoToField","Map","reader","u","readUnknownField","skip","arr","LengthDelimited","uint32","internalBinaryRead","mapKey","mapVal","mapEntry","bool","keyRaw","double","int64","uint64","fixed64","fixed32","sfixed32","sfixed64","sint32","sint64","ReflectionBinaryWriter","sort","emitDefault","PACKED","packed","writeUnknownFields","fork","keyValue","handler","internalBinaryWrite","isDefault","scalarInfo","m","Varint","Bit64","Bit32","defaultsWrite","prettySpaces","defaultsRead","objectValues","primitiveEq","ba","bb","repeatedPrimitiveEq","repeatedMsgEq","equals","writerFactory","BinaryWriter","textEncoder","stack","TextEncoder","chunks","finish","chunk","prev","pop","encode","buffer","setFloat32","setFloat64","setUint32","view","sign","readerFactory","BinaryReader","textDecoder","varint64","byteOffset","TextDecoder","fatal","ignoreBOM","StartGroup","EndGroup","RangeError","zze","s","getUint32","getFloat32","getFloat64","decode","MessageType","defaultCheckDepth","refTypeCheck","refJsonReader","refJsonWriter","refBinReader","refBinWriter","reflectionCreate","copy","reflectionEquals","val_a","val_b","fromBinary","binaryReadOptions","fromJson","jsonReadOptions","fromJsonString","JSON","parse","toJson","jsonWriteOptions","toJsonString","stringify","toBinary","binaryWriteOptions","CardType","ItemNote","ItemNote$Type","ItemLogin","ItemLogin$Type","username","password","urls","totpUri","ItemAlias","ItemAlias$Type","ItemCreditCard","ItemCreditCard$Type","cardholderName","cardType","verificationNumber","expirationDate","pin","AllowedAndroidApp","AllowedAndroidApp$Type","packageName","hashes","appName","AndroidSpecific","AndroidSpecific$Type","allowedApps","PlatformSpecific","PlatformSpecific$Type","android","ExtraTotp","ExtraTotp$Type","ExtraTextField","ExtraTextField$Type","content","ExtraHiddenField","ExtraHiddenField$Type","ExtraField","ExtraField$Type","totp","text","hidden","Metadata","Metadata$Type","note","itemUuid","Content","Content$Type","login","alias","creditCard","Item$Type","extraFields","platformSpecific","VaultIcon","VaultColor","VaultDisplayPreferences","VaultDisplayPreferences$Type","icon","color","Vault$Type","description","display","WorkerMessageType","async","on","onResponse","onSuccess","contentScriptMessage","CycleError","NoWindowError","best","iterable","by","isBetter","bestSoFar","bestKeySoFar","isFirst","maxes","bests","sum","total","assignOrAdd","addend","walk","element","shouldTraverse","child","childNodes","w","blockTags","Set","isBlock","tagName","inlineTexts","nodeType","TEXT_NODE","textContent","inlineTextLength","collapseWhitespace","str","isWhitespace","setDefault","defaultMaker","defaultValue","getDefault","toposort","nodes","nodesThatNeed","ret","todo","inProgress","visit","node","add","needer","delete","first","NiceSet","v","extend","otherSet","rootElement","ownerDocument","documentElement","toDomElement","fnodeOrElement","isDomElement","ancestors","parent","parentNode","ELEMENT_NODE","sigmoid","exp","Element","thing","nodeName","reversed","windowForElement","doc","win","defaultView","utilsForFrontend","freeze","__proto__","num","linkDensity","fnode","inlineLength","numberOfMatches","regex","haystack","page","scoringFunction","scoreAndTypeAndNote","score","domSort","fnodes","compare","position","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","attributesMatch","attrs","attributes","attr","getAttribute","isVisible","elementWindow","elementRect","getBoundingClientRect","elementStyle","getComputedStyle","width","height","overflow","visibility","y","ancestor","isElement","style","opacity","rect","rgbaFromString","parseFloat","saturation","r","cMax","cMin","delta","lightness","denom","abs","linearScale","zeroAt","oneAt","numStrides","left","right","sibling","shouldContinue","nextSibling","previousSibling","distance","fnodeA","fnodeB","differentDepthCost","differentTagCost","sameTagCost","strideCost","additionalCost","elementA","elementB","aAncestors","bAncestors","aAncestor","bAncestor","contains","comparison","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","MAX_VALUE","cost","l","euclidean","xCenter","domRect","yCenter","top","aRect","bRect","sqrt","DistanceMatrix","elements","_matrix","clusters","outerCluster","innerMap","innerCluster","_numClusters","closest","clustersAndDistances","outerKey","row","innerKey","storedDistance","_cachedDistance","clusterA","clusterB","merge","newRow","inner","numClusters","splittingDistance","getDistance","matrix","clusters$1","Lhs","_predicate","firstCall","TypeLhs","AndLhs","NearestLhs","when","lhs","fnodesSatisfyingWhen","checkFact","fact","guaranteedType","aggregatedType","DomLhs","selector","_callName","ruleset","_domNodesToFilteredFnodes","querySelectorAll","domNodes","fnodeForElement","asLhs","possibleTypeCombinations","typesMentioned","_type","cached","typeCache","inputType","TypeMaxLhs","bestCluster","BestClusterLhs","AggregateTypeLhs","getSuperFnodes","maxCache","maxFnodesOfType","weightedScore","scoresSoFarFor","_options","fnodesOfType","clust","scoreFor","clustAndSum","lhss","_args","sideToTypeLhs","fnodeLoop","otherLhs","hasType","side","_distance","as_","bs","nearest","rhsTransformer","setNoteIfEmpty","SUBFACTS","out","OutwardRhs","InwardRhs","calls","Infinity","types","_calls","_max","_types","atMost","_checkAtMost","props","callback","getSubfacts","subfacts","subfact","possibleSubfacts","theType","typeIn","_checkTypeIn","leftType","scoreOrCallback","getSubfactsFromNumber","getSubfactsFromFunction","doneKinds","haveSubfacts","newSubfacts","possibleEmissions","couldChangeType","possibleTypes","through","allThrough","allCallback","asRhs","Side","_and","and","_asSide","fromFirstCall","pred","Fnode","_ruleset","_conservedScores","_computeType","biases","noteFor","_noteSoFarFor","hasNoteFor","_hasNoteSoFarFor","typesSoFar","_typeRecordForGetting","addScoreFor","ruleName","_typeRecordForSetting","setNoteFor","rule","rhs","OutwardRule","InwardRule","nextRuleNumber","Rule","newInternalRuleName","prerequisites","extendOrThrow","prereqs","ruleGetter","verb","rules","_typesFinalized","inwardRulesThatCouldEmit","inwardRulesThatCouldAdd","results","doneRules","leftResults","returnedFnodes","updateFnode","leftResult","leftFnode","rightFnode","rightType","typesItCouldEmit","typesItCouldAdd","typesThatCouldChange","emissions","combo","rhsType","justFnode","fnodeOrStruct","HIDDEN_FIELD_IGNORE_VALUES","sanitizeString","EL_ATTRIBUTES","FORM_ATTRIBUTES","flat","FIELD_ATTRIBUTES","getAttributes","Boolean","DETECTED_FIELD_TYPE_ATTR","DETECTED_FORM_TYPE_ATTR","IGNORE_ELEMENT_ATTR","PROCESSED_FORM_ATTR","PROCESSED_FIELD_ATTR","kUsernameSelector","kHiddenUsernameSelector","fieldSelector","flatMap","inputSelector","passwordSelector","throughEffect","effect","setIgnoreFlag","setAttribute","setFormProcessed","setFieldProcessed","updateAttribute","visible","update","setFieldType","setFormType","featureScore","features","reduce","belongsToType","hasDetectedType","outRuleWithPredetectedAttr","throughFn","typeOut","outRuleForm","outRuleField","memoize","memoisedFn","clearCache","VALID_INPUT_TYPES","inputFilter","matches","formFilter","form","fieldCount","inputCount","invalidCount","pageForm","bodyElCount","body","MULTI_STEP_RE","TROUBLE_RE","PASSWORD_RE","USERNAME_RE","EMAIL_RE","CONFIRM_ACTION_RE","CONFIRM_ACTION_ATTR_END_RE","NEWSLETTER_RE","notRe","reg","andRe","re","orRe","or","reSanityCheck","cb","maxLength","minLength","tests","every","matchEmailValue","matchPasswordReset","matchPasswordCreate","matchPasswordCurrent","FormType","FieldType","isActiveFieldFNode","readonly","disabled","fType","fMatch","fMode","inputMode","fActive","linearScale$1","utils","results$a","coeffs","bias","cutoff","FORM_COMBINED_FEATURES","arr1","arr2","item1","item2","combineFeatures","LOGIN","feat","results$9","results$8","PASSWORD_CHANGE","results$7","REGISTER","results$6","RECOVERY","PW_FIELD_FEATURES","MFA","results$5","results$4","PASSWORD_CURRENT","USERNAME_FIELD_FEATURES","PASSWORD_NEW","results$3","HIDDEN_USER_FIELD_FEATURES","USERNAME","results$2","EMAIL_FIELD_FEATURES","USERNAME_HIDDEN","results$1","EMAIL","OTP_FIELD_FEATURES","OTP","DropdownAction","FieldInjectionRule","INPUT_BASE_STYLES_ATTR","cleanupInputInjectedStyles","getURL","FIRST_OF_FORM","AUTOFILL","NEVER","FIRST_OF_TYPE","AUTOSUGGEST_ALIAS","AUTOSUGGEST_PASSWORD","NOOP","ALWAYS","initialStyles","getInputInitialStyles","setProperty","removeProperty","removeAttribute","getIFrameRoot","querySelector","listeners","createListenerStore","cancelDebounce","cancel","addEventListener","addObserver","mutationCb","observer","MutationObserver","disconnect","observe","addResizeObserver","resizeCb","ResizeObserver","removeAll","removeEventListener","clientLoaded","unregister","registerClient","LOAD_CONTENT_SCRIPT","res","START_CONTENT_SCRIPT","unloadClient","UNLOAD_CONTENT_SCRIPT","handleFrameVisibilityChange","visibilityState","DOMCleanUp","parentElement","removeChild","remove","script","src","head","appendChild","loadCustomElements","isMainFrame"],"sourceRoot":""}